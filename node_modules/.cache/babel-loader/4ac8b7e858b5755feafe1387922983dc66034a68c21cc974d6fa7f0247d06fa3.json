{"ast":null,"code":"import { ref, inject, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  __name: 'UpdateShow',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const residentAxios = inject('residentAxios', null);\n    const axiosFallback = window.axios || null;\n    const route = useRoute();\n    const update = ref(null);\n    const loading = ref(false);\n    const error = ref(null);\n    const load = async () => {\n      loading.value = true;\n      error.value = null;\n      try {\n        const http = residentAxios || axiosFallback;\n        const res = await http.get(`/disaster-updates/${route.params.id}`);\n        update.value = res.data.data || res.data;\n      } catch (e) {\n        console.error(e);\n        error.value = 'Failed to load';\n      } finally {\n        loading.value = false;\n      }\n    };\n    const formatDate = s => s ? new Date(s).toLocaleString() : 'N/A';\n    onMounted(load);\n    const __returned__ = {\n      residentAxios,\n      axiosFallback,\n      route,\n      update,\n      loading,\n      error,\n      load,\n      formatDate,\n      ref,\n      inject,\n      onMounted,\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","inject","onMounted","useRoute","residentAxios","axiosFallback","window","axios","route","update","loading","error","load","value","http","res","get","params","id","data","e","console","formatDate","s","Date","toLocaleString"],"sources":["C:/VUEprojects/crud-app/src/pages/updates/UpdateShow.vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <div class=\"flex items-center justify-between\">\r\n      <h1 class=\"text-2xl font-bold\">Update Details</h1>\r\n      <router-link to=\"/updates\" class=\"px-4 py-2 bg-gray-300 rounded\">← Back</router-link>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"py-6\">Loading…</div>\r\n    <div v-if=\"error\" class=\"text-red-700\">{{ error }}</div>\r\n\r\n    <div v-if=\"update\">\r\n      <div class=\"p-4 border rounded\">\r\n        <h2 class=\"text-xl font-semibold\">{{ update.title }}</h2>\r\n        <div class=\"text-sm text-gray-600\">{{ update.source }} • {{ formatDate(update.issued_at) }}</div>\r\n        <p class=\"mt-3 text-gray-700\">{{ update.description }}</p>\r\n        <p class=\"mt-2\"><strong>Type:</strong> {{ update.disaster_type }}</p>\r\n        <p><strong>Severity:</strong> {{ update.severity }}</p>\r\n        <p><strong>Coordinates:</strong> {{ update.latitude ?? 'N/A' }}, {{ update.longitude ?? 'N/A' }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, inject, onMounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\nconst residentAxios = inject('residentAxios', null);\r\nconst axiosFallback = window.axios || null;\r\nconst route = useRoute();\r\n\r\nconst update = ref(null);\r\nconst loading = ref(false);\r\nconst error = ref(null);\r\n\r\nconst load = async () => {\r\n  loading.value = true; error.value = null;\r\n  try {\r\n    const http = residentAxios || axiosFallback;\r\n    const res = await http.get(`/disaster-updates/${route.params.id}`);\r\n    update.value = res.data.data || res.data;\r\n  } catch (e) { console.error(e); error.value = 'Failed to load'; }\r\n  finally { loading.value = false; }\r\n};\r\n\r\nconst formatDate = (s) => s ? new Date(s).toLocaleString() : 'N/A';\r\n\r\nonMounted(load);\r\n</script>\r\n"],"mappings":"AAwBA,SAASA,GAAG,EAAEC,MAAM,EAAEC,SAAS,QAAQ,KAAK;AAC5C,SAASC,QAAQ,QAAQ,YAAY;;;;;;;IAErC,MAAMC,aAAa,GAAGH,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC;IACnD,MAAMI,aAAa,GAAGC,MAAM,CAACC,KAAK,IAAI,IAAI;IAC1C,MAAMC,KAAK,GAAGL,QAAQ,CAAC,CAAC;IAExB,MAAMM,MAAM,GAAGT,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMU,OAAO,GAAGV,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMW,KAAK,GAAGX,GAAG,CAAC,IAAI,CAAC;IAEvB,MAAMY,IAAI,GAAG,MAAAA,CAAA,KAAY;MACvBF,OAAO,CAACG,KAAK,GAAG,IAAI;MAAEF,KAAK,CAACE,KAAK,GAAG,IAAI;MACxC,IAAI;QACF,MAAMC,IAAI,GAAGV,aAAa,IAAIC,aAAa;QAC3C,MAAMU,GAAG,GAAG,MAAMD,IAAI,CAACE,GAAG,CAAC,qBAAqBR,KAAK,CAACS,MAAM,CAACC,EAAE,EAAE,CAAC;QAClET,MAAM,CAACI,KAAK,GAAGE,GAAG,CAACI,IAAI,CAACA,IAAI,IAAIJ,GAAG,CAACI,IAAI;MAC1C,CAAC,CAAC,OAAOC,CAAC,EAAE;QAAEC,OAAO,CAACV,KAAK,CAACS,CAAC,CAAC;QAAET,KAAK,CAACE,KAAK,GAAG,gBAAgB;MAAE,CAAC,SACzD;QAAEH,OAAO,CAACG,KAAK,GAAG,KAAK;MAAE;IACnC,CAAC;IAED,MAAMS,UAAU,GAAIC,CAAC,IAAKA,CAAC,GAAG,IAAIC,IAAI,CAACD,CAAC,CAAC,CAACE,cAAc,CAAC,CAAC,GAAG,KAAK;IAElEvB,SAAS,CAACU,IAAI,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}