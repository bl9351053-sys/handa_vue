{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"evac-detail\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"card-header\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"col\"\n};\nconst _hoisted_7 = {\n  class: \"muted\"\n};\nconst _hoisted_8 = {\n  class: \"stats\"\n};\nconst _hoisted_9 = {\n  class: \"scores\"\n};\nconst _hoisted_10 = {\n  style: {\n    \"margin-top\": \"12px\"\n  }\n};\nconst _hoisted_11 = {\n  class: \"col map-box\"\n};\nconst _hoisted_12 = {\n  class: \"map-placeholder\"\n};\nconst _hoisted_13 = {\n  class: \"coords\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"card mt-12\"\n};\nconst _hoisted_15 = {\n  class: \"card-body\"\n};\nconst _hoisted_16 = {\n  class: \"list\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, _toDisplayString($setup.area.name || 'Evacuation Area'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h2\", null, _toDisplayString($setup.area.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($setup.area.address), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", null, [_cache[0] || (_cache[0] = _createTextVNode(\"Capacity: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($setup.area.capacity ?? '—'), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_cache[1] || (_cache[1] = _createTextVNode(\"Occupancy: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($setup.area.current_occupancy ?? 0), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_cache[2] || (_cache[2] = _createTextVNode(\"Status: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($setup.area.status ?? 'unknown'), 1 /* TEXT */)])]), _cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"Hazard Scores\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", null, \"Risk: \" + _toDisplayString($setup.area.risk_score ?? '—'), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Distance: \" + _toDisplayString($setup.area.distance_score ?? '—'), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Capacity: \" + _toDisplayString($setup.area.capacity_score ?? '—'), 1 /* TEXT */), _createElementVNode(\"div\", null, \"Final: \" + _toDisplayString($setup.area.final_score ?? '—'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_router_link, {\n    to: `/resident_pages/evacuation-areas/${$setup.area.id}/register-family`,\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"Register My Family\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", null, \"Map placeholder\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_13, _toDisplayString($setup.area.latitude) + \", \" + _toDisplayString($setup.area.longitude), 1 /* TEXT */)])])])])]), $setup.families && $setup.families.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \"Families Currently Inside\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"ul\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.families, f => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: f.id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(f.family_head_name), 1 /* TEXT */), _createTextVNode(\" — \" + _toDisplayString(f.total_members) + \" members \", 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$setup","area","name","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","address","_hoisted_8","capacity","current_occupancy","status","_hoisted_9","risk_score","distance_score","capacity_score","final_score","_hoisted_10","_createVNode","_component_router_link","to","id","_cache","_hoisted_11","_hoisted_12","_hoisted_13","latitude","longitude","families","length","_hoisted_14","_hoisted_15","_hoisted_16","_Fragment","_renderList","f","key","family_head_name","total_members"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\resident_pages\\EvacuationAreaDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"evac-detail\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">{{ area.name || 'Evacuation Area' }}</div>\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col\">\r\n            <h2>{{ area.name }}</h2>\r\n            <p class=\"muted\">{{ area.address }}</p>\r\n            <div class=\"stats\">\r\n              <div>Capacity: <strong>{{ area.capacity ?? '—' }}</strong></div>\r\n              <div>Occupancy: <strong>{{ area.current_occupancy ?? 0 }}</strong></div>\r\n              <div>Status: <strong>{{ area.status ?? 'unknown' }}</strong></div>\r\n            </div>\r\n            <h3>Hazard Scores</h3>\r\n            <div class=\"scores\">\r\n              <div>Risk: {{ area.risk_score ?? '—' }}</div>\r\n              <div>Distance: {{ area.distance_score ?? '—' }}</div>\r\n              <div>Capacity: {{ area.capacity_score ?? '—' }}</div>\r\n              <div>Final: {{ area.final_score ?? '—' }}</div>\r\n            </div>\r\n            <div style=\"margin-top:12px\">\r\n              <router-link :to=\"`/resident_pages/evacuation-areas/${area.id}/register-family`\" class=\"btn btn-primary\">Register My Family</router-link>\r\n            </div>\r\n          </div>\r\n          <div class=\"col map-box\">\r\n            <div class=\"map-placeholder\">\r\n              <div>Map placeholder</div>\r\n              <div class=\"coords\">{{ area.latitude }}, {{ area.longitude }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"families && families.length\" class=\"card mt-12\">\r\n      <div class=\"card-header\">Families Currently Inside</div>\r\n      <div class=\"card-body\">\r\n        <ul class=\"list\">\r\n          <li v-for=\"f in families\" :key=\"f.id\">\r\n            <strong>{{ f.family_head_name }}</strong> — {{ f.total_members }} members\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, inject } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nconst route = useRoute();\r\nconst residentAxios = inject('residentAxios', null);\r\nconst axiosFallback = (await import('axios')).default;\r\n\r\nconst area = ref({});\r\nconst families = ref([]);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\n\r\nasync function fetchArea() {\r\n  loading.value = true;\r\n  error.value = null;\r\n  try {\r\n    const id = route.params.id;\r\n    const http = residentAxios || axiosFallback;\r\n    const res = await http.get(`/evacuation-areas/${id}`);\r\n    // API may return object or wrapper; try to detect\r\n    const payload = res.data;\r\n    area.value = (payload.evacuationArea ?? payload) || {};\r\n    families.value = payload.families ?? payload.evacuationArea?.families ?? [];\r\n  } catch (e) {\r\n    console.error(e);\r\n    error.value = e.response?.data?.message || e.message || 'Failed to load area';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\nonMounted(fetchArea);\r\n</script>\r\n\r\n<style scoped>\r\n.evac-detail { padding: 1rem; max-width: 1000px; margin: 0 auto; }\r\n.row { display:flex; gap:1rem; }\r\n.col { flex:1; }\r\n.map-box { max-width: 360px; }\r\n.map-placeholder { background:#f7fafc; border:1px dashed #dbeafe; padding: 12px; border-radius:8px; text-align:center; }\r\n.coords { margin-top:8px; color:#666; font-size:0.9rem; }\r\n.scores { display:flex; gap:1rem; flex-wrap:wrap; margin-top:8px; }\r\n.muted { color:#666; }\r\n.btn { padding: 0.5rem 0.9rem; border-radius:6px; text-decoration:none; color:#fff; background:#667eea; }\r\n.mt-12 { margin-top: 12px; }\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAa;;EACnBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAK;;EAEXA,KAAK,EAAC;AAAO;;EACXA,KAAK,EAAC;AAAO;;EAMbA,KAAK,EAAC;AAAQ;;EAMdC,KAAuB,EAAvB;IAAA;EAAA;AAAuB;;EAIzBD,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAiB;;EAErBA,KAAK,EAAC;AAAQ;;;EAOWA,KAAK,EAAC;;;EAEvCA,KAAK,EAAC;AAAW;;EAChBA,KAAK,EAAC;AAAM;;;uBArCtBE,mBAAA,CA4CM,OA5CNC,UA4CM,GA3CJC,mBAAA,CA+BM,OA/BNC,UA+BM,GA9BJD,mBAAA,CAAmE,OAAnEE,UAAmE,EAAAC,gBAAA,CAAvCC,MAAA,CAAAC,IAAI,CAACC,IAAI,uCACrCN,mBAAA,CA4BM,OA5BNO,UA4BM,GA3BJP,mBAAA,CA0BM,OA1BNQ,UA0BM,GAzBJR,mBAAA,CAkBM,OAlBNS,UAkBM,GAjBJT,mBAAA,CAAwB,YAAAG,gBAAA,CAAjBC,MAAA,CAAAC,IAAI,CAACC,IAAI,kBAChBN,mBAAA,CAAuC,KAAvCU,UAAuC,EAAAP,gBAAA,CAAnBC,MAAA,CAAAC,IAAI,CAACM,OAAO,kBAChCX,mBAAA,CAIM,OAJNY,UAIM,GAHJZ,mBAAA,CAAgE,c,2CAA3D,YAAU,qBAAAA,mBAAA,CAA2C,gBAAAG,gBAAA,CAAhCC,MAAA,CAAAC,IAAI,CAACQ,QAAQ,wB,GACvCb,mBAAA,CAAwE,c,2CAAnE,aAAW,qBAAAA,mBAAA,CAAkD,gBAAAG,gBAAA,CAAvCC,MAAA,CAAAC,IAAI,CAACS,iBAAiB,sB,GACjDd,mBAAA,CAAkE,c,2CAA7D,UAAQ,qBAAAA,mBAAA,CAA+C,gBAAAG,gBAAA,CAApCC,MAAA,CAAAC,IAAI,CAACU,MAAM,8B,+BAErCf,mBAAA,CAAsB,YAAlB,eAAa,qBACjBA,mBAAA,CAKM,OALNgB,UAKM,GAJJhB,mBAAA,CAA6C,aAAxC,QAAM,GAAAG,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACY,UAAU,yBAC7BjB,mBAAA,CAAqD,aAAhD,YAAU,GAAAG,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACa,cAAc,yBACrClB,mBAAA,CAAqD,aAAhD,YAAU,GAAAG,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACc,cAAc,yBACrCnB,mBAAA,CAA+C,aAA1C,SAAO,GAAAG,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACe,WAAW,wB,GAEjCpB,mBAAA,CAEM,OAFNqB,WAEM,GADJC,YAAA,CAAyIC,sBAAA;IAA3HC,EAAE,sCAAsCpB,MAAA,CAAAC,IAAI,CAACoB,EAAE;IAAoB7B,KAAK,EAAC;;sBAAkB,MAAkB,KAAA8B,MAAA,QAAAA,MAAA,O,iBAAlB,oBAAkB,mB;;iCAG/H1B,mBAAA,CAKM,OALN2B,WAKM,GAJJ3B,mBAAA,CAGM,OAHN4B,WAGM,G,0BAFJ5B,mBAAA,CAA0B,aAArB,iBAAe,qBACpBA,mBAAA,CAAmE,OAAnE6B,WAAmE,EAAA1B,gBAAA,CAA5CC,MAAA,CAAAC,IAAI,CAACyB,QAAQ,IAAG,IAAE,GAAA3B,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAAC0B,SAAS,iB,WAOzD3B,MAAA,CAAA4B,QAAQ,IAAI5B,MAAA,CAAA4B,QAAQ,CAACC,MAAM,I,cAAtCnC,mBAAA,CASM,OATNoC,WASM,G,0BARJlC,mBAAA,CAAwD;IAAnDJ,KAAK,EAAC;EAAa,GAAC,2BAAyB,qBAClDI,mBAAA,CAMM,OANNmC,WAMM,GALJnC,mBAAA,CAIK,MAJLoC,WAIK,I,kBAHHtC,mBAAA,CAEKuC,SAAA,QAAAC,WAAA,CAFWlC,MAAA,CAAA4B,QAAQ,EAAbO,CAAC;yBAAZzC,mBAAA,CAEK;MAFsB0C,GAAG,EAAED,CAAC,CAACd;QAChCzB,mBAAA,CAAyC,gBAAAG,gBAAA,CAA9BoC,CAAC,CAACE,gBAAgB,kB,iBAAY,KAAG,GAAAtC,gBAAA,CAAGoC,CAAC,CAACG,aAAa,IAAG,WACnE,gB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}