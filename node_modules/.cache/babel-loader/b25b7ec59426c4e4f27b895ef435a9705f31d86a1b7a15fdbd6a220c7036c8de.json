{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport api from '../services/api';\nexport default {\n  __name: 'PredictionsList',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const predictions = ref([]);\n    function formatDate(dt) {\n      if (!dt) return 'N/A';\n      try {\n        return new Date(dt).toLocaleString();\n      } catch {\n        return dt;\n      }\n    }\n    async function load() {\n      try {\n        const res = await api.get('/disaster-predictions');\n        predictions.value = res.data;\n      } catch (e) {\n        console.error('Failed to load predictions', e);\n      }\n    }\n    async function remove(id) {\n      if (!confirm('Delete this prediction?')) return;\n      try {\n        await api.delete(`/disaster-predictions/${id}`);\n        await load();\n      } catch (e) {\n        console.error('delete failed', e);\n        alert('Delete failed');\n      }\n    }\n    onMounted(load);\n    const __returned__ = {\n      predictions,\n      formatDate,\n      load,\n      remove,\n      ref,\n      onMounted,\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","api","predictions","formatDate","dt","Date","toLocaleString","load","res","get","value","data","e","console","error","remove","id","confirm","delete","alert"],"sources":["C:/VUEprojects/crud-app/src/pages/PredictionsList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"flex justify-between items-center mb-6\">\r\n      <div>\r\n        <h2 class=\"text-2xl font-semibold\">Disaster Predictions</h2>\r\n        <p class=\"text-sm text-gray-500\">Manage disaster predictions and forecasts</p>\r\n      </div>\r\n      <router-link to=\"/predictions/create\" class=\"bg-blue-600 text-white px-4 py-2 rounded\">Add Prediction</router-link>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded shadow overflow-hidden\">\r\n      <table class=\"min-w-full divide-y divide-gray-200 w-full\">\r\n        <thead class=\"bg-gray-50\">\r\n          <tr>\r\n            <th class=\"px-4 py-2 text-left text-xs text-gray-500\">Location</th>\r\n            <th class=\"px-4 py-2 text-left text-xs text-gray-500\">Disaster Type</th>\r\n            <th class=\"px-4 py-2 text-left text-xs text-gray-500\">Risk Level</th>\r\n            <th class=\"px-4 py-2 text-left text-xs text-gray-500\">Recovery Days</th>\r\n            <th class=\"px-4 py-2 text-left text-xs text-gray-500\">Predicted At</th>\r\n            <th class=\"px-4 py-2 text-left text-xs text-gray-500\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"bg-white divide-y divide-gray-200\">\r\n          <tr v-for=\"p in predictions\" :key=\"p.id\">\r\n            <td class=\"px-4 py-2\">\r\n              <div class=\"font-medium text-gray-900\">{{ p.location_name || 'N/A' }}</div>\r\n              <div class=\"text-sm text-gray-500\">{{ p.latitude }}, {{ p.longitude }}</div>\r\n            </td>\r\n            <td class=\"px-4 py-2\">\r\n              <div class=\"font-medium\">{{ p.disaster_type }}</div>\r\n              <div class=\"text-sm text-gray-500\">{{ p.description?.slice(0, 80) }}</div>\r\n            </td>\r\n            <td class=\"px-4 py-2\">{{ p.risk_level ?? 'N/A' }}/10</td>\r\n            <td class=\"px-4 py-2\">{{ p.predicted_recovery_days ? '~' + p.predicted_recovery_days + ' days' : 'N/A' }}</td>\r\n            <td class=\"px-4 py-2 text-sm text-gray-500\">{{ formatDate(p.predicted_at) }}</td>\r\n            <td class=\"px-4 py-2\">\r\n              <router-link :to=\"`/predictions/${p.id}`\" class=\"text-blue-600 mr-3\">View</router-link>\r\n              <router-link :to=\"`/predictions/${p.id}/edit`\" class=\"text-green-600 mr-3\">Edit</router-link>\r\n              <button @click=\"remove(p.id)\" class=\"text-red-600\">Delete</button>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"predictions.length === 0\">\r\n            <td colspan=\"6\" class=\"p-4 text-center text-gray-500\">No predictions found</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport api from '../services/api';\r\n\r\nconst predictions = ref([]);\r\n\r\nfunction formatDate(dt) {\r\n  if (!dt) return 'N/A';\r\n  try { return new Date(dt).toLocaleString(); } catch { return dt; }\r\n}\r\n\r\nasync function load() {\r\n  try {\r\n    const res = await api.get('/disaster-predictions');\r\n    predictions.value = res.data;\r\n  } catch (e) {\r\n    console.error('Failed to load predictions', e);\r\n  }\r\n}\r\n\r\nasync function remove(id) {\r\n  if (!confirm('Delete this prediction?')) return;\r\n  try {\r\n    await api.delete(`/disaster-predictions/${id}`);\r\n    await load();\r\n  } catch (e) {\r\n    console.error('delete failed', e);\r\n    alert('Delete failed');\r\n  }\r\n}\r\n\r\nonMounted(load);\r\n</script>\r\n\r\n<style scoped>\r\n.min-w-full { width: 100%; }\r\n</style>\r\n"],"mappings":"AAmDA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,GAAG,MAAM,iBAAiB;;;;;;;IAEjC,MAAMC,WAAW,GAAGH,GAAG,CAAC,EAAE,CAAC;IAE3B,SAASI,UAAUA,CAACC,EAAE,EAAE;MACtB,IAAI,CAACA,EAAE,EAAE,OAAO,KAAK;MACrB,IAAI;QAAE,OAAO,IAAIC,IAAI,CAACD,EAAE,CAAC,CAACE,cAAc,CAAC,CAAC;MAAE,CAAC,CAAC,MAAM;QAAE,OAAOF,EAAE;MAAE;IACnE;IAEA,eAAeG,IAAIA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMP,GAAG,CAACQ,GAAG,CAAC,uBAAuB,CAAC;QAClDP,WAAW,CAACQ,KAAK,GAAGF,GAAG,CAACG,IAAI;MAC9B,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,CAAC,CAAC;MAChD;IACF;IAEA,eAAeG,MAAMA,CAACC,EAAE,EAAE;MACxB,IAAI,CAACC,OAAO,CAAC,yBAAyB,CAAC,EAAE;MACzC,IAAI;QACF,MAAMhB,GAAG,CAACiB,MAAM,CAAC,yBAAyBF,EAAE,EAAE,CAAC;QAC/C,MAAMT,IAAI,CAAC,CAAC;MACd,CAAC,CAAC,OAAOK,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEF,CAAC,CAAC;QACjCO,KAAK,CAAC,eAAe,CAAC;MACxB;IACF;IAEAnB,SAAS,CAACO,IAAI,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}