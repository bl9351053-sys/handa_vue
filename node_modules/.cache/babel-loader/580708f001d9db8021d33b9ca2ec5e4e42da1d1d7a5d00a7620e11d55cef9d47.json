{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { residentAuthService, residentNotificationService } from '../../services/residentService';\nexport default {\n  __name: 'ResidentHeader',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const showUserMenu = ref(false);\n    const unreadCount = ref(0);\n    const userDisplayName = ref('User');\n    onMounted(async () => {\n      const user = JSON.parse(localStorage.getItem('resident_user') || '{}');\n      userDisplayName.value = user.name || 'Resident';\n      try {\n        const response = await residentNotificationService.getNotifications();\n        unreadCount.value = response.data.filter(n => !n.read).length;\n      } catch (error) {\n        console.error('Failed to fetch notifications:', error);\n      }\n    });\n    const toggleUserMenu = () => {\n      showUserMenu.value = !showUserMenu.value;\n    };\n    const toggleNotifications = () => {\n      router.push('/resident/notifications');\n    };\n    const goToProfile = () => {\n      showUserMenu.value = false;\n      router.push('/resident/profile');\n    };\n    const goToSettings = () => {\n      showUserMenu.value = false;\n      router.push('/resident/settings');\n    };\n    const logout = async () => {\n      try {\n        await residentAuthService.logout();\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        localStorage.removeItem('resident_token');\n        localStorage.removeItem('resident_user');\n        router.push('/resident/login');\n      }\n    };\n    const __returned__ = {\n      router,\n      showUserMenu,\n      unreadCount,\n      userDisplayName,\n      toggleUserMenu,\n      toggleNotifications,\n      goToProfile,\n      goToSettings,\n      logout,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get residentAuthService() {\n        return residentAuthService;\n      },\n      get residentNotificationService() {\n        return residentNotificationService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","residentAuthService","residentNotificationService","router","showUserMenu","unreadCount","userDisplayName","user","JSON","parse","localStorage","getItem","value","name","response","getNotifications","data","filter","n","read","length","error","console","toggleUserMenu","toggleNotifications","push","goToProfile","goToSettings","logout","removeItem"],"sources":["C:/VUEprojects/crud-app/src/components/resident_components/ResidentHeader.vue"],"sourcesContent":["<template>\r\n  <header class=\"resident-header\">\r\n    <div class=\"header-container\">\r\n      <div class=\"header-left\">\r\n        <h1 class=\"header-title\">Resident Portal</h1>\r\n      </div>\r\n      <div class=\"header-center\">\r\n        <span class=\"header-subtitle\">{{ userDisplayName }}</span>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <div class=\"notification-bell\" @click=\"toggleNotifications\">\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n            <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\r\n            <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\r\n          </svg>\r\n          <span v-if=\"unreadCount > 0\" class=\"notification-badge\">{{ unreadCount }}</span>\r\n        </div>\r\n        <div class=\"user-menu\">\r\n          <button @click=\"toggleUserMenu\" class=\"user-button\">\r\n            <span>{{ userDisplayName }}</span>\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n            </svg>\r\n          </button>\r\n          <div v-if=\"showUserMenu\" class=\"dropdown-menu\">\r\n            <a href=\"#\" @click.prevent=\"goToProfile\" class=\"dropdown-item\">Profile</a>\r\n            <a href=\"#\" @click.prevent=\"goToSettings\" class=\"dropdown-item\">Settings</a>\r\n            <hr class=\"dropdown-divider\">\r\n            <a href=\"#\" @click.prevent=\"logout\" class=\"dropdown-item logout-item\">Logout</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { residentAuthService, residentNotificationService } from '../../services/residentService';\r\n\r\nconst router = useRouter();\r\nconst showUserMenu = ref(false);\r\nconst unreadCount = ref(0);\r\nconst userDisplayName = ref('User');\r\n\r\nonMounted(async () => {\r\n  const user = JSON.parse(localStorage.getItem('resident_user') || '{}');\r\n  userDisplayName.value = user.name || 'Resident';\r\n  \r\n  try {\r\n    const response = await residentNotificationService.getNotifications();\r\n    unreadCount.value = response.data.filter(n => !n.read).length;\r\n  } catch (error) {\r\n    console.error('Failed to fetch notifications:', error);\r\n  }\r\n});\r\n\r\nconst toggleUserMenu = () => {\r\n  showUserMenu.value = !showUserMenu.value;\r\n};\r\n\r\nconst toggleNotifications = () => {\r\n  router.push('/resident/notifications');\r\n};\r\n\r\nconst goToProfile = () => {\r\n  showUserMenu.value = false;\r\n  router.push('/resident/profile');\r\n};\r\n\r\nconst goToSettings = () => {\r\n  showUserMenu.value = false;\r\n  router.push('/resident/settings');\r\n};\r\n\r\nconst logout = async () => {\r\n  try {\r\n    await residentAuthService.logout();\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n  } finally {\r\n    localStorage.removeItem('resident_token');\r\n    localStorage.removeItem('resident_user');\r\n    router.push('/resident/login');\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.resident-header {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n}\r\n\r\n.header-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  padding: 0 20px;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.header-left {\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.header-title {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n}\r\n\r\n.header-center {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.header-subtitle {\r\n  font-size: 14px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.notification-bell {\r\n  position: relative;\r\n  cursor: pointer;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.notification-bell:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n.notification-badge {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: -8px;\r\n  background-color: #ff4757;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n}\r\n\r\n.user-menu {\r\n  position: relative;\r\n}\r\n\r\n.user-button {\r\n  background: transparent;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.user-button:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n.dropdown-menu {\r\n  position: absolute;\r\n  top: 100%;\r\n  right: 0;\r\n  background: white;\r\n  color: #333;\r\n  border-radius: 4px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\r\n  min-width: 180px;\r\n  margin-top: 8px;\r\n  z-index: 1001;\r\n}\r\n\r\n.dropdown-item {\r\n  display: block;\r\n  padding: 10px 16px;\r\n  text-decoration: none;\r\n  color: #333;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.dropdown-item.logout-item {\r\n  color: #ff4757;\r\n}\r\n\r\n.dropdown-divider {\r\n  margin: 4px 0;\r\n  border: none;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header-center {\r\n    display: none;\r\n  }\r\n\r\n  .header-container {\r\n    padding: 0 10px;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 18px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;AAqCA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,mBAAmB,EAAEC,2BAA2B,QAAQ,gCAAgC;;;;;;;IAEjG,MAAMC,MAAM,GAAGH,SAAS,CAAC,CAAC;IAC1B,MAAMI,YAAY,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC/B,MAAMO,WAAW,GAAGP,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMQ,eAAe,GAAGR,GAAG,CAAC,MAAM,CAAC;IAEnCC,SAAS,CAAC,YAAY;MACpB,MAAMQ,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;MACtEL,eAAe,CAACM,KAAK,GAAGL,IAAI,CAACM,IAAI,IAAI,UAAU;MAE/C,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,2BAA2B,CAACa,gBAAgB,CAAC,CAAC;QACrEV,WAAW,CAACO,KAAK,GAAGE,QAAQ,CAACE,IAAI,CAACC,MAAM,CAACC,CAAC,IAAI,CAACA,CAAC,CAACC,IAAI,CAAC,CAACC,MAAM;MAC/D,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IACF,CAAC,CAAC;IAEF,MAAME,cAAc,GAAGA,CAAA,KAAM;MAC3BnB,YAAY,CAACQ,KAAK,GAAG,CAACR,YAAY,CAACQ,KAAK;IAC1C,CAAC;IAED,MAAMY,mBAAmB,GAAGA,CAAA,KAAM;MAChCrB,MAAM,CAACsB,IAAI,CAAC,yBAAyB,CAAC;IACxC,CAAC;IAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACxBtB,YAAY,CAACQ,KAAK,GAAG,KAAK;MAC1BT,MAAM,CAACsB,IAAI,CAAC,mBAAmB,CAAC;IAClC,CAAC;IAED,MAAME,YAAY,GAAGA,CAAA,KAAM;MACzBvB,YAAY,CAACQ,KAAK,GAAG,KAAK;MAC1BT,MAAM,CAACsB,IAAI,CAAC,oBAAoB,CAAC;IACnC,CAAC;IAED,MAAMG,MAAM,GAAG,MAAAA,CAAA,KAAY;MACzB,IAAI;QACF,MAAM3B,mBAAmB,CAAC2B,MAAM,CAAC,CAAC;MACpC,CAAC,CAAC,OAAOP,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC,CAAC,SAAS;QACRX,YAAY,CAACmB,UAAU,CAAC,gBAAgB,CAAC;QACzCnB,YAAY,CAACmB,UAAU,CAAC,eAAe,CAAC;QACxC1B,MAAM,CAACsB,IAAI,CAAC,iBAAiB,CAAC;MAChC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}