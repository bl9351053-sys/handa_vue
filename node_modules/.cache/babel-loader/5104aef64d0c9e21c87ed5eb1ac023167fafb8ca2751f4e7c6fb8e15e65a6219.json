{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, onMounted, inject } from 'vue';\nexport default {\n  __name: 'EvacuationAreaList',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const residentAxios = inject('residentAxios', null);\n    let axiosFallback = null;\n    const areas = ref([]);\n    const loading = ref(true);\n    const error = ref(null);\n    const predictedEvacuees = ref(0);\n    const topArea = ref(null);\n    const csrfToken = ref(document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || '');\n    const showPredictions = ref(true);\n    const showFaultLines = ref(false);\n    const showAddLocation = ref(false);\n    const locationStatus = ref('');\n    // Toggle to enable/disable the map. Set to false to avoid map-related freezes while debugging.\n    const mapEnabled = ref(false);\n    let leafletLib = null;\n    let map = null;\n    let markersLayer = null;\n    let userMarker = null;\n    async function initMapIfNeeded() {\n      // Leaflet map disabled due to freeze issues; map remains a placeholder\n      console.debug('[Evac] map initialization skipped (disabled)');\n      return;\n    }\n    function addMarkersToMap(areasArr = []) {\n      if (!leafletLib || !map || !markersLayer) {\n        console.debug('[Evac] addMarkersToMap: leaflet not ready');\n        return;\n      }\n      try {\n        markersLayer.clearLayers();\n        const bounds = [];\n        areasArr.forEach(area => {\n          if (!area || area.latitude == null || area.longitude == null) return;\n          const lat = parseFloat(area.latitude);\n          const lng = parseFloat(area.longitude);\n          if (Number.isNaN(lat) || Number.isNaN(lng)) return;\n          try {\n            const marker = leafletLib.marker([lat, lng]).addTo(markersLayer);\n            const popup = `\n        <div style=\"min-width:200px;\">\n          <strong>${area.name}</strong>\n          <div style=\"color:#666;\">${area.address ?? ''}</div>\n          <div style=\"margin-top:6px;\"><strong>Capacity:</strong> ${area.capacity ?? '‚Äî'} ¬∑ <strong>Occupancy:</strong> ${area.current_occupancy ?? 0}</div>\n          <div style=\"margin-top:6px;\">Score: ${area.final_score ?? '‚Äî'}</div>\n          <div style=\"margin-top:8px;\"><a href=\"/evacuation-areas/${area.id}\" class=\"btn btn-primary\" style=\"display:inline-block; width:100%\">View Details</a></div>\n        </div>`;\n            marker.bindPopup(popup);\n            bounds.push([lat, lng]);\n          } catch (err) {\n            console.warn('[Evac] failed to add marker for area', area && area.id, err);\n          }\n        });\n        if (bounds.length) {\n          try {\n            map.fitBounds(bounds, {\n              padding: [40, 40]\n            });\n          } catch (e) {\n            console.warn('[Evac] fitBounds failed', e);\n          }\n        }\n      } catch (err) {\n        console.error('[Evac] addMarkersToMap failure', err);\n      }\n    }\n    async function fetchAreas() {\n      loading.value = true;\n      error.value = null;\n      // set a watchdog to avoid indefinite loading\n      const watchdog = setTimeout(() => {\n        console.warn('[Evac] fetchAreas watchdog triggered');\n        loading.value = false;\n      }, 15000);\n      try {\n        if (!axiosFallback) {\n          const mod = await import('axios');\n          axiosFallback = mod.default || mod;\n        }\n        const http = residentAxios || axiosFallback;\n        console.debug('[Evac] fetching areas with http client', !!residentAxios, !!axiosFallback);\n        const res = await http.get('/evacuation-areas');\n        areas.value = res.data || [];\n        // compute predicted and top area\n        predictedEvacuees.value = 29.41; // default placeholder\n        topArea.value = areas.value.slice().sort((a, b) => (b.final_score || 0) - (a.final_score || 0))[0] || null;\n\n        // initialize map and markers (only if enabled)\n        if (mapEnabled.value) {\n          await initMapIfNeeded();\n          addMarkersToMap(areas.value);\n        }\n      } catch (e) {\n        console.error(e);\n        error.value = e.response?.data?.message || e.message || 'Failed to load evacuation areas';\n      } finally {\n        try {\n          clearTimeout(watchdog);\n        } catch (e) {/* ignore */}\n        loading.value = false;\n      }\n    }\n\n    // Fallback fetch that does not touch the map; used when mapEnabled is false\n    async function fetchAreasNoMap() {\n      loading.value = true;\n      error.value = null;\n      try {\n        if (!axiosFallback) {\n          const mod = await import('axios');\n          axiosFallback = mod.default || mod;\n        }\n        const http = residentAxios || axiosFallback;\n        console.debug('[Evac] fetching areas (no-map)');\n        const res = await http.get('/evacuation-areas');\n        areas.value = res.data || [];\n        predictedEvacuees.value = 29.41;\n        topArea.value = areas.value.slice().sort((a, b) => (b.final_score || 0) - (a.final_score || 0))[0] || null;\n      } catch (e) {\n        console.error('[Evac] fetchAreasNoMap failed', e);\n        error.value = e.response?.data?.message || e.message || 'Failed to load evacuation areas (no-map)';\n      } finally {\n        loading.value = false;\n      }\n    }\n    function getLocation() {\n      locationStatus.value = 'Getting location...';\n      if (!navigator.geolocation) {\n        locationStatus.value = 'Geolocation not supported';\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(pos => {\n        const lat = pos.coords.latitude;\n        const lng = pos.coords.longitude;\n        locationStatus.value = `Lat ${lat.toFixed(6)}, Lng ${lng.toFixed(6)}`;\n        showAddLocation.value = true;\n        if (map && leafletLib) {\n          if (userMarker) {\n            try {\n              markersLayer.removeLayer(userMarker);\n            } catch (e) {/* ignore */}\n          }\n          userMarker = leafletLib.marker([lat, lng], {\n            title: 'You are here'\n          }).addTo(map);\n          userMarker.bindPopup('<strong>You are here</strong>').openPopup();\n          try {\n            map.setView([lat, lng], 13);\n          } catch (e) {/* ignore */}\n        }\n      }, err => {\n        locationStatus.value = `Error: ${err.message}`;\n      });\n    }\n    function openAddLocation() {\n      // placeholder consistent with blade behaviour; modal not implemented here\n      alert('Add Location modal not implemented in resident UI yet');\n    }\n\n    // Use map-less fetch by default to ensure page responsiveness; toggle `mapEnabled` to true to enable map.\n    onMounted(() => {\n      if (mapEnabled.value) {\n        fetchAreas();\n      } else {\n        fetchAreasNoMap();\n      }\n    });\n    const __returned__ = {\n      residentAxios,\n      get axiosFallback() {\n        return axiosFallback;\n      },\n      set axiosFallback(v) {\n        axiosFallback = v;\n      },\n      areas,\n      loading,\n      error,\n      predictedEvacuees,\n      topArea,\n      csrfToken,\n      showPredictions,\n      showFaultLines,\n      showAddLocation,\n      locationStatus,\n      mapEnabled,\n      get leafletLib() {\n        return leafletLib;\n      },\n      set leafletLib(v) {\n        leafletLib = v;\n      },\n      get map() {\n        return map;\n      },\n      set map(v) {\n        map = v;\n      },\n      get markersLayer() {\n        return markersLayer;\n      },\n      set markersLayer(v) {\n        markersLayer = v;\n      },\n      get userMarker() {\n        return userMarker;\n      },\n      set userMarker(v) {\n        userMarker = v;\n      },\n      initMapIfNeeded,\n      addMarkersToMap,\n      fetchAreas,\n      fetchAreasNoMap,\n      getLocation,\n      openAddLocation,\n      ref,\n      onMounted,\n      inject\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","inject","residentAxios","axiosFallback","areas","loading","error","predictedEvacuees","topArea","csrfToken","document","querySelector","getAttribute","showPredictions","showFaultLines","showAddLocation","locationStatus","mapEnabled","leafletLib","map","markersLayer","userMarker","initMapIfNeeded","console","debug","addMarkersToMap","areasArr","clearLayers","bounds","forEach","area","latitude","longitude","lat","parseFloat","lng","Number","isNaN","marker","addTo","popup","name","address","capacity","current_occupancy","final_score","id","bindPopup","push","err","warn","length","fitBounds","padding","e","fetchAreas","value","watchdog","setTimeout","mod","default","http","res","get","data","slice","sort","a","b","response","message","clearTimeout","fetchAreasNoMap","getLocation","navigator","geolocation","getCurrentPosition","pos","coords","toFixed","removeLayer","title","openPopup","setView","openAddLocation","alert"],"sources":["C:/VUEprojects/crud-app/src/pages/resident_pages/EvacuationAreaList.vue"],"sourcesContent":["<template>\r\n  <div class=\"evac-list\">\r\n    <meta name=\"csrf-token\" :content=\"csrfToken\" />\r\n    \r\n    <!-- Map Section with Controls -->\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">üó∫Ô∏è Evacuation Areas Map</div>\r\n\r\n      <div class=\"controls\">\r\n        <label><input type=\"checkbox\" v-model=\"showPredictions\"> Show Disaster Predictions (Color-Coded by Severity)</label>\r\n        <label style=\"margin-left:12px\"><input type=\"checkbox\" v-model=\"showFaultLines\"> Show Earthquake Fault Lines</label>\r\n      </div>\r\n\r\n      <div class=\"info-box\">\r\n        <strong>üìä Prediction Severity:</strong>\r\n        <div class=\"legend\">\r\n          <span class=\"legend-item\"><span class=\"dot low\"></span> Low (1-3)</span>\r\n          <span class=\"legend-item\"><span class=\"dot moderate\"></span> Moderate (4-5)</span>\r\n          <span class=\"legend-item\"><span class=\"dot high\"></span> High (6-7)</span>\r\n          <span class=\"legend-item\"><span class=\"dot critical\"></span> Critical (8-10)</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"map\" class=\"map\"></div>\r\n\r\n      <div class=\"location-status-box\">\r\n        <h4>üìç Your Location</h4>\r\n        <div class=\"loc-controls\">\r\n          <button class=\"btn btn-success\" @click=\"getLocation\">Get My Location</button>\r\n          <button class=\"btn btn-primary\" v-if=\"userLocation\" @click=\"openAddLocation\">‚ûï Add My Location as Evacuation Area</button>\r\n        </div>\r\n        <div class=\"muted\">{{ locationStatus }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Prescriptive Analytics Section -->\r\n    <div class=\"p-6 mb-8\">\r\n      <div class=\"card prescriptive card-shadow\">\r\n        <div class=\"prescriptive-header\">\r\n          <div class=\"pred-left\">\r\n            <h2>üìä Prescriptive Analytics</h2>\r\n            <div class=\"small\">Predicted Evacuees</div>\r\n            <div class=\"big\">{{ predictedEvacuees }}</div>\r\n          </div>\r\n          <div class=\"pred-right\">\r\n            <div class=\"small\">Recommended Evacuation Area (by score)</div>\r\n            <div v-if=\"topArea\" class=\"top-area\">\r\n              <div class=\"name\">{{ topArea.name }} <small class=\"addr\">- {{ topArea.address }}</small></div>\r\n              <div class=\"meta\">Risk: <strong>{{ topArea.risk_score ?? 0 }}</strong> ¬∑ Remaining: <strong>{{ (topArea.capacity - (topArea.current_occupancy||0)) }}</strong></div>\r\n              <router-link :to=\"`/resident_pages/evacuation-areas/${topArea.id}`\" class=\"btn btn-primary mt-8\">Go to Area</router-link>\r\n            </div>\r\n            <div v-else class=\"small\">No recommended area available</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Evacuation Areas Table -->\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">üìã Evacuation Areas List</div>\r\n        <div v-if=\"loading\" class=\"center\">Loading evacuation areas‚Ä¶</div>\r\n        <div v-else-if=\"error\" class=\"error-msg\">{{ error }}</div>\r\n        <div v-else>\r\n          <div v-if=\"areas.length\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-custom\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <th>Address</th>\r\n                    <th>Capacity</th>\r\n                    <th>Current</th>\r\n                    <th>Status</th>\r\n                    <th>Risk Score</th>\r\n                    <th>Final Score</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"area in areas\" :key=\"area.id\">\r\n                    <td><strong>{{ area.name }}</strong></td>\r\n                    <td>{{ area.address }}</td>\r\n                    <td class=\"text-center\">{{ area.capacity ?? '‚Äî' }}</td>\r\n                    <td class=\"text-center\">{{ area.current_occupancy ?? 0 }}</td>\r\n                    <td>\r\n                      <span :class=\"['badge-custom', getStatusBadgeClass(area.status)]\">\r\n                        {{ area.status }}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"text-center\">\r\n                      <span :class=\"['hazard-badge', getHazardBadgeClass(area.risk_score)]\">\r\n                        {{ (area.risk_score ?? 0).toFixed(1) }}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"text-center\"><strong>{{ (area.final_score ?? 0).toFixed(1) }}</strong></td>\r\n                    <td>\r\n                      <router-link :to=\"`/resident_pages/evacuation-areas/${area.id}`\" class=\"btn btn-primary\">View</router-link>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"muted p-1\">No evacuation areas found.</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add Location Modal -->\r\n    <div v-if=\"showAddLocationModal\" class=\"modal-overlay\" @click.self=\"closeAddLocationModal\">\r\n      <div class=\"modal-content\">\r\n        <h3>‚ûï Add My Location as Evacuation Area</h3>\r\n        <form @submit.prevent=\"addLocationSubmit\">\r\n          <div class=\"form-row\">\r\n            <label>Area Name</label>\r\n            <input v-model=\"addLocationForm.name\" type=\"text\" placeholder=\"e.g., Community Center\" required />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Address</label>\r\n            <input v-model=\"addLocationForm.address\" type=\"text\" required />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Capacity</label>\r\n            <input v-model.number=\"addLocationForm.capacity\" type=\"number\" min=\"1\" required />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Contact Number</label>\r\n            <input v-model=\"addLocationForm.contact_number\" type=\"text\" />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Facilities</label>\r\n            <input v-model=\"addLocationForm.facilities\" type=\"text\" placeholder=\"e.g., Water, Food, Medical\" />\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n            <button type=\"button\" @click=\"closeAddLocationModal\" class=\"btn btn-secondary\">Cancel</button>\r\n          </div>\r\n          <div v-if=\"addLocationError\" class=\"error-msg\">{{ addLocationError }}</div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, inject } from 'vue';\r\nconst residentAxios = inject('residentAxios', null);\r\nlet axiosFallback = null;\r\n\r\nconst areas = ref([]);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\nconst predictedEvacuees = ref(0);\r\nconst topArea = ref(null);\r\nconst csrfToken = ref(document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || '');\r\n\r\nconst showPredictions = ref(true);\r\nconst showFaultLines = ref(false);\r\nconst showAddLocation = ref(false);\r\nconst locationStatus = ref('');\r\n// Toggle to enable/disable the map. Set to false to avoid map-related freezes while debugging.\r\nconst mapEnabled = ref(false);\r\n\r\nlet leafletLib = null;\r\nlet map = null;\r\nlet markersLayer = null;\r\nlet userMarker = null;\r\n\r\nasync function initMapIfNeeded() {\r\n  // Leaflet map disabled due to freeze issues; map remains a placeholder\r\n  console.debug('[Evac] map initialization skipped (disabled)');\r\n  return;\r\n}\r\n\r\nfunction addMarkersToMap(areasArr = []) {\r\n  if (!leafletLib || !map || !markersLayer) {\r\n    console.debug('[Evac] addMarkersToMap: leaflet not ready');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    markersLayer.clearLayers();\r\n    const bounds = [];\r\n    areasArr.forEach(area => {\r\n      if (!area || area.latitude == null || area.longitude == null) return;\r\n      const lat = parseFloat(area.latitude);\r\n      const lng = parseFloat(area.longitude);\r\n      if (Number.isNaN(lat) || Number.isNaN(lng)) return;\r\n\r\n      try {\r\n        const marker = leafletLib.marker([lat, lng]).addTo(markersLayer);\r\n        const popup = `\r\n        <div style=\"min-width:200px;\">\r\n          <strong>${area.name}</strong>\r\n          <div style=\"color:#666;\">${area.address ?? ''}</div>\r\n          <div style=\"margin-top:6px;\"><strong>Capacity:</strong> ${area.capacity ?? '‚Äî'} ¬∑ <strong>Occupancy:</strong> ${area.current_occupancy ?? 0}</div>\r\n          <div style=\"margin-top:6px;\">Score: ${area.final_score ?? '‚Äî'}</div>\r\n          <div style=\"margin-top:8px;\"><a href=\"/evacuation-areas/${area.id}\" class=\"btn btn-primary\" style=\"display:inline-block; width:100%\">View Details</a></div>\r\n        </div>`;\r\n        marker.bindPopup(popup);\r\n        bounds.push([lat, lng]);\r\n      } catch (err) {\r\n        console.warn('[Evac] failed to add marker for area', area && area.id, err);\r\n      }\r\n    });\r\n\r\n    if (bounds.length) {\r\n      try { map.fitBounds(bounds, { padding: [40, 40] }); }\r\n      catch (e) { console.warn('[Evac] fitBounds failed', e); }\r\n    }\r\n  } catch (err) {\r\n    console.error('[Evac] addMarkersToMap failure', err);\r\n  }\r\n}\r\n\r\nasync function fetchAreas() {\r\n  loading.value = true;\r\n  error.value = null;\r\n  // set a watchdog to avoid indefinite loading\r\n  const watchdog = setTimeout(() => {\r\n    console.warn('[Evac] fetchAreas watchdog triggered');\r\n    loading.value = false;\r\n  }, 15000);\r\n  try {\r\n    if (!axiosFallback) {\r\n      const mod = await import('axios');\r\n      axiosFallback = mod.default || mod;\r\n    }\r\n    const http = residentAxios || axiosFallback;\r\n    console.debug('[Evac] fetching areas with http client', !!residentAxios, !!axiosFallback);\r\n    const res = await http.get('/evacuation-areas');\r\n    areas.value = res.data || [];\r\n    // compute predicted and top area\r\n    predictedEvacuees.value = 29.41; // default placeholder\r\n    topArea.value = areas.value.slice().sort((a,b) => (b.final_score||0)-(a.final_score||0))[0] || null;\r\n\r\n    // initialize map and markers (only if enabled)\r\n    if (mapEnabled.value) {\r\n      await initMapIfNeeded();\r\n      addMarkersToMap(areas.value);\r\n    }\r\n  } catch (e) {\r\n    console.error(e);\r\n    error.value = e.response?.data?.message || e.message || 'Failed to load evacuation areas';\r\n  } finally {\r\n    try { clearTimeout(watchdog); } catch (e) { /* ignore */ }\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\n// Fallback fetch that does not touch the map; used when mapEnabled is false\r\nasync function fetchAreasNoMap() {\r\n  loading.value = true;\r\n  error.value = null;\r\n  try {\r\n    if (!axiosFallback) {\r\n      const mod = await import('axios');\r\n      axiosFallback = mod.default || mod;\r\n    }\r\n    const http = residentAxios || axiosFallback;\r\n    console.debug('[Evac] fetching areas (no-map)');\r\n    const res = await http.get('/evacuation-areas');\r\n    areas.value = res.data || [];\r\n    predictedEvacuees.value = 29.41;\r\n    topArea.value = areas.value.slice().sort((a,b) => (b.final_score||0)-(a.final_score||0))[0] || null;\r\n  } catch (e) {\r\n    console.error('[Evac] fetchAreasNoMap failed', e);\r\n    error.value = e.response?.data?.message || e.message || 'Failed to load evacuation areas (no-map)';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\nfunction getLocation() {\r\n  locationStatus.value = 'Getting location...';\r\n  if (!navigator.geolocation) { locationStatus.value = 'Geolocation not supported'; return; }\r\n  navigator.geolocation.getCurrentPosition((pos) => {\r\n    const lat = pos.coords.latitude;\r\n    const lng = pos.coords.longitude;\r\n    locationStatus.value = `Lat ${lat.toFixed(6)}, Lng ${lng.toFixed(6)}`;\r\n    showAddLocation.value = true;\r\n    if (map && leafletLib) {\r\n      if (userMarker) { try { markersLayer.removeLayer(userMarker); } catch (e) { /* ignore */ } }\r\n      userMarker = leafletLib.marker([lat, lng], { title: 'You are here' }).addTo(map);\r\n      userMarker.bindPopup('<strong>You are here</strong>').openPopup();\r\n      try { map.setView([lat, lng], 13); } catch (e) { /* ignore */ }\r\n    }\r\n  }, (err) => { locationStatus.value = `Error: ${err.message}`; });\r\n}\r\n\r\nfunction openAddLocation() {\r\n  // placeholder consistent with blade behaviour; modal not implemented here\r\n  alert('Add Location modal not implemented in resident UI yet');\r\n}\r\n\r\n// Use map-less fetch by default to ensure page responsiveness; toggle `mapEnabled` to true to enable map.\r\nonMounted(() => {\r\n  if (mapEnabled.value) {\r\n    fetchAreas();\r\n  } else {\r\n    fetchAreasNoMap();\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.evac-list { padding: 1rem; max-width: 1200px; margin: 0 auto; }\r\n.controls { padding: 12px; display:flex; gap:12px; }\r\n.info-box { background:#fff3cd; padding:12px; border-radius:8px; margin:8px 12px; }\r\n.legend { display:flex; gap:12px; margin-top:8px; }\r\n.legend-item { display:flex; gap:6px; align-items:center; }\r\n.dot { width:14px; height:14px; border-radius:50%; display:inline-block; border:2px solid white; box-shadow:0 1px 3px rgba(0,0,0,0.2); }\r\n.dot.low { background:#28a745; }\r\n.dot.moderate { background:#ffc107; }\r\n.dot.high { background:#fd7e14; }\r\n.dot.critical { background:#dc3545; }\r\n.map { height: 320px; border-radius:8px; margin:12px; background:#eef2f6; }\r\n.location-status-box { padding: 12px; margin: 0 12px 12px 12px; }\r\n.prescriptive { padding: 12px; margin: 12px 0; display:flex; justify-content:space-between; align-items:center; }\r\n.pred-left .big { font-size: 1.6rem; font-weight:700; }\r\n.table { width:100%; border-collapse:collapse; }\r\n.table th, .table td { padding: 10px; border-bottom: 1px solid #eee; }\r\n.table-responsive { overflow:auto; }\r\n.center { text-align:center; padding: 12px; }\r\n.muted { color:#666; }\r\n.btn { padding:8px 12px; border-radius:6px; color:#fff; text-decoration:none; background:#667eea; }\r\n.btn-success { background:#28a745; }\r\n.btn-primary { background:#667eea; }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}