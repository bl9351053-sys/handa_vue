{"ast":null,"code":"import { ref, onMounted, inject, computed } from 'vue';\nexport default {\n  __name: 'EvacuationAreaList',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const residentAxios = inject('residentAxios', null);\n    let axiosFallback = null;\n\n    // Data\n    const areas = ref([]);\n    const loading = ref(true);\n    const error = ref(null);\n    const predictedEvacuees = ref(29.41);\n    const topArea = ref(null);\n    const csrfToken = ref(document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || '');\n\n    // Predictions & Map\n    const showPredictions = ref(true);\n    const showFaultLines = ref(false);\n\n    // User location\n    const userLocation = ref(null);\n    const locationStatus = ref('');\n\n    // Add Location Modal\n    const showAddLocationModal = ref(false);\n    const addLocationError = ref('');\n    const addLocationSubmitting = ref(false);\n    const addLocationForm = ref({\n      name: '',\n      address: '',\n      latitude: null,\n      longitude: null,\n      capacity: 50,\n      contact_number: '',\n      facilities: ''\n    });\n\n    /**\r\n     * Get badge class for evacuation area status\r\n     */\n    function getStatusBadgeClass(status) {\n      const classMap = {\n        'available': 'badge-success',\n        'full': 'badge-danger',\n        'closed': 'badge-warning',\n        'pending': 'badge-warning'\n      };\n      return classMap[status] || 'badge-warning';\n    }\n\n    /**\r\n     * Get hazard badge class based on risk score\r\n     */\n    function getHazardBadgeClass(riskScore) {\n      if (riskScore >= 8) return 'hazard-critical';\n      if (riskScore >= 6) return 'hazard-high';\n      if (riskScore >= 4) return 'hazard-moderate';\n      return 'hazard-low';\n    }\n\n    /**\r\n     * Fetch all evacuation areas from the API\r\n     */\n    async function fetchAreas() {\n      loading.value = true;\n      error.value = null;\n      const watchdog = setTimeout(() => {\n        console.warn('[Evac] fetchAreas watchdog triggered');\n        loading.value = false;\n      }, 15000);\n      try {\n        if (!axiosFallback) {\n          const mod = await import('axios');\n          axiosFallback = mod.default || mod;\n        }\n        const http = residentAxios || axiosFallback;\n        console.debug('[Evac] fetching areas');\n        const res = await http.get('/evacuation-areas');\n        areas.value = res.data || [];\n\n        // Compute prescriptive analytics\n        predictedEvacuees.value = 29.41;\n        topArea.value = areas.value.slice().sort((a, b) => (b.final_score || 0) - (a.final_score || 0))[0] || null;\n        console.debug('[Evac] areas loaded', areas.value.length);\n      } catch (e) {\n        console.error('[Evac] fetchAreas error', e);\n        error.value = e.response?.data?.message || e.message || 'Failed to load evacuation areas';\n      } finally {\n        try {\n          clearTimeout(watchdog);\n        } catch (e) {/* ignore */}\n        loading.value = false;\n      }\n    }\n\n    /**\r\n     * Get user's current location using Geolocation API\r\n     */\n    function getLocation() {\n      locationStatus.value = 'Getting location...';\n      if (!navigator.geolocation) {\n        locationStatus.value = 'Geolocation not supported';\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(pos => {\n        const lat = pos.coords.latitude;\n        const lng = pos.coords.longitude;\n        userLocation.value = {\n          lat,\n          lng\n        };\n        locationStatus.value = `Lat ${lat.toFixed(6)}, Lng ${lng.toFixed(6)}`;\n\n        // Pre-fill add location form with user coords\n        addLocationForm.value.latitude = lat;\n        addLocationForm.value.longitude = lng;\n      }, err => {\n        locationStatus.value = `Error: ${err.message}`;\n      });\n    }\n\n    /**\r\n     * Open the Add Location modal\r\n     */\n    function openAddLocation() {\n      if (!userLocation.value) {\n        alert('Please get your location first!');\n        return;\n      }\n      showAddLocationModal.value = true;\n    }\n\n    /**\r\n     * Close the Add Location modal\r\n     */\n    function closeAddLocationModal() {\n      showAddLocationModal.value = false;\n      addLocationError.value = '';\n    }\n\n    /**\r\n     * Submit the Add Location form to create a new evacuation area\r\n     */\n    async function addLocationSubmit() {\n      addLocationSubmitting.value = true;\n      addLocationError.value = '';\n      try {\n        if (!axiosFallback) {\n          const mod = await import('axios');\n          axiosFallback = mod.default || mod;\n        }\n        const http = residentAxios || axiosFallback;\n        const payload = {\n          ...addLocationForm.value,\n          latitude: userLocation.value.lat,\n          longitude: userLocation.value.lng\n        };\n        const res = await http.post('/evacuation-areas', payload);\n        console.debug('[Evac] location added successfully', res.data);\n\n        // Refresh list and close modal\n        await fetchAreas();\n        closeAddLocationModal();\n\n        // Reset form\n        addLocationForm.value = {\n          name: '',\n          address: '',\n          latitude: null,\n          longitude: null,\n          capacity: 50,\n          contact_number: '',\n          facilities: ''\n        };\n      } catch (e) {\n        console.error('[Evac] addLocationSubmit error', e);\n        if (e.response?.status === 422) {\n          const errors = e.response.data.errors || {};\n          addLocationError.value = Object.values(errors).flat().join(', ') || 'Validation error';\n        } else {\n          addLocationError.value = e.response?.data?.message || e.message || 'Failed to add location';\n        }\n      } finally {\n        addLocationSubmitting.value = false;\n      }\n    }\n\n    /**\r\n     * Initialize component on mount\r\n     */\n    onMounted(() => {\n      fetchAreas();\n    });\n    const __returned__ = {\n      residentAxios,\n      get axiosFallback() {\n        return axiosFallback;\n      },\n      set axiosFallback(v) {\n        axiosFallback = v;\n      },\n      areas,\n      loading,\n      error,\n      predictedEvacuees,\n      topArea,\n      csrfToken,\n      showPredictions,\n      showFaultLines,\n      userLocation,\n      locationStatus,\n      showAddLocationModal,\n      addLocationError,\n      addLocationSubmitting,\n      addLocationForm,\n      getStatusBadgeClass,\n      getHazardBadgeClass,\n      fetchAreas,\n      getLocation,\n      openAddLocation,\n      closeAddLocationModal,\n      addLocationSubmit,\n      ref,\n      onMounted,\n      inject,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","inject","computed","residentAxios","axiosFallback","areas","loading","error","predictedEvacuees","topArea","csrfToken","document","querySelector","getAttribute","showPredictions","showFaultLines","userLocation","locationStatus","showAddLocationModal","addLocationError","addLocationSubmitting","addLocationForm","name","address","latitude","longitude","capacity","contact_number","facilities","getStatusBadgeClass","status","classMap","getHazardBadgeClass","riskScore","fetchAreas","value","watchdog","setTimeout","console","warn","mod","default","http","debug","res","get","data","slice","sort","a","b","final_score","length","e","response","message","clearTimeout","getLocation","navigator","geolocation","getCurrentPosition","pos","lat","coords","lng","toFixed","err","openAddLocation","alert","closeAddLocationModal","addLocationSubmit","payload","post","errors","Object","values","flat","join"],"sources":["C:/VUEprojects/crud-app/src/pages/resident_pages/EvacuationAreaList.vue"],"sourcesContent":["<template>\r\n  <div class=\"evac-list\">\r\n    <meta name=\"csrf-token\" :content=\"csrfToken\" />\r\n    \r\n    <!-- Map Section with Controls -->\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">üó∫Ô∏è Evacuation Areas Map</div>\r\n\r\n      <div class=\"controls\">\r\n        <label><input type=\"checkbox\" v-model=\"showPredictions\"> Show Disaster Predictions (Color-Coded by Severity)</label>\r\n        <label style=\"margin-left:12px\"><input type=\"checkbox\" v-model=\"showFaultLines\"> Show Earthquake Fault Lines</label>\r\n      </div>\r\n\r\n      <div class=\"info-box\">\r\n        <strong>üìä Prediction Severity:</strong>\r\n        <div class=\"legend\">\r\n          <span class=\"legend-item\"><span class=\"dot low\"></span> Low (1-3)</span>\r\n          <span class=\"legend-item\"><span class=\"dot moderate\"></span> Moderate (4-5)</span>\r\n          <span class=\"legend-item\"><span class=\"dot high\"></span> High (6-7)</span>\r\n          <span class=\"legend-item\"><span class=\"dot critical\"></span> Critical (8-10)</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"map\" class=\"map\"></div>\r\n\r\n      <div class=\"location-status-box\">\r\n        <h4>üìç Your Location</h4>\r\n        <div class=\"loc-controls\">\r\n          <button class=\"btn btn-success\" @click=\"getLocation\">Get My Location</button>\r\n          <button class=\"btn btn-primary\" v-if=\"userLocation\" @click=\"openAddLocation\">‚ûï Add My Location as Evacuation Area</button>\r\n        </div>\r\n        <div class=\"muted\">{{ locationStatus }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Prescriptive Analytics Section -->\r\n    <div class=\"p-6 mb-8\">\r\n      <div class=\"card prescriptive card-shadow\">\r\n        <div class=\"prescriptive-header\">\r\n          <div class=\"pred-left\">\r\n            <h2>üìä Prescriptive Analytics</h2>\r\n            <div class=\"small\">Predicted Evacuees</div>\r\n            <div class=\"big\">{{ predictedEvacuees }}</div>\r\n          </div>\r\n          <div class=\"pred-right\">\r\n            <div class=\"small\">Recommended Evacuation Area (by score)</div>\r\n            <div v-if=\"topArea\" class=\"top-area\">\r\n              <div class=\"name\">{{ topArea.name }} <small class=\"addr\">- {{ topArea.address }}</small></div>\r\n              <div class=\"meta\">Risk: <strong>{{ topArea.risk_score ?? 0 }}</strong> ¬∑ Remaining: <strong>{{ (topArea.capacity - (topArea.current_occupancy||0)) }}</strong></div>\r\n              <router-link :to=\"`/resident_pages/evacuation-areas/${topArea.id}`\" class=\"btn btn-primary mt-8\">Go to Area</router-link>\r\n            </div>\r\n            <div v-else class=\"small\">No recommended area available</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Evacuation Areas Table -->\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">üìã Evacuation Areas List</div>\r\n        <div v-if=\"loading\" class=\"center\">Loading evacuation areas‚Ä¶</div>\r\n        <div v-else-if=\"error\" class=\"error-msg\">{{ error }}</div>\r\n        <div v-else>\r\n          <div v-if=\"areas.length\">\r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-custom\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <th>Address</th>\r\n                    <th>Capacity</th>\r\n                    <th>Current</th>\r\n                    <th>Status</th>\r\n                    <th>Risk Score</th>\r\n                    <th>Final Score</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"area in areas\" :key=\"area.id\">\r\n                    <td><strong>{{ area.name }}</strong></td>\r\n                    <td>{{ area.address }}</td>\r\n                    <td class=\"text-center\">{{ area.capacity ?? '‚Äî' }}</td>\r\n                    <td class=\"text-center\">{{ area.current_occupancy ?? 0 }}</td>\r\n                    <td>\r\n                      <span :class=\"['badge-custom', getStatusBadgeClass(area.status)]\">\r\n                        {{ area.status }}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"text-center\">\r\n                      <span :class=\"['hazard-badge', getHazardBadgeClass(area.risk_score)]\">\r\n                        {{ (area.risk_score ?? 0).toFixed(1) }}\r\n                      </span>\r\n                    </td>\r\n                    <td class=\"text-center\"><strong>{{ (area.final_score ?? 0).toFixed(1) }}</strong></td>\r\n                    <td>\r\n                      <router-link :to=\"`/resident_pages/evacuation-areas/${area.id}`\" class=\"btn btn-primary\">View</router-link>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"muted p-1\">No evacuation areas found.</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add Location Modal -->\r\n    <div v-if=\"showAddLocationModal\" class=\"modal-overlay\" @click.self=\"closeAddLocationModal\">\r\n      <div class=\"modal-content\">\r\n        <h3>‚ûï Add My Location as Evacuation Area</h3>\r\n        <form @submit.prevent=\"addLocationSubmit\">\r\n          <div class=\"form-row\">\r\n            <label>Area Name</label>\r\n            <input v-model=\"addLocationForm.name\" type=\"text\" placeholder=\"e.g., Community Center\" required />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Address</label>\r\n            <input v-model=\"addLocationForm.address\" type=\"text\" required />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Capacity</label>\r\n            <input v-model.number=\"addLocationForm.capacity\" type=\"number\" min=\"1\" required />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Contact Number</label>\r\n            <input v-model=\"addLocationForm.contact_number\" type=\"text\" />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Facilities</label>\r\n            <input v-model=\"addLocationForm.facilities\" type=\"text\" placeholder=\"e.g., Water, Food, Medical\" />\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n            <button type=\"button\" @click=\"closeAddLocationModal\" class=\"btn btn-secondary\">Cancel</button>\r\n          </div>\r\n          <div v-if=\"addLocationError\" class=\"error-msg\">{{ addLocationError }}</div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, inject, computed } from 'vue';\r\nconst residentAxios = inject('residentAxios', null);\r\nlet axiosFallback = null;\r\n\r\n// Data\r\nconst areas = ref([]);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\nconst predictedEvacuees = ref(29.41);\r\nconst topArea = ref(null);\r\nconst csrfToken = ref(document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || '');\r\n\r\n// Predictions & Map\r\nconst showPredictions = ref(true);\r\nconst showFaultLines = ref(false);\r\n\r\n\r\n// User location\r\nconst userLocation = ref(null);\r\nconst locationStatus = ref('');\r\n\r\n// Add Location Modal\r\nconst showAddLocationModal = ref(false);\r\nconst addLocationError = ref('');\r\nconst addLocationSubmitting = ref(false);\r\nconst addLocationForm = ref({\r\n  name: '',\r\n  address: '',\r\n  latitude: null,\r\n  longitude: null,\r\n  capacity: 50,\r\n  contact_number: '',\r\n  facilities: ''\r\n});\r\n\r\n/**\r\n * Get badge class for evacuation area status\r\n */\r\nfunction getStatusBadgeClass(status) {\r\n  const classMap = {\r\n    'available': 'badge-success',\r\n    'full': 'badge-danger',\r\n    'closed': 'badge-warning',\r\n    'pending': 'badge-warning'\r\n  };\r\n  return classMap[status] || 'badge-warning';\r\n}\r\n\r\n/**\r\n * Get hazard badge class based on risk score\r\n */\r\nfunction getHazardBadgeClass(riskScore) {\r\n  if (riskScore >= 8) return 'hazard-critical';\r\n  if (riskScore >= 6) return 'hazard-high';\r\n  if (riskScore >= 4) return 'hazard-moderate';\r\n  return 'hazard-low';\r\n}\r\n\r\n/**\r\n * Fetch all evacuation areas from the API\r\n */\r\nasync function fetchAreas() {\r\n  loading.value = true;\r\n  error.value = null;\r\n  \r\n  const watchdog = setTimeout(() => {\r\n    console.warn('[Evac] fetchAreas watchdog triggered');\r\n    loading.value = false;\r\n  }, 15000);\r\n\r\n  try {\r\n    if (!axiosFallback) {\r\n      const mod = await import('axios');\r\n      axiosFallback = mod.default || mod;\r\n    }\r\n    const http = residentAxios || axiosFallback;\r\n    console.debug('[Evac] fetching areas');\r\n    \r\n    const res = await http.get('/evacuation-areas');\r\n    areas.value = res.data || [];\r\n    \r\n    // Compute prescriptive analytics\r\n    predictedEvacuees.value = 29.41;\r\n    topArea.value = areas.value\r\n      .slice()\r\n      .sort((a, b) => (b.final_score || 0) - (a.final_score || 0))[0] || null;\r\n    \r\n    console.debug('[Evac] areas loaded', areas.value.length);\r\n  } catch (e) {\r\n    console.error('[Evac] fetchAreas error', e);\r\n    error.value = e.response?.data?.message || e.message || 'Failed to load evacuation areas';\r\n  } finally {\r\n    try { clearTimeout(watchdog); } catch (e) { /* ignore */ }\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\n/**\r\n * Get user's current location using Geolocation API\r\n */\r\nfunction getLocation() {\r\n  locationStatus.value = 'Getting location...';\r\n  \r\n  if (!navigator.geolocation) {\r\n    locationStatus.value = 'Geolocation not supported';\r\n    return;\r\n  }\r\n\r\n  navigator.geolocation.getCurrentPosition(\r\n    (pos) => {\r\n      const lat = pos.coords.latitude;\r\n      const lng = pos.coords.longitude;\r\n      \r\n      userLocation.value = { lat, lng };\r\n      locationStatus.value = `Lat ${lat.toFixed(6)}, Lng ${lng.toFixed(6)}`;\r\n      \r\n      // Pre-fill add location form with user coords\r\n      addLocationForm.value.latitude = lat;\r\n      addLocationForm.value.longitude = lng;\r\n    },\r\n    (err) => {\r\n      locationStatus.value = `Error: ${err.message}`;\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * Open the Add Location modal\r\n */\r\nfunction openAddLocation() {\r\n  if (!userLocation.value) {\r\n    alert('Please get your location first!');\r\n    return;\r\n  }\r\n  showAddLocationModal.value = true;\r\n}\r\n\r\n/**\r\n * Close the Add Location modal\r\n */\r\nfunction closeAddLocationModal() {\r\n  showAddLocationModal.value = false;\r\n  addLocationError.value = '';\r\n}\r\n\r\n/**\r\n * Submit the Add Location form to create a new evacuation area\r\n */\r\nasync function addLocationSubmit() {\r\n  addLocationSubmitting.value = true;\r\n  addLocationError.value = '';\r\n\r\n  try {\r\n    if (!axiosFallback) {\r\n      const mod = await import('axios');\r\n      axiosFallback = mod.default || mod;\r\n    }\r\n    const http = residentAxios || axiosFallback;\r\n    \r\n    const payload = {\r\n      ...addLocationForm.value,\r\n      latitude: userLocation.value.lat,\r\n      longitude: userLocation.value.lng\r\n    };\r\n\r\n    const res = await http.post('/evacuation-areas', payload);\r\n    \r\n    console.debug('[Evac] location added successfully', res.data);\r\n    \r\n    // Refresh list and close modal\r\n    await fetchAreas();\r\n    closeAddLocationModal();\r\n    \r\n    // Reset form\r\n    addLocationForm.value = {\r\n      name: '',\r\n      address: '',\r\n      latitude: null,\r\n      longitude: null,\r\n      capacity: 50,\r\n      contact_number: '',\r\n      facilities: ''\r\n    };\r\n  } catch (e) {\r\n    console.error('[Evac] addLocationSubmit error', e);\r\n    if (e.response?.status === 422) {\r\n      const errors = e.response.data.errors || {};\r\n      addLocationError.value = Object.values(errors).flat().join(', ') || 'Validation error';\r\n    } else {\r\n      addLocationError.value = e.response?.data?.message || e.message || 'Failed to add location';\r\n    }\r\n  } finally {\r\n    addLocationSubmitting.value = false;\r\n  }\r\n}\r\n\r\n/**\r\n * Initialize component on mount\r\n */\r\nonMounted(() => {\r\n  fetchAreas();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.evac-list {\r\n  padding: 1rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Header Styles */\r\n.card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.card-header {\r\n  padding: 1rem;\r\n  font-weight: 700;\r\n  border-bottom: 1px solid #e6edf3;\r\n  background: linear-gradient(180deg, #f8fafc 0%, #eef2f6 100%);\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n/* Controls */\r\n.controls {\r\n  padding: 12px;\r\n  display: flex;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.controls label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.controls input[type=\"checkbox\"] {\r\n  cursor: pointer;\r\n}\r\n\r\n/* Info Box */\r\n.info-box {\r\n  background: #fff3cd;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  margin: 8px 12px;\r\n  border-left: 4px solid #ffc107;\r\n}\r\n\r\n.legend {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-top: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  gap: 6px;\r\n  align-items: center;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.dot {\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  border: 2px solid white;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.2);\r\n}\r\n\r\n.dot.low { background: #28a745; }\r\n.dot.moderate { background: #ffc107; }\r\n.dot.high { background: #fd7e14; }\r\n.dot.critical { background: #dc3545; }\r\n\r\n/* Map */\r\n.map {\r\n  height: 320px;\r\n  border-radius: 8px;\r\n  margin: 12px;\r\n  background: #eef2f6;\r\n  border: 1px solid #e6edf3;\r\n}\r\n\r\n/* Location Status Box */\r\n.location-status-box {\r\n  padding: 12px;\r\n  margin: 0 12px 12px 12px;\r\n}\r\n\r\n.location-status-box h4 {\r\n  margin: 0 0 12px 0;\r\n}\r\n\r\n.loc-controls {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.muted {\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n  margin-top: 8px;\r\n}\r\n\r\n/* Prescriptive Analytics */\r\n.p-6 { padding: 1.5rem 0; }\r\n.mb-8 { margin-bottom: 2rem; }\r\n\r\n.prescriptive {\r\n  padding: 1.5rem;\r\n  margin: 0 0 1.5rem 0;\r\n}\r\n\r\n.prescriptive-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  gap: 2rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.pred-left h2 {\r\n  margin: 0 0 0.5rem 0;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.pred-left .small {\r\n  font-size: 0.85rem;\r\n  color: #666;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.pred-left .big {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #667eea;\r\n}\r\n\r\n.pred-right {\r\n  flex: 1;\r\n  min-width: 300px;\r\n}\r\n\r\n.pred-right .small {\r\n  font-size: 0.85rem;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.top-area {\r\n  background: #f8fafc;\r\n  padding: 12px;\r\n  border-radius: 6px;\r\n  border: 1px solid #e6edf3;\r\n}\r\n\r\n.top-area .name {\r\n  font-weight: 600;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.top-area .addr {\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.top-area .meta {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.mt-8 { margin-top: 8px; }\r\n\r\n/* Table Styles */\r\n.table-responsive {\r\n  overflow: auto;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.table-custom {\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  border: 1px solid #e6edf3;\r\n  width: 100%;\r\n}\r\n\r\n.table-custom th,\r\n.table-custom td {\r\n  padding: 0.75rem;\r\n  border-right: 1px solid #e6edf3;\r\n  vertical-align: middle;\r\n}\r\n\r\n.table-custom th:last-child,\r\n.table-custom td:last-child {\r\n  border-right: none;\r\n}\r\n\r\n.table-custom thead th {\r\n  background: linear-gradient(180deg, #f8fafc 0%, #eef2f6 100%);\r\n  color: #374151;\r\n  font-weight: 700;\r\n  font-size: 0.875rem;\r\n  border-bottom: 2px solid #e6edf3;\r\n}\r\n\r\n.table-custom tbody tr:hover {\r\n  background: #f9fafb;\r\n}\r\n\r\n.table-custom tbody tr:nth-child(even) {\r\n  background: #ffffff;\r\n}\r\n\r\n.table-custom tbody tr:nth-child(odd) {\r\n  background: #fbfdfe;\r\n}\r\n\r\n.table td {\r\n  padding: 10px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.table th {\r\n  padding: 10px;\r\n  border-bottom: 2px solid #ddd;\r\n  text-align: left;\r\n}\r\n\r\n.text-center { text-align: center; }\r\n\r\n/* Badge Styles */\r\n.badge-custom {\r\n  display: inline-block;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 9999px;\r\n  font-weight: 600;\r\n  border: 1px solid rgba(0,0,0,0.06);\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.badge-success {\r\n  background: #ecfdf5;\r\n  color: #065f46;\r\n  border-color: rgba(6,95,70,0.1);\r\n}\r\n\r\n.badge-warning {\r\n  background: #fff7ed;\r\n  color: #92400e;\r\n  border-color: rgba(146,64,14,0.08);\r\n}\r\n\r\n.badge-danger {\r\n  background: #fff1f2;\r\n  color: #7f1d1d;\r\n  border-color: rgba(127,29,29,0.08);\r\n}\r\n\r\n.hazard-badge {\r\n  display: inline-block;\r\n  min-width: 34px;\r\n  padding: 0.2rem 0.5rem;\r\n  border-radius: 9999px;\r\n  text-align: center;\r\n  font-weight: 700;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.hazard-low { background: #dff7e5; color: #167f25; }\r\n.hazard-moderate { background: #fff4cc; color: #7a5b00; }\r\n.hazard-high { background: #fff0e0; color: #7a3b00; }\r\n.hazard-critical { background: #ffe6e6; color: #8b1e1e; }\r\n\r\n/* Buttons */\r\n.btn {\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  color: white;\r\n  text-decoration: none;\r\n  background: #667eea;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: background 200ms ease;\r\n}\r\n\r\n.btn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n.btn-success { background: #28a745; }\r\n.btn-primary { background: #667eea; }\r\n.btn-secondary { background: #6c757d; }\r\n\r\n.center {\r\n  text-align: center;\r\n  padding: 12px;\r\n}\r\n\r\n.p-1 { padding: 0.25rem; }\r\n\r\n.error-msg {\r\n  color: #b00020;\r\n  font-size: 0.9rem;\r\n  margin-top: 6px;\r\n}\r\n\r\n/* Card Shadow for emphasis */\r\n.card-shadow {\r\n  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08), 0 1px 4px rgba(15, 23, 42, 0.04);\r\n  border: 1px solid rgba(15, 23, 42, 0.06);\r\n}\r\n\r\n/* Modal Overlay */\r\n.modal-overlay {\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.5);\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  box-shadow: 0 10px 40px rgba(0,0,0,0.2);\r\n}\r\n\r\n.modal-content h3 {\r\n  margin: 0 0 1rem 0;\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.form-row {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.form-row label {\r\n  display: block;\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.form-row input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #e6edf3;\r\n  border-radius: 6px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.form-row input:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n  box-shadow: 0 0 0 3px rgba(102,126,234,0.1);\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.form-actions button {\r\n  flex: 1;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}