{"ast":null,"code":"import axios from 'axios';\nconst residentApi = axios.create({\n  baseURL: 'http://localhost:8001/api',\n  headers: {\n    Accept: 'application/json'\n  }\n});\n\n// Attach token if present\nresidentApi.interceptors.request.use(config => {\n  const token = localStorage.getItem('resident_token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Handle response errors\nresidentApi.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem('resident_token');\n    localStorage.removeItem('resident_user');\n    window.location.href = '/resident/login';\n  }\n  return Promise.reject(error);\n});\nexport default residentApi;\n\n// Resident Authentication Service\nexport const residentAuthService = {\n  register(data) {\n    return residentApi.post('/auth/register', data);\n  },\n  login(email, password) {\n    return residentApi.post('/auth/login', {\n      email,\n      password\n    });\n  },\n  logout() {\n    return residentApi.post('/auth/logout');\n  },\n  getCurrentUser() {\n    return residentApi.get('/auth/me');\n  },\n  updateProfile(data) {\n    return residentApi.put('/auth/profile', data);\n  }\n};\n\n// Resident Dashboard Service\nexport const residentDashboardService = {\n  getDashboard() {\n    return residentApi.get('/dashboard');\n  },\n  getEvacuationInfo() {\n    return residentApi.get('/evacuation-info');\n  },\n  getDisasterAlerts() {\n    return residentApi.get('/alerts');\n  }\n};\n\n// Resident Family Service\nexport const residentFamilyService = {\n  getMyFamily() {\n    return residentApi.get('/family');\n  },\n  updateFamilyInfo(data) {\n    return residentApi.put('/family', data);\n  },\n  addFamilyMember(data) {\n    return residentApi.post('/family/members', data);\n  },\n  updateFamilyMember(id, data) {\n    return residentApi.put(`/family/members/${id}`, data);\n  },\n  deleteFamilyMember(id) {\n    return residentApi.delete(`/family/members/${id}`);\n  },\n  getFamilyMembers() {\n    return residentApi.get('/family/members');\n  }\n};\n\n// Resident Evacuation Service\nexport const residentEvacuationService = {\n  getAvailableAreas() {\n    return residentApi.get('/evacuation-areas');\n  },\n  getEvacuationArea(id) {\n    return residentApi.get(`/evacuation-areas/${id}`);\n  },\n  registerEvacuation(areaId, data) {\n    return residentApi.post(`/evacuation-areas/${areaId}/go`, data);\n  },\n  getNearestAreas(lat, lng) {\n    return residentApi.get(`/evacuation-areas/nearest`, {\n      params: {\n        latitude: lat,\n        longitude: lng\n      }\n    });\n  },\n  getRecommendedArea(lat, lng, predicted = 29.41) {\n    return residentApi.get(`/evacuation-areas/recommend`, {\n      params: {\n        latitude: lat,\n        longitude: lng,\n        predicted\n      }\n    });\n  }\n};\n\n// Resident Facilities Service\nexport const residentFacilitiesService = {\n  getNearbyFacilities() {\n    return residentApi.get('/facilities/nearby');\n  },\n  getFacilities() {\n    return residentApi.get('/facilities');\n  },\n  getFacilityDetails(id) {\n    return residentApi.get(`/facilities/${id}`);\n  }\n};\n\n// Resident Predictions Service\nexport const residentPredictionsService = {\n  getDisasterPredictions() {\n    return residentApi.get('/predictions');\n  },\n  getPredictionDetails(id) {\n    return residentApi.get(`/predictions/${id}`);\n  },\n  getPersonalRiskAssessment() {\n    return residentApi.get('/risk-assessment');\n  }\n};\n\n// Resident Notification Service\nexport const residentNotificationService = {\n  getNotifications() {\n    return residentApi.get('/notifications');\n  },\n  markAsRead(id) {\n    return residentApi.patch(`/notifications/${id}/read`);\n  },\n  deleteNotification(id) {\n    return residentApi.delete(`/notifications/${id}`);\n  }\n};","map":{"version":3,"names":["axios","residentApi","create","baseURL","headers","Accept","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","status","removeItem","window","location","href","Promise","reject","residentAuthService","register","data","post","login","email","password","logout","getCurrentUser","get","updateProfile","put","residentDashboardService","getDashboard","getEvacuationInfo","getDisasterAlerts","residentFamilyService","getMyFamily","updateFamilyInfo","addFamilyMember","updateFamilyMember","id","deleteFamilyMember","delete","getFamilyMembers","residentEvacuationService","getAvailableAreas","getEvacuationArea","registerEvacuation","areaId","getNearestAreas","lat","lng","params","latitude","longitude","getRecommendedArea","predicted","residentFacilitiesService","getNearbyFacilities","getFacilities","getFacilityDetails","residentPredictionsService","getDisasterPredictions","getPredictionDetails","getPersonalRiskAssessment","residentNotificationService","getNotifications","markAsRead","patch","deleteNotification"],"sources":["C:/VUEprojects/crud-app/src/services/residentService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst residentApi = axios.create({\r\n  baseURL: 'http://localhost:8001/api',\r\n  headers: { Accept: 'application/json' }\r\n});\r\n\r\n// Attach token if present\r\nresidentApi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('resident_token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Handle response errors\r\nresidentApi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.removeItem('resident_token');\r\n      localStorage.removeItem('resident_user');\r\n      window.location.href = '/resident/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default residentApi;\r\n\r\n// Resident Authentication Service\r\nexport const residentAuthService = {\r\n  register(data) {\r\n    return residentApi.post('/auth/register', data);\r\n  },\r\n  login(email, password) {\r\n    return residentApi.post('/auth/login', { email, password });\r\n  },\r\n  logout() {\r\n    return residentApi.post('/auth/logout');\r\n  },\r\n  getCurrentUser() {\r\n    return residentApi.get('/auth/me');\r\n  },\r\n  updateProfile(data) {\r\n    return residentApi.put('/auth/profile', data);\r\n  }\r\n};\r\n\r\n// Resident Dashboard Service\r\nexport const residentDashboardService = {\r\n  getDashboard() {\r\n    return residentApi.get('/dashboard');\r\n  },\r\n  getEvacuationInfo() {\r\n    return residentApi.get('/evacuation-info');\r\n  },\r\n  getDisasterAlerts() {\r\n    return residentApi.get('/alerts');\r\n  }\r\n};\r\n\r\n// Resident Family Service\r\nexport const residentFamilyService = {\r\n  getMyFamily() {\r\n    return residentApi.get('/family');\r\n  },\r\n  updateFamilyInfo(data) {\r\n    return residentApi.put('/family', data);\r\n  },\r\n  addFamilyMember(data) {\r\n    return residentApi.post('/family/members', data);\r\n  },\r\n  updateFamilyMember(id, data) {\r\n    return residentApi.put(`/family/members/${id}`, data);\r\n  },\r\n  deleteFamilyMember(id) {\r\n    return residentApi.delete(`/family/members/${id}`);\r\n  },\r\n  getFamilyMembers() {\r\n    return residentApi.get('/family/members');\r\n  }\r\n};\r\n\r\n// Resident Evacuation Service\r\nexport const residentEvacuationService = {\r\n  getAvailableAreas() {\r\n    return residentApi.get('/evacuation-areas');\r\n  },\r\n  getEvacuationArea(id) {\r\n    return residentApi.get(`/evacuation-areas/${id}`);\r\n  },\r\n  registerEvacuation(areaId, data) {\r\n    return residentApi.post(`/evacuation-areas/${areaId}/go`, data);\r\n  },\r\n  getNearestAreas(lat, lng) {\r\n    return residentApi.get(`/evacuation-areas/nearest`, { params: { latitude: lat, longitude: lng } });\r\n  },\r\n  getRecommendedArea(lat, lng, predicted = 29.41) {\r\n    return residentApi.get(`/evacuation-areas/recommend`, { params: { latitude: lat, longitude: lng, predicted } });\r\n  }\r\n};\r\n\r\n\r\n// Resident Facilities Service\r\nexport const residentFacilitiesService = {\r\n  getNearbyFacilities() {\r\n    return residentApi.get('/facilities/nearby');\r\n  },\r\n  getFacilities() {\r\n    return residentApi.get('/facilities');\r\n  },\r\n  getFacilityDetails(id) {\r\n    return residentApi.get(`/facilities/${id}`);\r\n  }\r\n};\r\n\r\n// Resident Predictions Service\r\nexport const residentPredictionsService = {\r\n  getDisasterPredictions() {\r\n    return residentApi.get('/predictions');\r\n  },\r\n  getPredictionDetails(id) {\r\n    return residentApi.get(`/predictions/${id}`);\r\n  },\r\n  getPersonalRiskAssessment() {\r\n    return residentApi.get('/risk-assessment');\r\n  }\r\n};\r\n\r\n// Resident Notification Service\r\nexport const residentNotificationService = {\r\n  getNotifications() {\r\n    return residentApi.get('/notifications');\r\n  },\r\n  markAsRead(id) {\r\n    return residentApi.patch(`/notifications/${id}/read`);\r\n  },\r\n  deleteNotification(id) {\r\n    return residentApi.delete(`/notifications/${id}`);\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}