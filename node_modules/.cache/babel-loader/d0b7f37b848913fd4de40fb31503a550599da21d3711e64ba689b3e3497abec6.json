{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"alert-error\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"alert-card\"\n};\nconst _hoisted_6 = {\n  class: \"alert-header\"\n};\nconst _hoisted_7 = {\n  class: \"alert-title-section\"\n};\nconst _hoisted_8 = {\n  class: \"alert-meta\"\n};\nconst _hoisted_9 = {\n  class: \"alert-actions\"\n};\nconst _hoisted_10 = {\n  class: \"alert-content\"\n};\nconst _hoisted_11 = {\n  class: \"info-grid\"\n};\nconst _hoisted_12 = {\n  class: \"info-item\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"info-item\"\n};\nconst _hoisted_14 = {\n  class: \"info-item\"\n};\nconst _hoisted_15 = {\n  class: \"info-item\"\n};\nconst _hoisted_16 = {\n  class: \"description-section\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"map-section\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"alert-error\"\n};\nconst _hoisted_19 = {\n  key: 1,\n  id: \"show-emergency-alert-map\",\n  class: \"map\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", {\n    class: \"title\"\n  }, \"üö® Emergency Alert Details\", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/emergency-alerts\",\n    class: \"btn-back\"\n  }, {\n    default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\"‚Üê Back\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })]), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"Loading‚Ä¶\")) : _createCommentVNode(\"v-if\", true), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), !$setup.loading && $setup.alert ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h2\", null, _toDisplayString($setup.alert.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", {\n    class: _normalizeClass([\"severity\", $setup.alert.severity])\n  }, _toDisplayString($setup.alert.severity.toUpperCase()), 3 /* TEXT, CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"status\", $setup.alert.status])\n  }, _toDisplayString($setup.alert.status.toUpperCase()), 3 /* TEXT, CLASS */)])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: `/emergency-alerts/${$setup.alert.id}/edit`,\n    class: \"btn-edit\"\n  }, {\n    default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\"Edit\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", null, \"Area:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.alert.area), 1 /* TEXT */)]), $setup.alert.latitude && $setup.alert.longitude ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", null, \"Coordinates:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.alert.latitude.toFixed(6)) + \", \" + _toDisplayString($setup.alert.longitude.toFixed(6)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_14, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"Created:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.formatDate($setup.alert.created_at)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", null, \"Last Updated:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.formatDate($setup.alert.updated_at)), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_16, [_cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, \"Description\", -1 /* CACHED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.alert.description), 1 /* TEXT */)]), $setup.alert.latitude && $setup.alert.longitude ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_cache[8] || (_cache[8] = _createElementVNode(\"h3\", null, \"üìç Location\", -1 /* CACHED */)), $setup.mapError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _toDisplayString($setup.mapError), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_19))])) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_cache","$setup","loading","_hoisted_3","error","_hoisted_4","_toDisplayString","alert","_hoisted_5","_hoisted_6","_hoisted_7","title","_hoisted_8","_normalizeClass","severity","toUpperCase","status","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","area","latitude","longitude","_hoisted_13","toFixed","_hoisted_14","formatDate","created_at","_hoisted_15","updated_at","_hoisted_16","description","_hoisted_17","mapError","_hoisted_18","_hoisted_19"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\EmergencyAlertShow.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"header\">\r\n      <h1 class=\"title\">üö® Emergency Alert Details</h1>\r\n      <router-link to=\"/emergency-alerts\" class=\"btn-back\">‚Üê Back</router-link>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"loading\">Loading‚Ä¶</div>\r\n    <div v-if=\"error\" class=\"alert-error\">{{ error }}</div>\r\n\r\n    <div v-if=\"!loading && alert\" class=\"alert-card\">\r\n      <div class=\"alert-header\">\r\n        <div class=\"alert-title-section\">\r\n          <h2>{{ alert.title }}</h2>\r\n          <div class=\"alert-meta\">\r\n            <span class=\"severity\" :class=\"alert.severity\">{{ alert.severity.toUpperCase() }}</span>\r\n            <span class=\"status\" :class=\"alert.status\">{{ alert.status.toUpperCase() }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"alert-actions\">\r\n          <router-link :to=\"`/emergency-alerts/${alert.id}/edit`\" class=\"btn-edit\">Edit</router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"alert-content\">\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-item\">\r\n            <label>Area:</label>\r\n            <span>{{ alert.area }}</span>\r\n          </div>\r\n          <div class=\"info-item\" v-if=\"alert.latitude && alert.longitude\">\r\n            <label>Coordinates:</label>\r\n            <span>{{ alert.latitude.toFixed(6) }}, {{ alert.longitude.toFixed(6) }}</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <label>Created:</label>\r\n            <span>{{ formatDate(alert.created_at) }}</span>\r\n          </div>\r\n          <div class=\"info-item\">\r\n            <label>Last Updated:</label>\r\n            <span>{{ formatDate(alert.updated_at) }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"description-section\">\r\n          <h3>Description</h3>\r\n          <p>{{ alert.description }}</p>\r\n        </div>\r\n\r\n        <div v-if=\"alert.latitude && alert.longitude\" class=\"map-section\">\r\n          <h3>üìç Location</h3>\r\n          <div v-if=\"mapError\" class=\"alert-error\">{{ mapError }}</div>\r\n          <div v-else id=\"show-emergency-alert-map\" class=\"map\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport axios from 'axios';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nconst route = useRoute();\r\n\r\nconst alert = ref(null);\r\nconst loading = ref(false);\r\nconst error = ref(null);\r\nconst mapError = ref(null);\r\nlet leafletMap = null;\r\n\r\nconst load = async () => {\r\n  loading.value = true;\r\n  error.value = null;\r\n  try {\r\n    const res = await axios.get(`/emergency-alerts/${route.params.id}`);\r\n    alert.value = res.data.alert || res.data;\r\n\r\n    if (alert.value.latitude && alert.value.longitude) {\r\n      setTimeout(() => {\r\n        initializeMap(parseFloat(alert.value.latitude), parseFloat(alert.value.longitude));\r\n      }, 100);\r\n    }\r\n\r\n  } catch (e) {\r\n    console.error(e);\r\n    error.value = 'Failed to load alert details';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'N/A';\r\n  return new Date(dateString).toLocaleString();\r\n};\r\n\r\nfunction initializeMap(lat, lng) {\r\n  const mapContainer = document.getElementById('show-emergency-alert-map');\r\n  if (!mapContainer) {\r\n    mapError.value = 'Map container not found';\r\n    return;\r\n  }\r\n\r\n  if (leafletMap) {\r\n    leafletMap.remove();\r\n    leafletMap = null;\r\n  }\r\n\r\n  delete L.Icon.Default.prototype._getIconUrl;\r\n  L.Icon.Default.mergeOptions({\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n  });\r\n\r\n  leafletMap = L.map(mapContainer).setView([lat, lng], 12);\r\n\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '&copy; OpenStreetMap contributors',\r\n    maxZoom: 19\r\n  }).addTo(leafletMap);\r\n\r\n  L.marker([lat, lng]).addTo(leafletMap);\r\n}\r\n\r\nonMounted(load);\r\n\r\nonUnmounted(() => {\r\n  if (leafletMap) leafletMap.remove();\r\n});\r\n</script>\r\n\r\n<style>\r\n.container { max-width: 800px; margin: 20px auto; padding: 0 16px; font-family: Arial, sans-serif; }\r\n.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }\r\n.title { font-size: 24px; font-weight: bold; color: #333; }\r\n.btn-back { padding: 8px 16px; background: #ccc; color: #333; border-radius: 6px; text-decoration: none; }\r\n.btn-back:hover { background: #bbb; }\r\n.loading { text-align: center; padding: 16px; color: #555; }\r\n.alert-error { background: #ffe5e5; color: #b30000; padding: 12px 16px; border-radius: 8px; margin-bottom: 16px; }\r\n\r\n.alert-card { background: #fff; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); overflow: hidden; }\r\n.alert-header { background: #f8f9fa; padding: 24px; border-bottom: 1px solid #e9ecef; }\r\n.alert-title-section h2 { font-size: 28px; margin: 0 0 12px 0; color: #333; }\r\n.alert-meta { display: flex; gap: 12px; }\r\n.severity { padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; color: white; }\r\n.severity.low { background: #28a745; }\r\n.severity.medium { background: #ffc107; color: #333; }\r\n.severity.high { background: #dc3545; }\r\n.status { padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }\r\n.status.active { background: #007bff; color: white; }\r\n.status.inactive { background: #6c757d; color: white; }\r\n.alert-actions { margin-top: 16px; }\r\n.btn-edit { padding: 8px 16px; background: #007bff; color: white; border-radius: 6px; text-decoration: none; }\r\n.btn-edit:hover { background: #0056b3; }\r\n\r\n.alert-content { padding: 24px; }\r\n.info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }\r\n.info-item { display: flex; flex-direction: column; }\r\n.info-item label { font-weight: bold; color: #666; font-size: 14px; margin-bottom: 4px; }\r\n.info-item span { color: #333; }\r\n\r\n.description-section { margin-bottom: 24px; }\r\n.description-section h3 { font-size: 20px; margin-bottom: 12px; color: #333; }\r\n.description-section p { line-height: 1.6; color: #555; }\r\n\r\n.map-section { margin-top: 24px; padding: 16px; background: #f9f9f9; border-radius: 8px; border: 1px solid #ddd; }\r\n.map-section h3 { font-weight: bold; margin-bottom: 12px; color: #333; }\r\n.map { width: 100%; height: 300px; border-radius: 6px; border: 1px solid #ddd; }\r\n\r\n@media (max-width: 768px) {\r\n  .info-grid { grid-template-columns: 1fr; }\r\n  .alert-meta { flex-direction: column; gap: 8px; }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}