{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"evac-list\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"map-container\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"route-panel\"\n};\nconst _hoisted_5 = {\n  class: \"route-content\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  class: \"route-info\"\n};\nconst _hoisted_8 = {\n  class: \"route-steps\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"route-loading\"\n};\nconst _hoisted_10 = {\n  class: \"location-status-box\"\n};\nconst _hoisted_11 = {\n  class: \"muted\"\n};\nconst _hoisted_12 = {\n  class: \"card\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"center py-4\"\n};\nconst _hoisted_14 = {\n  class: \"predictions-grid\"\n};\nconst _hoisted_15 = {\n  class: \"prediction-header\"\n};\nconst _hoisted_16 = {\n  class: \"prediction-body\"\n};\nconst _hoisted_17 = {\n  class: \"prediction-detail\"\n};\nconst _hoisted_18 = {\n  class: \"prediction-detail\"\n};\nconst _hoisted_19 = {\n  class: \"prediction-detail\"\n};\nconst _hoisted_20 = {\n  key: 3,\n  class: \"text-center p-3\"\n};\nconst _hoisted_21 = {\n  class: \"analytics-section\"\n};\nconst _hoisted_22 = {\n  class: \"card prescriptive card-shadow\"\n};\nconst _hoisted_23 = {\n  class: \"prescriptive-header\"\n};\nconst _hoisted_24 = {\n  class: \"pred-left\"\n};\nconst _hoisted_25 = {\n  class: \"big\"\n};\nconst _hoisted_26 = {\n  class: \"pred-right\"\n};\nconst _hoisted_27 = {\n  key: 0,\n  class: \"top-area\"\n};\nconst _hoisted_28 = {\n  class: \"name\"\n};\nconst _hoisted_29 = {\n  class: \"addr\"\n};\nconst _hoisted_30 = {\n  class: \"meta\"\n};\nconst _hoisted_31 = {\n  key: 1,\n  class: \"small muted\"\n};\nconst _hoisted_32 = {\n  key: 0,\n  class: \"card\"\n};\nconst _hoisted_33 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_34 = {\n  class: \"table table-custom\"\n};\nconst _hoisted_35 = {\n  class: \"text-center\"\n};\nconst _hoisted_36 = {\n  class: \"badge badge-success\"\n};\nconst _hoisted_37 = {\n  class: \"text-center\"\n};\nconst _hoisted_38 = {\n  class: \"text-center\"\n};\nconst _hoisted_39 = {\n  class: \"text-center\"\n};\nconst _hoisted_40 = {\n  class: \"text-center\"\n};\nconst _hoisted_41 = {\n  class: \"card\"\n};\nconst _hoisted_42 = {\n  key: 0,\n  class: \"center py-4\"\n};\nconst _hoisted_43 = {\n  class: \"error-msg p-3\"\n};\nconst _hoisted_44 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_45 = {\n  class: \"table table-custom\"\n};\nconst _hoisted_46 = {\n  class: \"text-center\"\n};\nconst _hoisted_47 = {\n  class: \"text-center\"\n};\nconst _hoisted_48 = {\n  class: \"text-center\"\n};\nconst _hoisted_49 = {\n  class: \"text-center\"\n};\nconst _hoisted_50 = {\n  class: \"text-center\"\n};\nconst _hoisted_51 = {\n  class: \"text-center\"\n};\nconst _hoisted_52 = {\n  style: {\n    \"color\": \"#667eea\"\n  }\n};\nconst _hoisted_53 = {\n  class: \"text-center\"\n};\nconst _hoisted_54 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \"üó∫Ô∏è Evacuation Areas & Disaster Predictions Map\", -1 /* CACHED */)), _createCommentVNode(\" Map Container \"), _createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    id: \"map\",\n    class: \"map\"\n  }, null, -1 /* CACHED */)), _createCommentVNode(\" Route Directions Panel \"), $setup.showRouteDirections ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: \"route-header\"\n  }, [_cache[1] || (_cache[1] = _createElementVNode(\"h4\", null, \"üõ£Ô∏è Route Directions\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: $setup.closeRouteDirections,\n    class: \"close-btn\"\n  }, \"√ó\")]), _createElementVNode(\"div\", _hoisted_5, [$setup.routeDirections.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"From:\", -1 /* CACHED */)), _cache[3] || (_cache[3] = _createTextVNode(\" Your Location\", -1 /* CACHED */)), _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"To:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.selectedArea?.name), 1 /* TEXT */), _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"Distance:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.routeDistance), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Estimated Time:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.routeTime), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"ol\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.routeDirections, (step, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, _toDisplayString(step.instruction), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" Calculating route... \"))])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Location Status \"), _createElementVNode(\"div\", _hoisted_10, [_cache[11] || (_cache[11] = _createElementVNode(\"h4\", null, \"üìç Your Location\", -1 /* CACHED */)), _createElementVNode(\"div\", {\n    class: \"loc-controls\"\n  }, [_createElementVNode(\"button\", {\n    class: \"btn btn-success\",\n    onClick: $setup.getLocation\n  }, \"Get My Location\")]), _createElementVNode(\"div\", _hoisted_11, _toDisplayString($setup.locationStatus), 1 /* TEXT */)])]), _createCommentVNode(\" Disaster Predictions Section \"), _createElementVNode(\"div\", _hoisted_12, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \"üå™Ô∏è Active Disaster Predictions\", -1 /* CACHED */)), _createCommentVNode(\" Loading State \"), $setup.predictionsLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [...(_cache[13] || (_cache[13] = [_createElementVNode(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"sr-only\"\n  }, \"Loading predictions...\")], -1 /* CACHED */), _createElementVNode(\"p\", {\n    class: \"mt-2\"\n  }, \"Loading disaster predictions‚Ä¶\", -1 /* CACHED */)]))])) : $setup.disasterPredictions.length > 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Predictions List \"), _createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.disasterPredictions.slice(0, 3), prediction => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: prediction.id,\n      class: _normalizeClass([\"prediction-card\", $setup.getPredictionSeverityClass(prediction.severity)])\n    }, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"h4\", null, _toDisplayString(prediction.disaster_type), 1 /* TEXT */), _createElementVNode(\"span\", {\n      class: _normalizeClass([\"severity-badge\", $setup.getPredictionSeverityClass(prediction.severity)])\n    }, _toDisplayString(prediction.severity), 3 /* TEXT, CLASS */)]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_cache[14] || (_cache[14] = _createElementVNode(\"strong\", null, \"Location:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(prediction.location_name), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_18, [_cache[15] || (_cache[15] = _createElementVNode(\"strong\", null, \"Expected Date:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.formatDate(prediction.predicted_date || prediction.predicted_at)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_19, [_cache[16] || (_cache[16] = _createElementVNode(\"strong\", null, \"Risk Level:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(prediction.risk_level) + \"/10 \", 1 /* TEXT */)])])], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Empty State \"), _cache[17] || (_cache[17] = _createElementVNode(\"div\", {\n    class: \"muted p-3\"\n  }, \"No active disaster predictions available.\", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" View All Link \"), $setup.disasterPredictions.length > 3 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createVNode(_component_router_link, {\n    to: \"/resident_pages/disaster-predictions\",\n    class: \"btn btn-secondary\"\n  }, {\n    default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\" View All Predictions ‚Üí \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Prescriptive Analytics Section \"), _createElementVNode(\"div\", _hoisted_21, [_createCommentVNode(\" Top Recommendation Card \"), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createCommentVNode(\" Left: Predicted Evacuees \"), _createElementVNode(\"div\", _hoisted_24, [_cache[20] || (_cache[20] = _createElementVNode(\"h2\", null, \"üìä Prescriptive Analytics\", -1 /* CACHED */)), _cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n    class: \"small\"\n  }, \"Predicted Evacuees\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_25, _toDisplayString($setup.predictedEvacuees), 1 /* TEXT */)]), _createCommentVNode(\" Right: Top Recommended Area \"), _createElementVNode(\"div\", _hoisted_26, [_cache[25] || (_cache[25] = _createElementVNode(\"div\", {\n    class: \"small\"\n  }, \"Recommended Evacuation Area (Top Score)\", -1 /* CACHED */)), $setup.topArea ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_createTextVNode(_toDisplayString($setup.topArea.name) + \" \", 1 /* TEXT */), _createElementVNode(\"small\", _hoisted_29, \"- \" + _toDisplayString($setup.topArea.address), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_30, [_cache[22] || (_cache[22] = _createTextVNode(\" Risk: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString(($setup.topArea.risk_score || 0).toFixed(1)), 1 /* TEXT */), _cache[23] || (_cache[23] = _createTextVNode(\" ¬∑ Final Score: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString(($setup.topArea.final_score || 0).toFixed(1)), 1 /* TEXT */), _cache[24] || (_cache[24] = _createTextVNode(\" ¬∑ Remaining: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString(($setup.topArea.capacity || 0) - ($setup.topArea.current_occupancy || 0)), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary mt-8\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.goToAreaDetail($setup.topArea.id))\n  }, \" View Details ‚Üí \")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_31, \"No recommended area available\"))])])]), _createCommentVNode(\" Allocations Table (if available) \"), $setup.prescriptiveData?.allocations?.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [_cache[27] || (_cache[27] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \"üìç Recommended Allocations\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"table\", _hoisted_34, [_cache[26] || (_cache[26] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Evacuation Area\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Assigned Evacuees\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Remaining Capacity\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Distance (km)\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Safety Factor\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Final Score\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.prescriptiveData.allocations, alloc => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: alloc.evacuation_area_id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"strong\", null, _toDisplayString(alloc.name), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_35, [_createElementVNode(\"span\", _hoisted_36, _toDisplayString(alloc.assigned || 0) + \" people\", 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_37, [_createElementVNode(\"span\", null, _toDisplayString(alloc.capacity_left || 0) + \" people\", 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_38, _toDisplayString(alloc.distance ? alloc.distance.toFixed(2) : 'N/A'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_39, [_createElementVNode(\"span\", {\n      class: _normalizeClass(['hazard-badge', $setup.getSafetyFactorClass(alloc.safety_factor || 0)])\n    }, _toDisplayString((alloc.safety_factor || 0).toFixed(2)), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_40, [_createElementVNode(\"strong\", null, _toDisplayString((alloc.final_score || 0).toFixed(1)), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Evacuation Areas List \"), _createElementVNode(\"div\", _hoisted_41, [_cache[32] || (_cache[32] = _createElementVNode(\"div\", {\n    class: \"card-header\"\n  }, \"üìã Evacuation Areas List\", -1 /* CACHED */)), _createCommentVNode(\" Loading State \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_42, [...(_cache[28] || (_cache[28] = [_createElementVNode(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"sr-only\"\n  }, \"Loading...\")], -1 /* CACHED */), _createElementVNode(\"p\", {\n    class: \"mt-2\"\n  }, \"Loading evacuation areas‚Ä¶\", -1 /* CACHED */)]))])) : $setup.error ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Error State \"), _createElementVNode(\"div\", _hoisted_43, [_cache[29] || (_cache[29] = _createElementVNode(\"strong\", null, \"Error:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.error), 1 /* TEXT */)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $setup.areas.length > 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Areas Table \"), _createElementVNode(\"div\", _hoisted_44, [_createElementVNode(\"table\", _hoisted_45, [_cache[30] || (_cache[30] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Name\"), _createElementVNode(\"th\", null, \"Address\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Capacity\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Current\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Available\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Status\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Risk Score\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Final Score\"), _createElementVNode(\"th\", {\n    class: \"text-center\"\n  }, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.areas, area => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: area.id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"strong\", null, _toDisplayString(area.name), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(area.address), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_46, _toDisplayString(area.capacity || '‚Äî'), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_47, _toDisplayString(area.current_occupancy || 0), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_48, [_createElementVNode(\"strong\", null, _toDisplayString((area.capacity || 0) - (area.current_occupancy || 0)), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_49, [_createElementVNode(\"span\", {\n      class: _normalizeClass(['badge-custom', $setup.getStatusBadgeClass(area.status)])\n    }, _toDisplayString($setup.capitalizeFirst(area.status)), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_50, [_createElementVNode(\"span\", {\n      class: _normalizeClass(['hazard-badge', $setup.getHazardBadgeClass(area.risk_score || 0)])\n    }, _toDisplayString((area.risk_score || 0).toFixed(1)), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_51, [_createElementVNode(\"strong\", _hoisted_52, _toDisplayString((area.final_score || 0).toFixed(1)), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_53, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-sm\",\n      onClick: $event => $setup.goToAreaDetail(area.id)\n    }, \" View \", 8 /* PROPS */, _hoisted_54)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" Empty State \"), _cache[31] || (_cache[31] = _createElementVNode(\"div\", {\n    class: \"muted p-3\"\n  }, \"No evacuation areas found.\", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","id","$setup","showRouteDirections","_hoisted_4","onClick","closeRouteDirections","_hoisted_5","routeDirections","length","_hoisted_6","_hoisted_7","_toDisplayString","selectedArea","name","routeDistance","routeTime","_hoisted_8","_Fragment","_renderList","step","index","key","instruction","_hoisted_9","_hoisted_10","getLocation","_hoisted_11","locationStatus","_hoisted_12","predictionsLoading","_hoisted_13","_cache","role","disasterPredictions","_hoisted_14","slice","prediction","_normalizeClass","getPredictionSeverityClass","severity","_hoisted_15","disaster_type","_hoisted_16","_hoisted_17","location_name","_hoisted_18","formatDate","predicted_date","predicted_at","_hoisted_19","risk_level","_hoisted_20","_createVNode","_component_router_link","to","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","predictedEvacuees","_hoisted_26","topArea","_hoisted_27","_hoisted_28","_hoisted_29","address","_hoisted_30","risk_score","toFixed","final_score","capacity","current_occupancy","$event","goToAreaDetail","_hoisted_31","prescriptiveData","allocations","_hoisted_32","_hoisted_33","_hoisted_34","alloc","evacuation_area_id","_hoisted_35","_hoisted_36","assigned","_hoisted_37","capacity_left","_hoisted_38","distance","_hoisted_39","getSafetyFactorClass","safety_factor","_hoisted_40","_hoisted_41","loading","_hoisted_42","error","_hoisted_43","areas","_hoisted_44","_hoisted_45","area","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","getStatusBadgeClass","status","capitalizeFirst","_hoisted_50","getHazardBadgeClass","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\resident_pages\\EvacuationAreaList.vue"],"sourcesContent":["<template>\r\n  <div class=\"evac-list\">\r\n    <!-- Header -->\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">üó∫Ô∏è Evacuation Areas & Disaster Predictions Map</div>\r\n\r\n      <!-- Map Container -->\r\n      <div class=\"map-container\">\r\n        <div id=\"map\" class=\"map\"></div>\r\n\r\n        <!-- Route Directions Panel -->\r\n        <div v-if=\"showRouteDirections\" class=\"route-panel\">\r\n          <div class=\"route-header\">\r\n            <h4>üõ£Ô∏è Route Directions</h4>\r\n            <button @click=\"closeRouteDirections\" class=\"close-btn\">√ó</button>\r\n          </div>\r\n          <div class=\"route-content\">\r\n            <div v-if=\"routeDirections.length > 0\">\r\n              <div class=\"route-info\">\r\n                <strong>From:</strong> Your Location<br>\r\n                <strong>To:</strong> {{ selectedArea?.name }}<br>\r\n                <strong>Distance:</strong> {{ routeDistance }}<br>\r\n                <strong>Estimated Time:</strong> {{ routeTime }}\r\n              </div>\r\n              <div class=\"route-steps\">\r\n                <ol>\r\n                  <li v-for=\"(step, index) in routeDirections\" :key=\"index\">\r\n                    {{ step.instruction }}\r\n                  </li>\r\n                </ol>\r\n              </div>\r\n            </div>\r\n            <div v-else class=\"route-loading\">\r\n              Calculating route...\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Location Status -->\r\n      <div class=\"location-status-box\">\r\n        <h4>üìç Your Location</h4>\r\n        <div class=\"loc-controls\">\r\n          <button class=\"btn btn-success\" @click=\"getLocation\">Get My Location</button>\r\n        </div>\r\n        <div class=\"muted\">{{ locationStatus }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Disaster Predictions Section -->\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">üå™Ô∏è Active Disaster Predictions</div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"predictionsLoading\" class=\"center py-4\">\r\n        <div class=\"spinner-border\" role=\"status\">\r\n          <span class=\"sr-only\">Loading predictions...</span>\r\n        </div>\r\n        <p class=\"mt-2\">Loading disaster predictions‚Ä¶</p>\r\n      </div>\r\n\r\n      <!-- Predictions List -->\r\n      <div v-else-if=\"disasterPredictions.length > 0\" class=\"predictions-grid\">\r\n        <div\r\n          v-for=\"prediction in disasterPredictions.slice(0, 3)\"\r\n          :key=\"prediction.id\"\r\n          class=\"prediction-card\"\r\n          :class=\"getPredictionSeverityClass(prediction.severity)\"\r\n        >\r\n          <div class=\"prediction-header\">\r\n            <h4>{{ prediction.disaster_type }}</h4>\r\n            <span class=\"severity-badge\" :class=\"getPredictionSeverityClass(prediction.severity)\">\r\n              {{ prediction.severity }}\r\n            </span>\r\n          </div>\r\n          <div class=\"prediction-body\">\r\n            <div class=\"prediction-detail\">\r\n              <strong>Location:</strong> {{ prediction.location_name }}\r\n            </div>\r\n            <div class=\"prediction-detail\">\r\n              <strong>Expected Date:</strong> {{ formatDate(prediction.predicted_date || prediction.predicted_at) }}\r\n            </div>\r\n           \r\n            <div class=\"prediction-detail\">\r\n              <strong>Risk Level:</strong> {{ prediction.risk_level }}/10\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Empty State -->\r\n      <div v-else class=\"muted p-3\">No active disaster predictions available.</div>\r\n\r\n      <!-- View All Link -->\r\n      <div v-if=\"disasterPredictions.length > 3\" class=\"text-center p-3\">\r\n        <router-link to=\"/resident_pages/disaster-predictions\" class=\"btn btn-secondary\">\r\n          View All Predictions ‚Üí\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Prescriptive Analytics Section -->\r\n    <div class=\"analytics-section\">\r\n      <!-- Top Recommendation Card -->\r\n      <div class=\"card prescriptive card-shadow\">\r\n        <div class=\"prescriptive-header\">\r\n          <!-- Left: Predicted Evacuees -->\r\n          <div class=\"pred-left\">\r\n            <h2>üìä Prescriptive Analytics</h2>\r\n            <div class=\"small\">Predicted Evacuees</div>\r\n            <div class=\"big\">{{ predictedEvacuees }}</div>\r\n          </div>\r\n\r\n          <!-- Right: Top Recommended Area -->\r\n          <div class=\"pred-right\">\r\n            <div class=\"small\">Recommended Evacuation Area (Top Score)</div>\r\n            <div v-if=\"topArea\" class=\"top-area\">\r\n              <div class=\"name\">\r\n                {{ topArea.name }}\r\n                <small class=\"addr\">- {{ topArea.address }}</small>\r\n              </div>\r\n              <div class=\"meta\">\r\n                Risk: <strong>{{ (topArea.risk_score || 0).toFixed(1) }}</strong> ¬∑\r\n                Final Score: <strong>{{ (topArea.final_score || 0).toFixed(1) }}</strong> ¬∑\r\n                Remaining: <strong>{{ (topArea.capacity || 0) - (topArea.current_occupancy || 0) }}</strong>\r\n              </div>\r\n              <button\r\n                class=\"btn btn-primary mt-8\"\r\n                @click=\"goToAreaDetail(topArea.id)\"\r\n              >\r\n                View Details ‚Üí\r\n              </button>\r\n            </div>\r\n            <div v-else class=\"small muted\">No recommended area available</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Allocations Table (if available) -->\r\n      <div v-if=\"prescriptiveData?.allocations?.length\" class=\"card\">\r\n        <div class=\"card-header\">üìç Recommended Allocations</div>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-custom\">\r\n            <thead>\r\n              <tr>\r\n                <th>Evacuation Area</th>\r\n                <th class=\"text-center\">Assigned Evacuees</th>\r\n                <th class=\"text-center\">Remaining Capacity</th>\r\n                <th class=\"text-center\">Distance (km)</th>\r\n                <th class=\"text-center\">Safety Factor</th>\r\n                <th class=\"text-center\">Final Score</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"alloc in prescriptiveData.allocations\" :key=\"alloc.evacuation_area_id\">\r\n                <td>\r\n                  <strong>{{ alloc.name }}</strong>\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <span class=\"badge badge-success\">{{ alloc.assigned || 0 }} people</span>\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <span>{{ alloc.capacity_left || 0 }} people</span>\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  {{ alloc.distance ? alloc.distance.toFixed(2) : 'N/A' }}\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <span :class=\"['hazard-badge', getSafetyFactorClass(alloc.safety_factor || 0)]\">\r\n                    {{ (alloc.safety_factor || 0).toFixed(2) }}\r\n                  </span>\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <strong>{{ (alloc.final_score || 0).toFixed(1) }}</strong>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Evacuation Areas List -->\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">üìã Evacuation Areas List</div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"center py-4\">\r\n        <div class=\"spinner-border\" role=\"status\">\r\n          <span class=\"sr-only\">Loading...</span>\r\n        </div>\r\n        <p class=\"mt-2\">Loading evacuation areas‚Ä¶</p>\r\n      </div>\r\n\r\n      <!-- Error State -->\r\n      <div v-else-if=\"error\" class=\"error-msg p-3\">\r\n        <strong>Error:</strong> {{ error }}\r\n      </div>\r\n\r\n      <!-- Areas Table -->\r\n      <div v-else-if=\"areas.length > 0\" class=\"table-responsive\">\r\n        <table class=\"table table-custom\">\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Address</th>\r\n              <th class=\"text-center\">Capacity</th>\r\n              <th class=\"text-center\">Current</th>\r\n              <th class=\"text-center\">Available</th>\r\n              <th class=\"text-center\">Status</th>\r\n              <th class=\"text-center\">Risk Score</th>\r\n              <th class=\"text-center\">Final Score</th>\r\n              <th class=\"text-center\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"area in areas\" :key=\"area.id\">\r\n              <td>\r\n                <strong>{{ area.name }}</strong>\r\n              </td>\r\n              <td>{{ area.address }}</td>\r\n              <td class=\"text-center\">{{ area.capacity || '‚Äî' }}</td>\r\n              <td class=\"text-center\">{{ area.current_occupancy || 0 }}</td>\r\n              <td class=\"text-center\">\r\n                <strong>{{ (area.capacity || 0) - (area.current_occupancy || 0) }}</strong>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <span :class=\"['badge-custom', getStatusBadgeClass(area.status)]\">\r\n                  {{ capitalizeFirst(area.status) }}\r\n                </span>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <span :class=\"['hazard-badge', getHazardBadgeClass(area.risk_score || 0)]\">\r\n                  {{ (area.risk_score || 0).toFixed(1) }}\r\n                </span>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <strong style=\"color: #667eea;\">{{ (area.final_score || 0).toFixed(1) }}</strong>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <button\r\n                  class=\"btn btn-primary btn-sm\"\r\n                  @click=\"goToAreaDetail(area.id)\"\r\n                >\r\n                  View\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- Empty State -->\r\n      <div v-else class=\"muted p-3\">No evacuation areas found.</div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted, watch } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { residentEvacuationService, residentPredictionsService } from '@/services/residentService';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'leaflet-routing-machine';\r\nimport 'leaflet-routing-machine/dist/leaflet-routing-machine.css';\r\n\r\nconst router = useRouter();\r\n\r\n// ============ DATA ============\r\nconst areas = ref([]);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\n\r\n// Disaster predictions\r\nconst disasterPredictions = ref([]);\r\nconst predictionsLoading = ref(true);\r\n\r\n// Prescriptive analytics\r\nconst predictedEvacuees = ref(29.41);\r\nconst topArea = ref(null);\r\nconst prescriptiveData = ref(null);\r\n\r\n// User location\r\nconst userLocation = ref(null);\r\nconst locationStatus = ref('');\r\n\r\n// Map instance\r\nlet map = null;\r\nlet areaMarkers = [];\r\nlet predictionMarkers = [];\r\nlet userLocationMarker = null;\r\nlet updateTimeout = null;\r\nlet mapInitialized = false;\r\n\r\n// Route directions\r\nconst showRouteDirections = ref(false);\r\nconst selectedArea = ref(null);\r\nconst routeDirections = ref([]);\r\nconst routeDistance = ref('');\r\nconst routeTime = ref('');\r\n\r\n// Routing control\r\nlet routingControl = null;\r\n\r\n// Add location modal (removed - residents cannot create evacuation areas)\r\n\r\n// ============ METHODS ============\r\n\r\n/**\r\n * Capitalize first letter of a string\r\n */\r\nfunction capitalizeFirst(str) {\r\n  if (!str) return '';\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * Get status badge CSS class\r\n */\r\nfunction getStatusBadgeClass(status) {\r\n  const classMap = {\r\n    'available': 'badge-success',\r\n    'full': 'badge-danger',\r\n    'closed': 'badge-warning',\r\n    'pending': 'badge-warning'\r\n  };\r\n  return classMap[status] || 'badge-warning';\r\n}\r\n\r\n/**\r\n * Get hazard badge class based on risk score\r\n */\r\nfunction getHazardBadgeClass(riskScore) {\r\n  if (!riskScore) riskScore = 0;\r\n  if (riskScore >= 8) return 'hazard-critical';\r\n  if (riskScore >= 6) return 'hazard-high';\r\n  if (riskScore >= 4) return 'hazard-moderate';\r\n  return 'hazard-low';\r\n}\r\n\r\n/**\r\n * Get safety factor badge class\r\n */\r\nfunction getSafetyFactorClass(safetyFactor) {\r\n  if (!safetyFactor) safetyFactor = 0;\r\n  if (safetyFactor >= 0.8) return 'hazard-low';\r\n  if (safetyFactor >= 0.6) return 'hazard-moderate';\r\n  if (safetyFactor >= 0.4) return 'hazard-high';\r\n  return 'hazard-critical';\r\n}\r\n\r\n/**\r\n * Get prediction severity class\r\n */\r\nfunction getPredictionSeverityClass(severity) {\r\n  const severityMap = {\r\n    'low': 'severity-low',\r\n    'moderate': 'severity-moderate',\r\n    'high': 'severity-high',\r\n    'critical': 'severity-critical'\r\n  };\r\n  return severityMap[severity?.toLowerCase()] || 'severity-moderate';\r\n}\r\n\r\n/**\r\n * Get disaster marker color based on disaster type\r\n */\r\nfunction getDisasterMarkerColor(disasterType) {\r\n  const colorMap = {\r\n    'flood': '#1e40af', // blue\r\n    'earthquake': '#dc2626', // red\r\n    'typhoon': '#059669', // green\r\n    'unknown': '#6b7280' // gray\r\n  };\r\n  return colorMap[disasterType] || colorMap['unknown'];\r\n}\r\n\r\n/**\r\n * Get disaster icon based on disaster type\r\n */\r\nfunction getDisasterIcon(disasterType) {\r\n  const iconMap = {\r\n    'flood': 'üåä',\r\n    'earthquake': 'üåã',\r\n    'typhoon': 'üåÄ',\r\n    'unknown': '‚ö†Ô∏è'\r\n  };\r\n  return iconMap[disasterType] || iconMap['unknown'];\r\n}\r\n\r\n/**\r\n * Get risk circle color based on risk level\r\n */\r\nfunction getRiskCircleColor(riskLevel) {\r\n  if (riskLevel >= 8) return '#dc2626'; // red\r\n  if (riskLevel >= 6) return '#ea580c'; // orange\r\n  if (riskLevel >= 4) return '#f59e0b'; // amber\r\n  if (riskLevel >= 2) return '#eab308'; // yellow\r\n  return '#22c55e'; // green\r\n}\r\n\r\n/**\r\n * Format date for display\r\n */\r\nfunction formatDate(dateString) {\r\n  if (!dateString) return 'N/A';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  } catch (e) {\r\n    return dateString;\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch disaster predictions from API\r\n */\r\nasync function fetchDisasterPredictions() {\r\n  predictionsLoading.value = true;\r\n\r\n  try {\r\n    const response = await residentPredictionsService.getDisasterPredictions();\r\n\r\n    // Handle paginated or array responses like in DisasterPredictionsList.vue\r\n    let predictionsData = response.data;\r\n    if (predictionsData && predictionsData.data) {\r\n      // Paginated response\r\n      predictionsData = predictionsData.data;\r\n    } else if (!Array.isArray(predictionsData)) {\r\n      // Not an array, set to empty\r\n      predictionsData = [];\r\n    }\r\n\r\n    disasterPredictions.value = Array.isArray(predictionsData) ? predictionsData.map(normalizePrediction) : [];\r\n\r\n    console.log('[EvacuationAreaList] Loaded disaster predictions:', disasterPredictions.value.length);\r\n  } catch (err) {\r\n    console.error('[EvacuationAreaList] Error fetching disaster predictions:', err);\r\n    disasterPredictions.value = [];\r\n  } finally {\r\n    predictionsLoading.value = false;\r\n  }\r\n}\r\n\r\n/**\r\n * Normalize prediction data to match frontend expectations\r\n */\r\nfunction normalizePrediction(p) {\r\n  const disaster_type = p.disaster_type ?? p.disasterType ?? p.type ?? '';\r\n  const risk_level = p.risk_level ?? p.riskLevel ?? p.risk ?? 0;\r\n  const location_name = p.location_name ?? p.location ?? 'Unknown Location';\r\n  const latitude = p.latitude ?? 14.5995; // Default Manila coordinates\r\n  const longitude = p.longitude ?? 120.9842;\r\n  const probability = p.probability ?? p.confidence ?? 0;\r\n  const predicted_date = p.predicted_date ?? p.predicted_at ?? null;\r\n  const predicted_recovery_days = p.predicted_recovery_days ?? p.recoveryDays ?? null;\r\n\r\n  return {\r\n    ...p,\r\n    disaster_type,\r\n    risk_level,\r\n    location_name,\r\n    latitude,\r\n    longitude,\r\n    probability,\r\n    predicted_date,\r\n    predicted_recovery_days\r\n  };\r\n}\r\n\r\n/**\r\n * Fetch all evacuation areas from API\r\n */\r\nasync function fetchAreas() {\r\n  loading.value = true;\r\n  error.value = null;\r\n\r\n  try {\r\n    const response = await residentEvacuationService.getAvailableAreas();\r\n\r\n    // Handle array or wrapped responses\r\n    let areasData = response;\r\n    if (response && typeof response === 'object' && !Array.isArray(response)) {\r\n      areasData = response.data || response.evacuationAreas || [];\r\n    }\r\n\r\n    areas.value = Array.isArray(areasData) ? areasData : [];\r\n\r\n    // Normalize numeric fields to avoid runtime template errors (toFixed expects Number)\r\n    areas.value = areas.value.map(a => {\r\n      const area = { ...a };\r\n      area.risk_score = (area.risk_score === null || area.risk_score === undefined) ? 0 : Number(area.risk_score);\r\n      if (Number.isNaN(area.risk_score)) area.risk_score = 0;\r\n      area.final_score = (area.final_score === null || area.final_score === undefined) ? 0 : Number(area.final_score);\r\n      if (Number.isNaN(area.final_score)) area.final_score = 0;\r\n      area.capacity = (area.capacity === null || area.capacity === undefined) ? 0 : Number(area.capacity);\r\n      if (Number.isNaN(area.capacity)) area.capacity = 0;\r\n      area.current_occupancy = (area.current_occupancy === null || area.current_occupancy === undefined) ? 0 : Number(area.current_occupancy);\r\n      if (Number.isNaN(area.current_occupancy)) area.current_occupancy = 0;\r\n      area.capacity_score = (area.capacity_score === null || area.capacity_score === undefined) ? 0 : Number(area.capacity_score);\r\n      if (Number.isNaN(area.capacity_score)) area.capacity_score = 0;\r\n      area.distance_score = (area.distance_score === null || area.distance_score === undefined) ? 0 : Number(area.distance_score);\r\n      if (Number.isNaN(area.distance_score)) area.distance_score = 0;\r\n      return area;\r\n    });\r\n\r\n    // Add mock lat/lng coordinates for areas that don't have them\r\n    areas.value = areas.value.map((area) => {\r\n      if (!area.latitude || !area.longitude) {\r\n        // Base coordinates around Manila, Philippines with small variations\r\n        const baseLat = 14.5995;\r\n        const baseLng = 120.9842;\r\n        const variation = 0.01; // ~1km variation\r\n\r\n        area.latitude = baseLat + (Math.random() - 0.5) * variation;\r\n        area.longitude = baseLng + (Math.random() - 0.5) * variation;\r\n      }\r\n      return area;\r\n    });\r\n\r\n    // Set top recommended area (highest final_score)\r\n    topArea.value = areas.value.length > 0\r\n      ? areas.value\r\n          .slice()\r\n          .sort((a, b) => (b.final_score || 0) - (a.final_score || 0))[0]\r\n      : null;\r\n\r\n    console.log('[EvacuationAreaList] Loaded areas:', areas.value.length);\r\n  } catch (err) {\r\n    console.error('[EvacuationAreaList] Error fetching areas:', err);\r\n    error.value = err.response?.data?.message || err.message || 'Failed to load evacuation areas';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\n/**\r\n * Add user location marker to the map\r\n */\r\nfunction addUserLocationMarker() {\r\n  if (!map || !userLocation.value) return;\r\n\r\n  // Remove existing user location marker\r\n  if (userLocationMarker && map.hasLayer(userLocationMarker)) {\r\n    map.removeLayer(userLocationMarker);\r\n  }\r\n\r\n  // Create a custom icon for user location (blue marker)\r\n  const userIcon = L.divIcon({\r\n    className: 'user-location-marker',\r\n    html: '<div style=\"background-color: #007bff; border: 3px solid white; border-radius: 50%; width: 20px; height: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\"></div>',\r\n    iconSize: [20, 20],\r\n    iconAnchor: [10, 10]\r\n  });\r\n\r\n  // Add marker to map\r\n  userLocationMarker = L.marker([userLocation.value.lat, userLocation.value.lng], { icon: userIcon })\r\n    .addTo(map)\r\n    .bindPopup('<strong>Your Location</strong><br>Current position');\r\n\r\n  console.log('[EvacuationAreaList] User location marker added');\r\n}\r\n\r\n/**\r\n * Get user location using Geolocation API\r\n */\r\nfunction getLocation() {\r\n  locationStatus.value = 'Getting location...';\r\n\r\n  if (!navigator.geolocation) {\r\n    locationStatus.value = 'Geolocation not supported by this browser';\r\n    return;\r\n  }\r\n\r\n  navigator.geolocation.getCurrentPosition(\r\n    (pos) => {\r\n      const lat = pos.coords.latitude;\r\n      const lng = pos.coords.longitude;\r\n\r\n      userLocation.value = { lat, lng };\r\n      locationStatus.value = `Lat ${lat.toFixed(6)}, Lng ${lng.toFixed(6)}`;\r\n\r\n      // Add user location marker to map\r\n      addUserLocationMarker();\r\n\r\n      // Fetch prescriptive data for the new location\r\n      watchUserLocation();\r\n    },\r\n    (err) => {\r\n      locationStatus.value = `Error: ${err.message}`;\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * Navigate to evacuation area detail page\r\n */\r\nfunction goToAreaDetail(areaId) {\r\n  router.push(`/resident_pages/evacuation-areas/${areaId}`);\r\n}\r\n\r\n/**\r\n * Initialize map\r\n */\r\nfunction initializeMap() {\r\n  if (map) return; // Already initialized\r\n\r\n  // Fix Leaflet icon paths to use absolute URLs from root\r\n  delete L.Icon.Default.prototype._getIconUrl;\r\n  L.Icon.Default.mergeOptions({\r\n    iconUrl: '/marker-icon.png',\r\n    shadowUrl: '/marker-shadow.png',\r\n  });\r\n\r\n  // Default center (Manila, Philippines)\r\n  const defaultCenter = [14.5995, 120.9842];\r\n\r\n  map = L.map('map').setView(defaultCenter, 10);\r\n\r\n  // Add OpenStreetMap tiles\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '¬© OpenStreetMap contributors',\r\n    maxZoom: 18,\r\n  }).addTo(map);\r\n\r\n  // Mark map as initialized\r\n  mapInitialized = true;\r\n  console.log('[EvacuationAreaList] Map initialized successfully');\r\n}\r\n\r\n/**\r\n * Update area markers on map with debouncing and initialization checks\r\n */\r\nfunction updateAreaMarkers() {\r\n  // Clear any existing timeout\r\n  if (updateTimeout) {\r\n    clearTimeout(updateTimeout);\r\n  }\r\n\r\n  // Debounce updates to prevent rapid firing\r\n  updateTimeout = setTimeout(() => {\r\n    updateAreaMarkersImmediate();\r\n  }, 300); // 300ms debounce\r\n}\r\n\r\n/**\r\n * Immediate marker update function (called after debouncing)\r\n */\r\nfunction updateAreaMarkersImmediate() {\r\n  // Check if map is initialized\r\n  if (!map || !mapInitialized) {\r\n    console.log('[EvacuationAreaList] Map not initialized, skipping marker update');\r\n    return;\r\n  }\r\n\r\n  console.log('[EvacuationAreaList] Updating markers:', areas.value.length, 'areas,', disasterPredictions.value.length, 'predictions');\r\n\r\n  // Clear existing markers more efficiently\r\n  areaMarkers.forEach(marker => {\r\n    if (map.hasLayer(marker)) {\r\n      map.removeLayer(marker);\r\n    }\r\n  });\r\n  areaMarkers = [];\r\n\r\n  predictionMarkers.forEach(marker => {\r\n    if (map.hasLayer(marker)) {\r\n      map.removeLayer(marker);\r\n    }\r\n  });\r\n  predictionMarkers = [];\r\n\r\n  // Clear user location marker\r\n  if (userLocationMarker && map.hasLayer(userLocationMarker)) {\r\n    map.removeLayer(userLocationMarker);\r\n  }\r\n  userLocationMarker = null;\r\n\r\n  // Add evacuation area markers\r\n  areas.value.forEach(area => {\r\n    if (area.latitude && area.longitude) {\r\n      const marker = L.marker([area.latitude, area.longitude])\r\n        .addTo(map)\r\n        .bindPopup(`\r\n          <div style=\"min-width: 200px;\">\r\n            <strong>${area.name}</strong><br>\r\n            <span style=\"color: #666;\">${area.address}</span><br>\r\n            <span><strong>Capacity:</strong> ${area.capacity}</span><br>\r\n            <span><strong>Risk Score:</strong> ${area.risk_score?.toFixed(1) || 'N/A'}</span><br>\r\n            <span><strong>Available:</strong> ${(area.capacity || 0) - (area.current_occupancy || 0)}</span><br>\r\n            <button onclick=\"window.viewAreaDetail(${area.id})\" style=\"margin-top: 8px; padding: 4px 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer;\">View Details</button>\r\n            ${userLocation.value ? `<button onclick=\"window.getRouteDirections(${area.latitude}, ${area.longitude}, '${area.name.replace(/'/g, \"\\\\'\")}')\" style=\"margin-top: 8px; margin-left: 4px; padding: 4px 8px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;\">Show Route</button>` : ''}\r\n          </div>\r\n        `);\r\n\r\n      areaMarkers.push(marker);\r\n    }\r\n  });\r\n\r\n  // Add disaster prediction markers\r\n  disasterPredictions.value.forEach(prediction => {\r\n    if (prediction.latitude && prediction.longitude) {\r\n      const disasterType = prediction.disaster_type?.toLowerCase() || 'unknown';\r\n      const riskLevel = parseInt(prediction.risk_level || 0, 10);\r\n\r\n      // Get marker color based on disaster type\r\n      const markerColor = getDisasterMarkerColor(disasterType);\r\n\r\n      // Create custom icon\r\n      const customIcon = L.divIcon({\r\n        className: 'custom-disaster-marker',\r\n        html: `<div style=\"background-color: ${markerColor}; border: 2px solid white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.3);\">${getDisasterIcon(disasterType)}</div>`,\r\n        iconSize: [24, 24],\r\n        iconAnchor: [12, 12]\r\n      });\r\n\r\n      const marker = L.marker([prediction.latitude, prediction.longitude], { icon: customIcon })\r\n        .addTo(map)\r\n        .bindPopup(`\r\n          <div style=\"min-width: 250px;\">\r\n            <strong style=\"color: ${markerColor};\">${prediction.disaster_type || 'Unknown Disaster'}</strong><br>\r\n            <span style=\"color: #666;\">${prediction.location_name || prediction.location || 'Unknown Location'}</span><br>\r\n            <span><strong>Risk Level:</strong> ${prediction.risk_level || 'N/A'}/10</span><br>\r\n            <span><strong>Expected:</strong> ${formatDate(prediction.predicted_date || prediction.predicted_at)}</span><br>\r\n            <span><strong>Confidence:</strong> ${prediction.probability || 'N/A'}%</span><br>\r\n            <span><strong>Recovery:</strong> ${prediction.predicted_recovery_days || 'N/A'} days</span><br>\r\n            <button onclick=\"window.viewPredictionDetail(${prediction.id})\" style=\"margin-top: 8px; padding: 4px 8px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;\">View Details</button>\r\n          </div>\r\n        `);\r\n\r\n      // Add risk circle\r\n      const circleColor = getRiskCircleColor(riskLevel);\r\n      L.circle([prediction.latitude, prediction.longitude], {\r\n        color: circleColor,\r\n        fillColor: circleColor,\r\n        fillOpacity: 0.2,\r\n        radius: Math.max(500, riskLevel * 200),\r\n        weight: 2\r\n      }).addTo(map);\r\n\r\n      predictionMarkers.push(marker);\r\n    }\r\n  });\r\n\r\n  // Fit map to show all markers only if we have markers\r\n  const allMarkers = [...areaMarkers, ...predictionMarkers];\r\n  if (allMarkers.length > 0) {\r\n    try {\r\n      const group = new L.featureGroup(allMarkers);\r\n      map.fitBounds(group.getBounds().pad(0.1));\r\n    } catch (error) {\r\n      console.warn('[EvacuationAreaList] Could not fit bounds:', error);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch prescriptive analytics data\r\n */\r\nasync function fetchPrescriptiveData() {\r\n  if (!userLocation.value) return;\r\n\r\n  try {\r\n    const response = await residentEvacuationService.getRecommendedArea(\r\n      userLocation.value.lat,\r\n      userLocation.value.lng,\r\n      predictedEvacuees.value\r\n    );\r\n\r\n    prescriptiveData.value = response;\r\n    console.log('[EvacuationAreaList] Prescriptive data loaded:', response);\r\n  } catch (err) {\r\n    console.error('[EvacuationAreaList] Error fetching prescriptive data:', err);\r\n  }\r\n}\r\n\r\n/**\r\n * Watch for user location changes to fetch prescriptive data\r\n */\r\nfunction watchUserLocation() {\r\n  if (userLocation.value) {\r\n    fetchPrescriptiveData();\r\n  }\r\n}\r\n\r\n/**\r\n * Initialize on mount\r\n */\r\nonMounted(async () => {\r\n  await fetchAreas();\r\n  await fetchDisasterPredictions();\r\n  initializeMap();\r\n  updateAreaMarkers();\r\n  initializeGlobalFunctions();\r\n\r\n  // Watch for user location changes\r\n  watch(userLocation, () => {\r\n    watchUserLocation();\r\n  });\r\n\r\n  // Watch for data changes to update markers\r\n  watch(areas, () => {\r\n    updateAreaMarkers();\r\n  });\r\n\r\n  watch(disasterPredictions, () => {\r\n    updateAreaMarkers();\r\n  });\r\n\r\n  // Watch for user location changes to update markers (for Show Route button)\r\n  watch(userLocation, () => {\r\n    updateAreaMarkers();\r\n  });\r\n});\r\n\r\n/**\r\n * Close route directions panel\r\n */\r\nfunction closeRouteDirections() {\r\n  showRouteDirections.value = false;\r\n  selectedArea.value = null;\r\n  routeDirections.value = [];\r\n  routeDistance.value = '';\r\n  routeTime.value = '';\r\n\r\n  // Remove routing control from map\r\n  if (routingControl) {\r\n    map.removeControl(routingControl);\r\n    routingControl = null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get route directions to an evacuation area\r\n */\r\nfunction getRouteDirections(lat, lng, name) {\r\n  if (!userLocation.value) {\r\n    alert('Please get your location first to view directions.');\r\n    return;\r\n  }\r\n\r\n  selectedArea.value = { latitude: lat, longitude: lng, name };\r\n  showRouteDirections.value = true;\r\n  routeDirections.value = [];\r\n  routeDistance.value = 'Calculating...';\r\n  routeTime.value = 'Calculating...';\r\n\r\n  // Remove existing routing control\r\n\r\n  // Listen for route found event\r\n  routingControl.on('routesfound', (e) => {\r\n    const routes = e.routes;\r\n    const route = routes[0];\r\n\r\n    // Extract route information\r\n    routeDistance.value = `${(route.summary.totalDistance / 1000).toFixed(2)} km`;\r\n    routeTime.value = `${Math.round(route.summary.totalTime / 60)} min`;\r\n\r\n    // Extract step-by-step instructions\r\n    routeDirections.value = route.instructions.map(instruction => ({\r\n      instruction: instruction.text\r\n    }));\r\n\r\n    console.log('[EvacuationAreaList] Route calculated:', {\r\n      distance: routeDistance.value,\r\n      time: routeTime.value,\r\n      steps: routeDirections.value.length\r\n    });\r\n  });\r\n\r\n  // Handle routing errors\r\n  routingControl.on('routingerror', (e) => {\r\n    console.error('[EvacuationAreaList] Routing error:', e);\r\n    routeDistance.value = 'Error calculating route';\r\n    routeTime.value = 'Error calculating route';\r\n    routeDirections.value = [{ instruction: 'Unable to calculate route. Please try again.' }];\r\n  });\r\n}\r\n\r\n/**\r\n * Initialize global window functions for marker popups\r\n */\r\nfunction initializeGlobalFunctions() {\r\n  window.viewAreaDetail = (areaId) => {\r\n    goToAreaDetail(areaId);\r\n  };\r\n\r\n  window.getRouteDirections = (lat, lng, name) => {\r\n    getRouteDirections(lat, lng, name);\r\n  };\r\n}\r\n\r\n/**\r\n * Cleanup on unmount\r\n */\r\nonUnmounted(() => {\r\n  if (map) {\r\n    map.remove();\r\n    map = null;\r\n  }\r\n\r\n  // Clean up routing control\r\n  if (routingControl) {\r\n    routingControl = null;\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.evac-list {\r\n  padding: 1rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Header Styles */\r\n.card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.card-header {\r\n  padding: 1rem;\r\n  font-weight: 700;\r\n  border-bottom: 1px solid #e6edf3;\r\n  background: linear-gradient(180deg, #f8fafc 0%, #eef2f6 100%);\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n/* Controls */\r\n.controls {\r\n  padding: 12px;\r\n  display: flex;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.controls label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.controls input[type=\"checkbox\"] {\r\n  cursor: pointer;\r\n}\r\n\r\n/* Info Box */\r\n.info-box {\r\n  background: #fff3cd;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  margin: 8px 12px;\r\n  border-left: 4px solid #ffc107;\r\n}\r\n\r\n.legend {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-top: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  gap: 6px;\r\n  align-items: center;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.dot {\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  border: 2px solid white;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.2);\r\n}\r\n\r\n.dot.low { background: #28a745; }\r\n.dot.moderate { background: #ffc107; }\r\n.dot.high { background: #fd7e14; }\r\n.dot.critical { background: #dc3545; }\r\n\r\n/* Map */\r\n.map {\r\n  height: 320px;\r\n  border-radius: 8px;\r\n  margin: 12px;\r\n  background: #eef2f6;\r\n  border: 1px solid #e6edf3;\r\n}\r\n\r\n/* Location Status Box */\r\n.location-status-box {\r\n  padding: 12px;\r\n  margin: 0 12px 12px 12px;\r\n}\r\n\r\n.location-status-box h4 {\r\n  margin: 0 0 12px 0;\r\n}\r\n\r\n.loc-controls {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.muted {\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n  margin-top: 8px;\r\n}\r\n\r\n/* Prescriptive Analytics */\r\n.p-6 { padding: 1.5rem 0; }\r\n.mb-8 { margin-bottom: 2rem; }\r\n\r\n.prescriptive {\r\n  padding: 1.5rem;\r\n  margin: 0 0 1.5rem 0;\r\n}\r\n\r\n.prescriptive-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  gap: 2rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.pred-left h2 {\r\n  margin: 0 0 0.5rem 0;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.pred-left .small {\r\n  font-size: 0.85rem;\r\n  color: #666;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.pred-left .big {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #667eea;\r\n}\r\n\r\n.pred-right {\r\n  flex: 1;\r\n  min-width: 300px;\r\n}\r\n\r\n.pred-right .small {\r\n  font-size: 0.85rem;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.top-area {\r\n  background: #f8fafc;\r\n  padding: 12px;\r\n  border-radius: 6px;\r\n  border: 1px solid #e6edf3;\r\n}\r\n\r\n.top-area .name {\r\n  font-weight: 600;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.top-area .addr {\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.top-area .meta {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.mt-8 { margin-top: 8px; }\r\n\r\n/* Table Styles */\r\n.table-responsive {\r\n  overflow: auto;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.table-custom {\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  border: 1px solid #e6edf3;\r\n  width: 100%;\r\n}\r\n\r\n.table-custom th,\r\n.table-custom td {\r\n  padding: 0.75rem;\r\n  border-right: 1px solid #e6edf3;\r\n  vertical-align: middle;\r\n}\r\n\r\n.table-custom th:last-child,\r\n.table-custom td:last-child {\r\n  border-right: none;\r\n}\r\n\r\n.table-custom thead th {\r\n  background: linear-gradient(180deg, #f8fafc 0%, #eef2f6 100%);\r\n  color: #374151;\r\n  font-weight: 700;\r\n  font-size: 0.875rem;\r\n  border-bottom: 2px solid #e6edf3;\r\n}\r\n\r\n.table-custom tbody tr:hover {\r\n  background: #f9fafb;\r\n}\r\n\r\n.table-custom tbody tr:nth-child(even) {\r\n  background: #ffffff;\r\n}\r\n\r\n.table-custom tbody tr:nth-child(odd) {\r\n  background: #fbfdfe;\r\n}\r\n\r\n.table td {\r\n  padding: 10px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.table th {\r\n  padding: 10px;\r\n  border-bottom: 2px solid #ddd;\r\n  text-align: left;\r\n}\r\n\r\n.text-center { text-align: center; }\r\n\r\n/* Badge Styles */\r\n.badge-custom {\r\n  display: inline-block;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 9999px;\r\n  font-weight: 600;\r\n  border: 1px solid rgba(0,0,0,0.06);\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.badge-success {\r\n  background: #ecfdf5;\r\n  color: #065f46;\r\n  border-color: rgba(6,95,70,0.1);\r\n}\r\n\r\n.badge-warning {\r\n  background: #fff7ed;\r\n  color: #92400e;\r\n  border-color: rgba(146,64,14,0.08);\r\n}\r\n\r\n.badge-danger {\r\n  background: #fff1f2;\r\n  color: #7f1d1d;\r\n  border-color: rgba(127,29,29,0.08);\r\n}\r\n\r\n.hazard-badge {\r\n  display: inline-block;\r\n  min-width: 34px;\r\n  padding: 0.2rem 0.5rem;\r\n  border-radius: 9999px;\r\n  text-align: center;\r\n  font-weight: 700;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.hazard-low { background: #dff7e5; color: #167f25; }\r\n.hazard-moderate { background: #fff4cc; color: #7a5b00; }\r\n.hazard-high { background: #fff0e0; color: #7a3b00; }\r\n.hazard-critical { background: #ffe6e6; color: #8b1e1e; }\r\n\r\n/* Buttons */\r\n.btn {\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  color: white;\r\n  text-decoration: none;\r\n  background: #667eea;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: background 200ms ease;\r\n}\r\n\r\n.btn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n.btn-success { background: #28a745; }\r\n.btn-primary { background: #667eea; }\r\n.btn-secondary { background: #6c757d; }\r\n\r\n.center {\r\n  text-align: center;\r\n  padding: 12px;\r\n}\r\n\r\n.p-1 { padding: 0.25rem; }\r\n\r\n.error-msg {\r\n  color: #b00020;\r\n  font-size: 0.9rem;\r\n  margin-top: 6px;\r\n}\r\n\r\n/* Card Shadow for emphasis */\r\n.card-shadow {\r\n  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08), 0 1px 4px rgba(15, 23, 42, 0.04);\r\n  border: 1px solid rgba(15, 23, 42, 0.06);\r\n}\r\n\r\n/* Disaster Predictions */\r\n.predictions-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 1rem;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.prediction-card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  border: 1px solid #e6edf3;\r\n  transition: box-shadow 0.2s ease;\r\n}\r\n\r\n.prediction-card:hover {\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.15);\r\n}\r\n\r\n.prediction-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.prediction-header h4 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #374151;\r\n}\r\n\r\n.severity-badge {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 9999px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.severity-low {\r\n  background: #ecfdf5;\r\n  color: #065f46;\r\n}\r\n\r\n.severity-moderate {\r\n  background: #fff7ed;\r\n  color: #92400e;\r\n}\r\n\r\n.severity-high {\r\n  background: #fff1f2;\r\n  color: #7f1d1d;\r\n}\r\n\r\n.severity-critical {\r\n  background: #fef2f2;\r\n  color: #991b1b;\r\n}\r\n\r\n.prediction-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.prediction-detail {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n}\r\n\r\n.prediction-detail strong {\r\n  color: #374151;\r\n}\r\n\r\n/* Modal Overlay */\r\n.modal-overlay {\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.5);\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  box-shadow: 0 10px 40px rgba(0,0,0,0.2);\r\n}\r\n\r\n.modal-content h3 {\r\n  margin: 0 0 1rem 0;\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.form-row {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.form-row label {\r\n  display: block;\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.form-row input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #e6edf3;\r\n  border-radius: 6px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.form-row input:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n  box-shadow: 0 0 0 3px rgba(102,126,234,0.1);\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.form-actions button {\r\n  flex: 1;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}