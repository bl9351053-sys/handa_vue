{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"bg-white rounded shadow p-6\"\n};\nconst _hoisted_2 = {\n  class: \"mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"mb-4\"\n};\nconst _hoisted_8 = {\n  class: \"flex justify-end gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n    class: \"mb-6 flex justify-between items-center\"\n  }, [_createElementVNode(\"div\", null, [_createElementVNode(\"h2\", {\n    class: \"text-2xl font-semibold\"\n  }, \"Edit Prediction\"), _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Modify prediction information\")])], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.submit, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Disaster Type\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.disaster_type = $event),\n    required: \"\",\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.disaster_type]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Description\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.description = $event),\n    class: \"w-full border px-3 py-2 rounded\",\n    rows: \"4\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.description]])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Location Name\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.location_name = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.location_name]])]), _createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Risk Level (1-10)\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    min: \"1\",\n    max: \"10\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.risk_level = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.risk_level, void 0, {\n    number: true\n  }]])])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Latitude\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.latitude = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.latitude]])]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Longitude\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.longitude = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.longitude]])]), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Estimated Recovery Days\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    min: \"0\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.form.predicted_recovery_days = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.predicted_recovery_days, void 0, {\n    number: true\n  }]])])]), _createElementVNode(\"div\", _hoisted_6, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Predicted At\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"datetime-local\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.form.predicted_at = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.predicted_at]])]), _cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n    class: \"mb-4\"\n  }, [_createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Select Location on Map\"), _createElementVNode(\"div\", {\n    id: \"map_edit\",\n    style: {\n      \"height\": \"300px\"\n    },\n    class: \"mb-2\"\n  })], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_7, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium mb-1\"\n  }, \"Affected Areas\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.form.affected_areas = $event),\n    class: \"w-full border px-3 py-2 rounded\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.affected_areas]])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_router_link, {\n    to: \"/predictions\",\n    class: \"px-4 py-2 border rounded\"\n  }, {\n    default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\"Cancel\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _cache[19] || (_cache[19] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"px-4 py-2 bg-blue-600 text-white rounded\"\n  }, \"Update Prediction\", -1 /* CACHED */))])], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","onSubmit","_withModifiers","$setup","submit","_hoisted_2","form","disaster_type","$event","required","_hoisted_3","description","rows","_hoisted_4","location_name","type","min","max","risk_level","number","_hoisted_5","latitude","longitude","predicted_recovery_days","_hoisted_6","predicted_at","id","style","_hoisted_7","affected_areas","_hoisted_8","_createVNode","_component_router_link","to","_cache"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\PredictionEdit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"mb-6 flex justify-between items-center\">\r\n      <div>\r\n        <h2 class=\"text-2xl font-semibold\">Edit Prediction</h2>\r\n        <p class=\"text-sm text-gray-500\">Modify prediction information</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded shadow p-6\">\r\n      <form @submit.prevent=\"submit\">\r\n        <div class=\"mb-4\">\r\n          <label class=\"block text-sm font-medium mb-1\">Disaster Type</label>\r\n          <input v-model=\"form.disaster_type\" required class=\"w-full border px-3 py-2 rounded\" />\r\n        </div>\r\n\r\n        <div class=\"mb-4\">\r\n          <label class=\"block text-sm font-medium mb-1\">Description</label>\r\n          <textarea v-model=\"form.description\" class=\"w-full border px-3 py-2 rounded\" rows=\"4\"></textarea>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">Location Name</label>\r\n            <input v-model=\"form.location_name\" class=\"w-full border px-3 py-2 rounded\" />\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">Risk Level (1-10)</label>\r\n            <input type=\"number\" min=\"1\" max=\"10\" v-model.number=\"form.risk_level\" class=\"w-full border px-3 py-2 rounded\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">Latitude</label>\r\n            <input v-model=\"form.latitude\" class=\"w-full border px-3 py-2 rounded\" />\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">Longitude</label>\r\n            <input v-model=\"form.longitude\" class=\"w-full border px-3 py-2 rounded\" />\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium mb-1\">Estimated Recovery Days</label>\r\n            <input type=\"number\" min=\"0\" v-model.number=\"form.predicted_recovery_days\" class=\"w-full border px-3 py-2 rounded\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-4\">\r\n          <label class=\"block text-sm font-medium mb-1\">Predicted At</label>\r\n          <input type=\"datetime-local\" v-model=\"form.predicted_at\" class=\"w-full border px-3 py-2 rounded\" />\r\n        </div>\r\n\r\n        <div class=\"mb-4\">\r\n          <label class=\"block text-sm font-medium mb-1\">Select Location on Map</label>\r\n          <div id=\"map_edit\" style=\"height:300px\" class=\"mb-2\"></div>\r\n        </div>\r\n\r\n        <div class=\"mb-4\">\r\n          <label class=\"block text-sm font-medium mb-1\">Affected Areas</label>\r\n          <input v-model=\"form.affected_areas\" class=\"w-full border px-3 py-2 rounded\" />\r\n        </div>\r\n\r\n        <div class=\"flex justify-end gap-3\">\r\n          <router-link to=\"/predictions\" class=\"px-4 py-2 border rounded\">Cancel</router-link>\r\n          <button type=\"submit\" class=\"px-4 py-2 bg-blue-600 text-white rounded\">Update Prediction</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport api from '../services/api';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst id = route.params.id;\r\n\r\nconst form = ref({});\r\nlet map, marker;\r\n\r\nasync function load() {\r\n  try {\r\n    const res = await api.get(`/disaster-predictions/${id}`);\r\n    Object.assign(form, res.data);\r\n  } catch (e) { console.error('load failed', e); }\r\n}\r\n\r\nonMounted(async () => {\r\n  await load();\r\n  const defaultLat = parseFloat(form.value.latitude) || 14.5995;\r\n  const defaultLng = parseFloat(form.value.longitude) || 120.9842;\r\n  map = L.map('map_edit').setView([defaultLat, defaultLng], 11);\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\r\n  marker = L.marker([defaultLat, defaultLng], { draggable: true }).addTo(map);\r\n\r\n  marker.on('dragend', () => {\r\n    const pos = marker.getLatLng();\r\n    form.value.latitude = pos.lat.toFixed(6);\r\n    form.value.longitude = pos.lng.toFixed(6);\r\n  });\r\n\r\n  map.on('click', (e) => {\r\n    marker.setLatLng(e.latlng);\r\n    form.value.latitude = e.latlng.lat.toFixed(6);\r\n    form.value.longitude = e.latlng.lng.toFixed(6);\r\n  });\r\n});\r\n\r\nasync function submit() {\r\n  try {\r\n    const payload = { ...form.value };\r\n    await api.put(`/disaster-predictions/${id}`, payload);\r\n    router.push({ name: 'Predictions' });\r\n  } catch (e) {\r\n    console.error('update failed', e);\r\n    alert('Update failed');\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#map_edit { border-radius: 8px; }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}