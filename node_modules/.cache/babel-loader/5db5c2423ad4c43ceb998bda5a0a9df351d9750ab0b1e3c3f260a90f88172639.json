{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-container\"\n};\nconst _hoisted_2 = {\n  class: \"content-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"header\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"loading-card\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"error-card\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"card\"\n};\nconst _hoisted_7 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-6\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_11 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-6\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_14 = {\n  class: \"grid grid-cols-1 md:grid-cols-3 gap-6\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_20 = {\n  class: \"form-actions\"\n};\nconst _hoisted_21 = [\"disabled\"];\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", null, [_createElementVNode(\"h1\", {\n    class: \"title\"\n  }, \"Edit Facility\"), _createElementVNode(\"p\", {\n    class: \"subtitle\"\n  }, \"Update facility information\")], -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/facilities\",\n    class: \"back-link\"\n  }, {\n    default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createElementVNode(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      class: \"icon\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      stroke: \"currentColor\"\n    }, [_createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-width\": \"2\",\n      d: \"M15 19l-7-7 7-7\"\n    })], -1 /* CACHED */), _createTextVNode(\" Back to Facilities \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })]), _cache[26] || (_cache[26] = _createTextVNode(\" ``` \", -1 /* CACHED */)), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [...(_cache[12] || (_cache[12] = [_createElementVNode(\"div\", {\n    class: \"loading-content\"\n  }, [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }), _createElementVNode(\"span\", null, \"Loading facility...\")], -1 /* CACHED */)]))])) : $setup.generalError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, _toDisplayString($setup.generalError), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.submit, [\"prevent\"]),\n    class: \"form-container\"\n  }, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Name \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.name = $event),\n    type: \"text\",\n    required: \"\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.name]]), $setup.errors.name ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, _toDisplayString($setup.errors.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Type \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.type = $event),\n    type: \"text\",\n    placeholder: \"Hospital, Fire Station, etc.\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.type]]), $setup.errors.type ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString($setup.errors.type), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Address \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.address = $event),\n    rows: \"3\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.address]]), $setup.errors.address ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, _toDisplayString($setup.errors.address), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _cache[25] || (_cache[25] = _createElementVNode(\"div\", null, [_createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Location \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")]), _createElementVNode(\"div\", {\n    id: \"map-container\",\n    class: \"map-container\"\n  }), _createElementVNode(\"p\", {\n    class: \"map-hint\"\n  }, \"Click on the map to set the facility location\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Latitude\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.latitude = $event),\n    type: \"number\",\n    step: \"0.00000001\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.latitude, void 0, {\n    number: true\n  }]]), $setup.errors.latitude ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, _toDisplayString($setup.errors.latitude), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Longitude\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.longitude = $event),\n    type: \"number\",\n    step: \"0.00000001\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.longitude, void 0, {\n    number: true\n  }]]), $setup.errors.longitude ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString($setup.errors.longitude), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", null, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Status \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.status = $event),\n    class: \"input-field\"\n  }, [...(_cache[18] || (_cache[18] = [_createElementVNode(\"option\", {\n    value: \"operational\"\n  }, \"Operational\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"limited\"\n  }, \"Limited\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"offline\"\n  }, \"Offline\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"emergency\"\n  }, \"Emergency\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.form.status]]), $setup.errors.status ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, _toDisplayString($setup.errors.status), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Staff Count \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.form.staff_count = $event),\n    type: \"number\",\n    min: \"0\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.staff_count, void 0, {\n    number: true\n  }]]), $setup.errors.staff_count ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, _toDisplayString($setup.errors.staff_count), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Contact Number\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.form.contact_number = $event),\n    type: \"text\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.contact_number]]), $setup.errors.contact_number ? (_openBlock(), _createElementBlock(\"p\", _hoisted_17, _toDisplayString($setup.errors.contact_number), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", null, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Resources\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.form.resources = $event),\n    rows: \"2\",\n    placeholder: \"e.g., Ambulances: 5, Beds: 100, Medical supplies\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.resources]]), $setup.errors.resources ? (_openBlock(), _createElementBlock(\"p\", _hoisted_18, _toDisplayString($setup.errors.resources), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Notes\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.form.notes = $event),\n    rows: \"3\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.notes]]), $setup.errors.notes ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, _toDisplayString($setup.errors.notes), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_20, [_createVNode(_component_router_link, {\n    to: \"/facilities\",\n    class: \"cancel-btn\"\n  }, {\n    default: _withCtx(() => [...(_cache[24] || (_cache[24] = [_createTextVNode(\"Cancel\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.submitting,\n    class: \"submit-btn\"\n  }, [!$setup.submitting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_22, \"Update Facility\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \"Updating...\"))], 8 /* PROPS */, _hoisted_21)])], 32 /* NEED_HYDRATION */)]))]), _cache[27] || (_cache[27] = _createTextVNode(\" ``` \", -1 /* CACHED */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","_cache","xmlns","fill","viewBox","stroke","d","$setup","loading","_hoisted_4","generalError","_hoisted_5","_toDisplayString","_hoisted_6","onSubmit","_withModifiers","submit","_hoisted_7","form","name","$event","type","required","errors","_hoisted_8","placeholder","_hoisted_9","address","rows","_hoisted_10","id","_hoisted_11","latitude","step","number","_hoisted_12","longitude","_hoisted_13","_hoisted_14","status","value","_hoisted_15","staff_count","min","_hoisted_16","contact_number","_hoisted_17","resources","_hoisted_18","notes","_hoisted_19","_hoisted_20","disabled","submitting","_hoisted_22","_hoisted_23"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\FacilityEdit.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"content-wrapper\">\r\n      <div class=\"header\">\r\n        <div>\r\n          <h1 class=\"title\">Edit Facility</h1>\r\n          <p class=\"subtitle\">Update facility information</p>\r\n        </div>\r\n        <router-link to=\"/facilities\" class=\"back-link\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\r\n          </svg>\r\n          Back to Facilities\r\n        </router-link>\r\n      </div>\r\n\r\n```\r\n  <div v-if=\"loading\" class=\"loading-card\">\r\n    <div class=\"loading-content\">\r\n      <div class=\"spinner\"></div>\r\n      <span>Loading facility...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-else-if=\"generalError\" class=\"error-card\">\r\n    <p>{{ generalError }}</p>\r\n  </div>\r\n\r\n  <div v-else class=\"card\">\r\n    <form @submit.prevent=\"submit\" class=\"form-container\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div>\r\n          <label class=\"label\">Name <span class=\"text-red-500\">*</span></label>\r\n          <input v-model=\"form.name\" type=\"text\" required class=\"input-field\" />\r\n          <p v-if=\"errors.name\" class=\"error-text\">{{ errors.name }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Type <span class=\"text-red-500\">*</span></label>\r\n          <input v-model=\"form.type\" type=\"text\" placeholder=\"Hospital, Fire Station, etc.\" class=\"input-field\" />\r\n          <p v-if=\"errors.type\" class=\"error-text\">{{ errors.type }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"label\">Address <span class=\"text-red-500\">*</span></label>\r\n        <textarea v-model=\"form.address\" rows=\"3\" class=\"input-field\"></textarea>\r\n        <p v-if=\"errors.address\" class=\"error-text\">{{ errors.address }}</p>\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"label\">Location <span class=\"text-red-500\">*</span></label>\r\n        <div id=\"map-container\" class=\"map-container\"></div>\r\n        <p class=\"map-hint\">Click on the map to set the facility location</p>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div>\r\n          <label class=\"label\">Latitude</label>\r\n          <input v-model.number=\"form.latitude\" type=\"number\" step=\"0.00000001\" class=\"input-field\" />\r\n          <p v-if=\"errors.latitude\" class=\"error-text\">{{ errors.latitude }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Longitude</label>\r\n          <input v-model.number=\"form.longitude\" type=\"number\" step=\"0.00000001\" class=\"input-field\" />\r\n          <p v-if=\"errors.longitude\" class=\"error-text\">{{ errors.longitude }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div>\r\n          <label class=\"label\">Status <span class=\"text-red-500\">*</span></label>\r\n          <select v-model=\"form.status\" class=\"input-field\">\r\n            <option value=\"operational\">Operational</option>\r\n            <option value=\"limited\">Limited</option>\r\n            <option value=\"offline\">Offline</option>\r\n            <option value=\"emergency\">Emergency</option>\r\n          </select>\r\n          <p v-if=\"errors.status\" class=\"error-text\">{{ errors.status }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Staff Count <span class=\"text-red-500\">*</span></label>\r\n          <input v-model.number=\"form.staff_count\" type=\"number\" min=\"0\" class=\"input-field\" />\r\n          <p v-if=\"errors.staff_count\" class=\"error-text\">{{ errors.staff_count }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Contact Number</label>\r\n          <input v-model=\"form.contact_number\" type=\"text\" class=\"input-field\" />\r\n          <p v-if=\"errors.contact_number\" class=\"error-text\">{{ errors.contact_number }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"label\">Resources</label>\r\n        <textarea v-model=\"form.resources\" rows=\"2\" placeholder=\"e.g., Ambulances: 5, Beds: 100, Medical supplies\" class=\"input-field\"></textarea>\r\n        <p v-if=\"errors.resources\" class=\"error-text\">{{ errors.resources }}</p>\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"label\">Notes</label>\r\n        <textarea v-model=\"form.notes\" rows=\"3\" class=\"input-field\"></textarea>\r\n        <p v-if=\"errors.notes\" class=\"error-text\">{{ errors.notes }}</p>\r\n      </div>\r\n\r\n      <div class=\"form-actions\">\r\n        <router-link to=\"/facilities\" class=\"cancel-btn\">Cancel</router-link>\r\n        <button type=\"submit\" :disabled=\"submitting\" class=\"submit-btn\">\r\n          <span v-if=\"!submitting\">Update Facility</span>\r\n          <span v-else>Updating...</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n```\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, inject, onMounted, nextTick } from 'vue'\r\nimport axios from 'axios'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport L from 'leaflet'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst baseUrl = inject('baseUrl', '')\r\nconst facilityId = route.params.id\r\n\r\nconst form = reactive({\r\n  name: '',\r\n  type: '',\r\n  address: '',\r\n  latitude: null,\r\n  longitude: null,\r\n  status: 'operational',\r\n  staff_count: 0,\r\n  contact_number: '',\r\n  resources: '',\r\n  notes: ''\r\n})\r\n\r\nconst errors = reactive({})\r\nconst generalError = ref('')\r\nconst submitting = ref(false)\r\nconst loading = ref(true)\r\nlet map = null\r\nlet marker = null\r\n\r\nonMounted(async () => {\r\n  await fetchFacility()\r\n  await nextTick()\r\n  initializeMap()\r\n})\r\n\r\nasync function fetchFacility() {\r\n  try {\r\n    const res = await axios.get(`${baseUrl}/facilities/${facilityId}`)\r\n    const facility = res.data?.data || res.data\r\n    Object.keys(form).forEach(k => { if (facility[k] !== undefined) form[k] = facility[k] })\r\n  } catch (err) {\r\n    generalError.value = 'Failed to load facility. Please try again.'\r\n    console.error(err)\r\n  } finally { loading.value = false }\r\n}\r\n\r\nfunction initializeMap() {\r\n  const container = document.getElementById('map-container')\r\n  if (!container) return\r\n\r\n  // Default coordinates (center of map)\r\n  const defaultLat = form.latitude || 14.5994\r\n  const defaultLng = form.longitude || 120.9842\r\n\r\n  map = L.map('map-container').setView([defaultLat, defaultLng], 13)\r\n\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: 'Â© OpenStreetMap contributors',\r\n    maxZoom: 19\r\n  }).addTo(map)\r\n\r\n  // Add marker if coordinates exist\r\n  if (form.latitude && form.longitude) {\r\n    addMarker(form.latitude, form.longitude)\r\n  }\r\n\r\n  // Handle map clicks to set location\r\n  map.on('click', (e) => {\r\n    form.latitude = parseFloat(e.latlng.lat.toFixed(8))\r\n    form.longitude = parseFloat(e.latlng.lng.toFixed(8))\r\n    addMarker(form.latitude, form.longitude)\r\n  })\r\n}\r\n\r\nfunction addMarker(lat, lng) {\r\n  if (marker) {\r\n    map.removeLayer(marker)\r\n  }\r\n  marker = L.marker([lat, lng]).addTo(map)\r\n  map.setView([lat, lng], 13)\r\n}\r\n\r\nasync function submit() {\r\n  submitting.value = true\r\n  generalError.value = ''\r\n  Object.keys(errors).forEach(k => delete errors[k])\r\n\r\n  try {\r\n    const payload = { ...form }\r\n    await axios.put(`${baseUrl}/facilities/${facilityId}`, payload)\r\n    router.push('/facilities')\r\n  } catch (err) {\r\n    if (err.response?.status === 422) Object.assign(errors, err.response.data.errors || {})\r\n    else generalError.value = err.response?.data?.message || 'Failed to update facility.'\r\n  } finally { submitting.value = false }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-container { min-height: 100vh; background: #f0f4f8; padding: 30px; font-family: 'Inter', sans-serif; }\r\n.content-wrapper { max-width: 900px; margin: 0 auto; }\r\n\r\n.header { display:flex; justify-content:space-between; align-items:center; margin-bottom:30px; }\r\n.title { font-size:2.5rem; font-weight:700; background:linear-gradient(90deg,#6366f1,#4f46e5); background-clip:text; -webkit-background-clip:text; -webkit-text-fill-color:transparent; }\r\n.subtitle { font-size:1rem; color:#4b5563; margin-top:4px; }\r\n.back-link { display:flex; align-items:center; gap:6px; font-weight:500; color:#6366f1; text-decoration:none; transition:0.3s; }\r\n.back-link:hover { color:#4338ca; transform:translateX(-3px); }\r\n.icon { width:20px; height:20px; }\r\n\r\n.card { background: rgba(255,255,255,0.98); padding: 30px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); transition:all 0.3s ease; }\r\n.card:hover { transform: translateY(-3px); box-shadow:0 20px 45px rgba(0,0,0,0.15); }\r\n\r\n.label { display:block; font-size:0.875rem; font-weight:500; color:#374151; margin-bottom:6px; }\r\n.input-field { width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:8px; outline:none; transition:0.2s; }\r\n.input-field:focus { border-color:#4f46e5; box-shadow:0 0 0 2px rgba(79,70,229,0.2); }\r\n\r\n.error-text { color:#b91c1c; font-size:0.875rem; margin-top:4px; }\r\n\r\n.map-container { width: 100%; height: 400px; border-radius: 8px; border: 1px solid #d1d5db; margin-bottom: 12px; z-index: 1; }\r\n.map-hint { color: #6b7280; font-size: 0.875rem; margin-top: 6px; }\r\n\r\n.form-actions { display:flex; justify-content:end; gap:12px; margin-top:16px; }\r\n.cancel-btn { padding:10px 16px; border:1px solid #d1d5db; border-radius:8px; font-weight:500; color:#374151; text-align:center; }\r\n.cancel-btn:hover { background:#f9fafb; }\r\n.submit-btn { background:#4f46e5; color:#fff; padding:10px 16px; border-radius:8px; font-weight:500; transition:0.2s; }\r\n.submit-btn:hover { background:#4338ca; }\r\n.submit-btn:disabled { opacity:0.6; cursor:not-allowed; }\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAiB;;EACrBA,KAAK,EAAC;AAAQ;;;EAcHA,KAAK,EAAC;;;;EAOIA,KAAK,EAAC;;;;EAIxBA,KAAK,EAAC;;;EAETA,KAAK,EAAC;AAAuC;;;EAIxBA,KAAK,EAAC;;;;EAKNA,KAAK,EAAC;;;;EAOLA,KAAK,EAAC;;;EAS5BA,KAAK,EAAC;AAAuC;;;EAIpBA,KAAK,EAAC;;;;EAKLA,KAAK,EAAC;;;EAIhCA,KAAK,EAAC;AAAuC;;;EAStBA,KAAK,EAAC;;;;EAKDA,KAAK,EAAC;;;;EAKHA,KAAK,EAAC;;;;EAObA,KAAK,EAAC;;;;EAMVA,KAAK,EAAC;;;EAG1BA,KAAK,EAAC;AAAc;;;;;;;;;;uBAtG7BC,mBAAA,CAkHM,OAlHNC,UAkHM,GAjHJC,mBAAA,CA8GE,OA9GFC,UA8GE,GA7GAD,mBAAA,CAWM,OAXNE,UAWM,G,4BAVJF,mBAAA,CAGM,cAFJA,mBAAA,CAAoC;IAAhCH,KAAK,EAAC;EAAO,GAAC,eAAa,GAC/BG,mBAAA,CAAmD;IAAhDH,KAAK,EAAC;EAAU,GAAC,6BAA2B,E,qBAEjDM,YAAA,CAKcC,sBAAA;IALDC,EAAE,EAAC,aAAa;IAACR,KAAK,EAAC;;sBAClC,MAEM,KAAAS,MAAA,SAAAA,MAAA,QAFNN,mBAAA,CAEM;MAFDO,KAAK,EAAC,4BAA4B;MAACV,KAAK,EAAC,MAAM;MAACW,IAAI,EAAC,MAAM;MAACC,OAAO,EAAC,WAAW;MAACC,MAAM,EAAC;QAC1FV,mBAAA,CAA4F;MAAtF,gBAAc,EAAC,OAAO;MAAC,iBAAe,EAAC,OAAO;MAAC,cAAY,EAAC,GAAG;MAACW,CAAC,EAAC;4CACpE,sBAER,mB;;qDACI,OAGV,qBAAWC,MAAA,CAAAC,OAAO,I,cAAlBf,mBAAA,CAKM,OALNgB,UAKM,OAAAR,MAAA,SAAAA,MAAA,QAJJN,mBAAA,CAGM;IAHDH,KAAK,EAAC;EAAiB,IAC1BG,mBAAA,CAA2B;IAAtBH,KAAK,EAAC;EAAS,IACpBG,mBAAA,CAAgC,cAA1B,qBAAmB,E,2BAIbY,MAAA,CAAAG,YAAY,I,cAA5BjB,mBAAA,CAEM,OAFNkB,UAEM,GADJhB,mBAAA,CAAyB,WAAAiB,gBAAA,CAAnBL,MAAA,CAAAG,YAAY,iB,oBAGpBjB,mBAAA,CAmFM,OAnFNoB,UAmFM,GAlFJlB,mBAAA,CAiFO;IAjFAmB,QAAM,EAAAC,cAAA,CAAUR,MAAA,CAAAS,MAAM;IAAExB,KAAK,EAAC;MACnCG,mBAAA,CAWM,OAXNsB,UAWM,GAVJtB,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAqE;IAA9DH,KAAK,EAAC;EAAO,I,iBAAC,OAAK,GAAAG,mBAAA,CAAmC;IAA7BH,KAAK,EAAC;EAAc,GAAC,GAAC,E,qCACtDG,mBAAA,CAAsE;+DAAtDY,MAAA,CAAAW,IAAI,CAACC,IAAI,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IAAC9B,KAAK,EAAC;iDAAtCe,MAAA,CAAAW,IAAI,CAACC,IAAI,E,GAChBZ,MAAA,CAAAgB,MAAM,CAACJ,IAAI,I,cAApB1B,mBAAA,CAA8D,KAA9D+B,UAA8D,EAAAZ,gBAAA,CAAlBL,MAAA,CAAAgB,MAAM,CAACJ,IAAI,oB,qCAEzDxB,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAqE;IAA9DH,KAAK,EAAC;EAAO,I,iBAAC,OAAK,GAAAG,mBAAA,CAAmC;IAA7BH,KAAK,EAAC;EAAc,GAAC,GAAC,E,qCACtDG,mBAAA,CAAwG;+DAAxFY,MAAA,CAAAW,IAAI,CAACG,IAAI,GAAAD,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACI,WAAW,EAAC,8BAA8B;IAACjC,KAAK,EAAC;iDAAxEe,MAAA,CAAAW,IAAI,CAACG,IAAI,E,GAChBd,MAAA,CAAAgB,MAAM,CAACF,IAAI,I,cAApB5B,mBAAA,CAA8D,KAA9DiC,UAA8D,EAAAd,gBAAA,CAAlBL,MAAA,CAAAgB,MAAM,CAACF,IAAI,oB,uCAI3D1B,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAwE;IAAjEH,KAAK,EAAC;EAAO,I,iBAAC,UAAQ,GAAAG,mBAAA,CAAmC;IAA7BH,KAAK,EAAC;EAAc,GAAC,GAAC,E,qCACzDG,mBAAA,CAAyE;+DAAtDY,MAAA,CAAAW,IAAI,CAACS,OAAO,GAAAP,MAAA;IAAEQ,IAAI,EAAC,GAAG;IAACpC,KAAK,EAAC;iDAA7Be,MAAA,CAAAW,IAAI,CAACS,OAAO,E,GACtBpB,MAAA,CAAAgB,MAAM,CAACI,OAAO,I,cAAvBlC,mBAAA,CAAoE,KAApEoC,WAAoE,EAAAjB,gBAAA,CAArBL,MAAA,CAAAgB,MAAM,CAACI,OAAO,oB,iEAG/DhC,mBAAA,CAIM,cAHJA,mBAAA,CAAyE;IAAlEH,KAAK,EAAC;EAAO,I,iBAAC,WAAS,GAAAG,mBAAA,CAAmC;IAA7BH,KAAK,EAAC;EAAc,GAAC,GAAC,E,GAC1DG,mBAAA,CAAoD;IAA/CmC,EAAE,EAAC,eAAe;IAACtC,KAAK,EAAC;MAC9BG,mBAAA,CAAqE;IAAlEH,KAAK,EAAC;EAAU,GAAC,+CAA6C,E,qBAGnEG,mBAAA,CAWM,OAXNoC,WAWM,GAVJpC,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAqC;IAA9BH,KAAK,EAAC;EAAO,GAAC,UAAQ,qB,gBAC7BG,mBAAA,CAA4F;+DAArEY,MAAA,CAAAW,IAAI,CAACc,QAAQ,GAAAZ,MAAA;IAAEC,IAAI,EAAC,QAAQ;IAACY,IAAI,EAAC,YAAY;IAACzC,KAAK,EAAC;iDAArDe,MAAA,CAAAW,IAAI,CAACc,QAAQ,E;IAArBE,MAAM,EAAd;EAA8B,E,IAC5B3B,MAAA,CAAAgB,MAAM,CAACS,QAAQ,I,cAAxBvC,mBAAA,CAAsE,KAAtE0C,WAAsE,EAAAvB,gBAAA,CAAtBL,MAAA,CAAAgB,MAAM,CAACS,QAAQ,oB,qCAEjErC,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAsC;IAA/BH,KAAK,EAAC;EAAO,GAAC,WAAS,qB,gBAC9BG,mBAAA,CAA6F;+DAAtEY,MAAA,CAAAW,IAAI,CAACkB,SAAS,GAAAhB,MAAA;IAAEC,IAAI,EAAC,QAAQ;IAACY,IAAI,EAAC,YAAY;IAACzC,KAAK,EAAC;iDAAtDe,MAAA,CAAAW,IAAI,CAACkB,SAAS,E;IAAtBF,MAAM,EAAd;EAA+B,E,IAC7B3B,MAAA,CAAAgB,MAAM,CAACa,SAAS,I,cAAzB3C,mBAAA,CAAwE,KAAxE4C,WAAwE,EAAAzB,gBAAA,CAAvBL,MAAA,CAAAgB,MAAM,CAACa,SAAS,oB,uCAIrEzC,mBAAA,CAqBM,OArBN2C,WAqBM,GApBJ3C,mBAAA,CASM,c,4BARJA,mBAAA,CAAuE;IAAhEH,KAAK,EAAC;EAAO,I,iBAAC,SAAO,GAAAG,mBAAA,CAAmC;IAA7BH,KAAK,EAAC;EAAc,GAAC,GAAC,E,qCACxDG,mBAAA,CAKS;+DALQY,MAAA,CAAAW,IAAI,CAACqB,MAAM,GAAAnB,MAAA;IAAE5B,KAAK,EAAC;uCAClCG,mBAAA,CAAgD;IAAxC6C,KAAK,EAAC;EAAa,GAAC,aAAW,oBACvC7C,mBAAA,CAAwC;IAAhC6C,KAAK,EAAC;EAAS,GAAC,SAAO,oBAC/B7C,mBAAA,CAAwC;IAAhC6C,KAAK,EAAC;EAAS,GAAC,SAAO,oBAC/B7C,mBAAA,CAA4C;IAApC6C,KAAK,EAAC;EAAW,GAAC,WAAS,mB,6CAJpBjC,MAAA,CAAAW,IAAI,CAACqB,MAAM,E,GAMnBhC,MAAA,CAAAgB,MAAM,CAACgB,MAAM,I,cAAtB9C,mBAAA,CAAkE,KAAlEgD,WAAkE,EAAA7B,gBAAA,CAApBL,MAAA,CAAAgB,MAAM,CAACgB,MAAM,oB,qCAE7D5C,mBAAA,CAIM,c,4BAHJA,mBAAA,CAA4E;IAArEH,KAAK,EAAC;EAAO,I,iBAAC,cAAY,GAAAG,mBAAA,CAAmC;IAA7BH,KAAK,EAAC;EAAc,GAAC,GAAC,E,qCAC7DG,mBAAA,CAAqF;+DAA9DY,MAAA,CAAAW,IAAI,CAACwB,WAAW,GAAAtB,MAAA;IAAEC,IAAI,EAAC,QAAQ;IAACsB,GAAG,EAAC,GAAG;IAACnD,KAAK,EAAC;iDAA9Ce,MAAA,CAAAW,IAAI,CAACwB,WAAW,E;IAAxBR,MAAM,EAAd;EAAiC,E,IAC/B3B,MAAA,CAAAgB,MAAM,CAACmB,WAAW,I,cAA3BjD,mBAAA,CAA4E,KAA5EmD,WAA4E,EAAAhC,gBAAA,CAAzBL,MAAA,CAAAgB,MAAM,CAACmB,WAAW,oB,qCAEvE/C,mBAAA,CAIM,c,4BAHJA,mBAAA,CAA2C;IAApCH,KAAK,EAAC;EAAO,GAAC,gBAAc,qB,gBACnCG,mBAAA,CAAuE;+DAAvDY,MAAA,CAAAW,IAAI,CAAC2B,cAAc,GAAAzB,MAAA;IAAEC,IAAI,EAAC,MAAM;IAAC7B,KAAK,EAAC;iDAAvCe,MAAA,CAAAW,IAAI,CAAC2B,cAAc,E,GAC1BtC,MAAA,CAAAgB,MAAM,CAACsB,cAAc,I,cAA9BpD,mBAAA,CAAkF,KAAlFqD,WAAkF,EAAAlC,gBAAA,CAA5BL,MAAA,CAAAgB,MAAM,CAACsB,cAAc,oB,uCAI/ElD,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAsC;IAA/BH,KAAK,EAAC;EAAO,GAAC,WAAS,qB,gBAC9BG,mBAAA,CAA0I;+DAAvHY,MAAA,CAAAW,IAAI,CAAC6B,SAAS,GAAA3B,MAAA;IAAEQ,IAAI,EAAC,GAAG;IAACH,WAAW,EAAC,kDAAkD;IAACjC,KAAK,EAAC;iDAA9Fe,MAAA,CAAAW,IAAI,CAAC6B,SAAS,E,GACxBxC,MAAA,CAAAgB,MAAM,CAACwB,SAAS,I,cAAzBtD,mBAAA,CAAwE,KAAxEuD,WAAwE,EAAApC,gBAAA,CAAvBL,MAAA,CAAAgB,MAAM,CAACwB,SAAS,oB,qCAGnEpD,mBAAA,CAIM,c,4BAHJA,mBAAA,CAAkC;IAA3BH,KAAK,EAAC;EAAO,GAAC,OAAK,qB,gBAC1BG,mBAAA,CAAuE;+DAApDY,MAAA,CAAAW,IAAI,CAAC+B,KAAK,GAAA7B,MAAA;IAAEQ,IAAI,EAAC,GAAG;IAACpC,KAAK,EAAC;iDAA3Be,MAAA,CAAAW,IAAI,CAAC+B,KAAK,E,GACpB1C,MAAA,CAAAgB,MAAM,CAAC0B,KAAK,I,cAArBxD,mBAAA,CAAgE,KAAhEyD,WAAgE,EAAAtC,gBAAA,CAAnBL,MAAA,CAAAgB,MAAM,CAAC0B,KAAK,oB,qCAG3DtD,mBAAA,CAMM,OANNwD,WAMM,GALJrD,YAAA,CAAqEC,sBAAA;IAAxDC,EAAE,EAAC,aAAa;IAACR,KAAK,EAAC;;sBAAa,MAAM,KAAAS,MAAA,SAAAA,MAAA,Q,iBAAN,QAAM,mB;;MACvDN,mBAAA,CAGS;IAHD0B,IAAI,EAAC,QAAQ;IAAE+B,QAAQ,EAAE7C,MAAA,CAAA8C,UAAU;IAAE7D,KAAK,EAAC;OACpCe,MAAA,CAAA8C,UAAU,I,cAAvB5D,mBAAA,CAA+C,QAAA6D,WAAA,EAAtB,iBAAe,M,cACxC7D,mBAAA,CAA+B,QAAA8D,WAAA,EAAlB,aAAW,G,8GAK5B,OAGJ,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}