{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-md-8 mx-auto\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"alert alert-danger alert-dismissible fade show\",\n  role: \"alert\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"text-center\"\n};\nconst _hoisted_6 = {\n  class: \"bg-white p-4 rounded shadow-sm\"\n};\nconst _hoisted_7 = {\n  class: \"d-flex justify-content-between align-items-start mb-4\"\n};\nconst _hoisted_8 = {\n  class: \"mb-2\"\n};\nconst _hoisted_9 = {\n  class: \"text-muted mb-0\"\n};\nconst _hoisted_10 = {\n  class: \"row mb-4\"\n};\nconst _hoisted_11 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_12 = {\n  class: \"card\"\n};\nconst _hoisted_13 = {\n  class: \"card-body\"\n};\nconst _hoisted_14 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_15 = {\n  class: \"card\"\n};\nconst _hoisted_16 = {\n  class: \"card-body\"\n};\nconst _hoisted_17 = {\n  class: \"card-text\"\n};\nconst _hoisted_18 = {\n  class: \"progress\",\n  style: {\n    \"height\": \"20px\"\n  }\n};\nconst _hoisted_19 = {\n  class: \"card mb-4\"\n};\nconst _hoisted_20 = {\n  class: \"card-body\"\n};\nconst _hoisted_21 = {\n  class: \"row\"\n};\nconst _hoisted_22 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_23 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_24 = {\n  class: \"card mb-4\"\n};\nconst _hoisted_25 = {\n  class: \"card-body\"\n};\nconst _hoisted_26 = {\n  key: 0\n};\nconst _hoisted_27 = {\n  class: \"text-muted small\"\n};\nconst _hoisted_28 = {\n  key: 1,\n  class: \"alert alert-info mb-0\"\n};\nconst _hoisted_29 = {\n  class: \"card mb-4\"\n};\nconst _hoisted_30 = {\n  class: \"card-body\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"mb-0\"\n};\nconst _hoisted_32 = {\n  key: 1,\n  class: \"text-muted mb-0\"\n};\nconst _hoisted_33 = {\n  class: \"card mb-4\"\n};\nconst _hoisted_34 = {\n  class: \"card-body\"\n};\nconst _hoisted_35 = {\n  key: 0\n};\nconst _hoisted_36 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_37 = {\n  class: \"table table-striped table-hover\"\n};\nconst _hoisted_38 = {\n  key: 1,\n  class: \"text-muted\"\n};\nconst _hoisted_39 = {\n  class: \"row text-muted small\"\n};\nconst _hoisted_40 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_41 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_42 = {\n  key: 0,\n  class: \"mb-0\"\n};\nconst _hoisted_43 = {\n  class: \"d-flex gap-2 mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Back Button \"), _createVNode(_component_router_link, {\n    to: \"/evacuation-areas\",\n    class: \"btn btn-secondary mb-3\"\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createElementVNode(\"i\", {\n      class: \"bi bi-arrow-left\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" Back \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Alert Messages \"), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createTextVNode(_toDisplayString($setup.errorMessage) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.errorMessage = '')\n  })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Loading State \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [...(_cache[2] || (_cache[2] = [_createElementVNode(\"div\", {\n    class: \"spinner-border\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"Loading...\")], -1 /* CACHED */)]))])) : $setup.area ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Area Details \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", null, [_createElementVNode(\"h1\", _hoisted_8, _toDisplayString($setup.area.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, _toDisplayString($setup.area.address), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_createVNode(_component_router_link, {\n    to: `/evacuation-areas/${$setup.area.id}/edit`,\n    class: \"btn btn-warning btn-sm\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n      class: \"bi bi-pencil\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" Edit \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createCommentVNode(\" Status & Capacity \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[4] || (_cache[4] = _createElementVNode(\"h6\", {\n    class: \"card-title text-muted\"\n  }, \"Status\", -1 /* CACHED */)), _createElementVNode(\"span\", {\n    class: _normalizeClass(['badge', $setup.getStatusClass($setup.area.status), 'fs-6'])\n  }, _toDisplayString($setup.area.status), 3 /* TEXT, CLASS */)])])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_cache[5] || (_cache[5] = _createElementVNode(\"h6\", {\n    class: \"card-title text-muted\"\n  }, \"Occupancy\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_17, _toDisplayString($setup.area.current_occupancy) + \" / \" + _toDisplayString($setup.area.capacity) + \" persons\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"progress-bar\", $setup.getOccupancyClass($setup.area)]),\n    style: _normalizeStyle({\n      width: $setup.getOccupancyPercent($setup.area) + '%'\n    })\n  }, _toDisplayString($setup.getOccupancyPercent($setup.area)) + \"% \", 7 /* TEXT, CLASS, STYLE */)])])])])]), _createCommentVNode(\" Contact Information \"), _createElementVNode(\"div\", _hoisted_19, [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"card-header bg-light\"\n  }, [_createElementVNode(\"h6\", {\n    class: \"mb-0\"\n  }, \"Contact Information\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"Contact Person:\", -1 /* CACHED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.area.contact_person || 'Not provided'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_23, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"Phone Number:\", -1 /* CACHED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.area.contact_number || 'Not provided'), 1 /* TEXT */)])])])]), _createCommentVNode(\" Location Map \"), _createElementVNode(\"div\", _hoisted_24, [_cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n    class: \"card-header bg-light\"\n  }, [_createElementVNode(\"h6\", {\n    class: \"mb-0\"\n  }, \"Location\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_25, [$setup.area.latitude && $setup.area.longitude ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    id: \"map-view\",\n    style: {\n      \"height\": \"300px\",\n      \"border-radius\": \"5px\",\n      \"margin-bottom\": \"15px\"\n    }\n  }, null, -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_27, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Latitude:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.area.latitude), 1 /* TEXT */), _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Longitude:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.area.longitude), 1 /* TEXT */)])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_28, \" No location coordinates provided \"))])]), _createCommentVNode(\" Facilities \"), _createElementVNode(\"div\", _hoisted_29, [_cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n    class: \"card-header bg-light\"\n  }, [_createElementVNode(\"h6\", {\n    class: \"mb-0\"\n  }, \"Facilities\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_30, [$setup.area.facilities ? (_openBlock(), _createElementBlock(\"p\", _hoisted_31, _toDisplayString($setup.area.facilities), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"p\", _hoisted_32, \"No facilities listed\"))])]), _createCommentVNode(\" Evacuated Families \"), _createElementVNode(\"div\", _hoisted_33, [_cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n    class: \"card-header bg-light\"\n  }, [_createElementVNode(\"h6\", {\n    class: \"mb-0\"\n  }, \"Evacuated Families\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_34, [$setup.area.families && $setup.area.families.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"table\", _hoisted_37, [_cache[15] || (_cache[15] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Family Head Name\"), _createElementVNode(\"th\", null, \"Members\"), _createElementVNode(\"th\", null, \"Contact Number\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.area.families, family => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: family.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString($setup.getFamilyHeadName(family)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(family.evacuees ? family.evacuees.length : 0), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($setup.getFamilyContact(family)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_38, \" No families currently evacuated in this area \"))])]), _createCommentVNode(\" Additional Info \"), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"p\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"strong\", null, \"Families:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.area.families_count || 0), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_41, [$setup.area.created_at ? (_openBlock(), _createElementBlock(\"p\", _hoisted_42, [_cache[18] || (_cache[18] = _createElementVNode(\"strong\", null, \"Created:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($setup.formatDate($setup.area.created_at)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Action Buttons \"), _createElementVNode(\"div\", _hoisted_43, [_createVNode(_component_router_link, {\n    to: `/evacuation-areas/${$setup.area.id}/edit`,\n    class: \"btn btn-warning\"\n  }, {\n    default: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createElementVNode(\"i\", {\n      class: \"bi bi-pencil\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" Edit \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createElementVNode(\"button\", {\n    onClick: $setup.deleteArea,\n    class: \"btn btn-danger\"\n  }, [...(_cache[20] || (_cache[20] = [_createElementVNode(\"i\", {\n    class: \"bi bi-trash\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" Delete \", -1 /* CACHED */)]))]), _createVNode(_component_router_link, {\n    to: \"/evacuation-areas\",\n    class: \"btn btn-secondary\"\n  }, {\n    default: _withCtx(() => [...(_cache[21] || (_cache[21] = [_createElementVNode(\"i\", {\n      class: \"bi bi-list\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" Back to List \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" Not Found \"), _cache[22] || (_cache[22] = _createElementVNode(\"div\", {\n    class: \"alert alert-warning\"\n  }, \" Evacuation area not found \", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","role","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createCommentVNode","_createVNode","_component_router_link","to","_cache","$setup","errorMessage","_hoisted_4","type","onClick","$event","loading","_hoisted_5","area","_Fragment","key","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","name","_hoisted_9","address","id","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_normalizeClass","getStatusClass","status","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","current_occupancy","capacity","_hoisted_18","getOccupancyClass","_normalizeStyle","width","getOccupancyPercent","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","contact_person","_hoisted_23","contact_number","_hoisted_24","_hoisted_25","latitude","longitude","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","facilities","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","families","length","_hoisted_35","_hoisted_36","_hoisted_37","_renderList","family","getFamilyHeadName","evacuees","getFamilyContact","_hoisted_38","_hoisted_39","_hoisted_40","families_count","_hoisted_41","created_at","_hoisted_42","formatDate","_hoisted_43","deleteArea"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\EvacuationAreaView.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8 mx-auto\">\r\n        <!-- Back Button -->\r\n        <router-link to=\"/evacuation-areas\" class=\"btn btn-secondary mb-3\">\r\n          <i class=\"bi bi-arrow-left\"></i> Back\r\n        </router-link>\r\n\r\n        <!-- Alert Messages -->\r\n        <div v-if=\"errorMessage\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n          {{ errorMessage }}\r\n          <button type=\"button\" class=\"btn-close\" @click=\"errorMessage = ''\"></button>\r\n        </div>\r\n\r\n        <!-- Loading State -->\r\n        <div v-if=\"loading\" class=\"text-center\">\r\n          <div class=\"spinner-border\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Area Details -->\r\n        <div v-else-if=\"area\" class=\"bg-white p-4 rounded shadow-sm\">\r\n          <!-- Header -->\r\n          <div class=\"d-flex justify-content-between align-items-start mb-4\">\r\n            <div>\r\n              <h1 class=\"mb-2\">{{ area.name }}</h1>\r\n              <p class=\"text-muted mb-0\">{{ area.address }}</p>\r\n            </div>\r\n            <div>\r\n              <router-link :to=\"`/evacuation-areas/${area.id}/edit`\" class=\"btn btn-warning btn-sm\">\r\n                <i class=\"bi bi-pencil\"></i> Edit\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Status & Capacity -->\r\n          <div class=\"row mb-4\">\r\n            <div class=\"col-md-6\">\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <h6 class=\"card-title text-muted\">Status</h6>\r\n                  <span :class=\"['badge', getStatusClass(area.status), 'fs-6']\">\r\n                    {{ area.status }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <h6 class=\"card-title text-muted\">Occupancy</h6>\r\n                  <p class=\"card-text\">{{ area.current_occupancy }} / {{ area.capacity }} persons</p>\r\n                  <div class=\"progress\" style=\"height: 20px;\">\r\n                    <div\r\n                      class=\"progress-bar\"\r\n                      :class=\"getOccupancyClass(area)\"\r\n                      :style=\"{ width: getOccupancyPercent(area) + '%' }\"\r\n                    >\r\n                      {{ getOccupancyPercent(area) }}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Contact Information -->\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header bg-light\">\r\n              <h6 class=\"mb-0\">Contact Information</h6>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                  <strong>Contact Person:</strong>\r\n                  <p>{{ area.contact_person || 'Not provided' }}</p>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <strong>Phone Number:</strong>\r\n                  <p>{{ area.contact_number || 'Not provided' }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Location Map -->\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header bg-light\">\r\n              <h6 class=\"mb-0\">Location</h6>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div v-if=\"area.latitude && area.longitude\">\r\n                <div id=\"map-view\" style=\"height: 300px; border-radius: 5px; margin-bottom: 15px;\"></div>\r\n                <p class=\"text-muted small\">\r\n                  <strong>Latitude:</strong> {{ area.latitude }}<br>\r\n                  <strong>Longitude:</strong> {{ area.longitude }}\r\n                </p>\r\n              </div>\r\n              <div v-else class=\"alert alert-info mb-0\">\r\n                No location coordinates provided\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Facilities -->\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header bg-light\">\r\n              <h6 class=\"mb-0\">Facilities</h6>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <p v-if=\"area.facilities\" class=\"mb-0\">{{ area.facilities }}</p>\r\n              <p v-else class=\"text-muted mb-0\">No facilities listed</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Evacuated Families -->\r\n          <div class=\"card mb-4\">\r\n            <div class=\"card-header bg-light\">\r\n              <h6 class=\"mb-0\">Evacuated Families</h6>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div v-if=\"area.families && area.families.length > 0\">\r\n                <div class=\"table-responsive\">\r\n                  <table class=\"table table-striped table-hover\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Family Head Name</th>\r\n                        <th>Members</th>\r\n                        <th>Contact Number</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"family in area.families\" :key=\"family.id\">\r\n                        <td>{{ getFamilyHeadName(family) }}</td>\r\n                        <td>{{ family.evacuees ? family.evacuees.length : 0 }}</td>\r\n                        <td>{{ getFamilyContact(family) }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div v-else class=\"text-muted\">\r\n                No families currently evacuated in this area\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Additional Info -->\r\n          <div class=\"row text-muted small\">\r\n            <div class=\"col-md-6\">\r\n              <p><strong>Families:</strong> {{ area.families_count || 0 }}</p>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <p v-if=\"area.created_at\" class=\"mb-0\">\r\n                <strong>Created:</strong> {{ formatDate(area.created_at) }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Action Buttons -->\r\n          <div class=\"d-flex gap-2 mt-4\">\r\n            <router-link :to=\"`/evacuation-areas/${area.id}/edit`\" class=\"btn btn-warning\">\r\n              <i class=\"bi bi-pencil\"></i> Edit\r\n            </router-link>\r\n            <button @click=\"deleteArea\" class=\"btn btn-danger\">\r\n              <i class=\"bi bi-trash\"></i> Delete\r\n            </button>\r\n            <router-link to=\"/evacuation-areas\" class=\"btn btn-secondary\">\r\n              <i class=\"bi bi-list\"></i> Back to List\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Not Found -->\r\n        <div v-else class=\"alert alert-warning\">\r\n          Evacuation area not found\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport L from 'leaflet'\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nconst area = ref(null)\r\nconst loading = ref(false)\r\nconst errorMessage = ref('')\r\nlet map = null\r\n\r\nconst API_URL = 'http://127.0.0.1:8000/api'\r\n\r\nconst fetchArea = async () => {\r\n  loading.value = true\r\n  try {\r\n    const response = await axios.get(`${API_URL}/evacuation-areas/${route.params.id}`)\r\n    area.value = response.data\r\n    setTimeout(() => {\r\n      initMap()\r\n    }, 100)\r\n  } catch (error) {\r\n    errorMessage.value = error.response?.data?.message || 'Failed to fetch evacuation area'\r\n    console.error(error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst initMap = () => {\r\n  if (!area.value || !area.value.latitude || !area.value.longitude) return\r\n  if (map) return\r\n\r\n  const mapContainer = document.getElementById('map-view')\r\n  if (!mapContainer) return\r\n\r\n  map = L.map('map-view').setView([area.value.latitude, area.value.longitude], 13)\r\n\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: 'Â© OpenStreetMap contributors',\r\n    maxZoom: 19\r\n  }).addTo(map)\r\n\r\n  L.marker([area.value.latitude, area.value.longitude])\r\n    .bindPopup(area.value.name)\r\n    .addTo(map)\r\n    .openPopup()\r\n}\r\n\r\nconst deleteArea = async () => {\r\n  if (!confirm('Are you sure you want to delete this evacuation area?')) return\r\n\r\n  try {\r\n    const token = localStorage.getItem('token')\r\n    await axios.delete(`${API_URL}/evacuation-areas/${area.value.id}`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n    router.push('/evacuation-areas?success=Area deleted successfully')\r\n  } catch (error) {\r\n    errorMessage.value = error.response?.data?.message || 'Failed to delete evacuation area'\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nconst getStatusClass = (status) => {\r\n  const statusMap = {\r\n    available: 'bg-success',\r\n    full: 'bg-warning',\r\n    closed: 'bg-danger',\r\n    maintenance: 'bg-secondary'\r\n  }\r\n  return statusMap[status] || 'bg-secondary'\r\n}\r\n\r\nconst getOccupancyPercent = (areaData) => {\r\n  if (areaData.capacity === 0) return 0\r\n  return Math.round((areaData.current_occupancy / areaData.capacity) * 100)\r\n}\r\n\r\nconst getOccupancyClass = (areaData) => {\r\n  const percent = getOccupancyPercent(areaData)\r\n  if (percent >= 90) return 'bg-danger'\r\n  if (percent >= 70) return 'bg-warning'\r\n  return 'bg-success'\r\n}\r\n\r\nconst formatDate = (dateString) => {\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\nconst getFamilyHeadName = (family) => {\r\n  // Use family_name if available, otherwise try to find head from evacuees\r\n  if (family.family_name) {\r\n    return family.family_name\r\n  }\r\n\r\n  // Look for evacuee with 'head' relationship\r\n  if (family.evacuees && family.evacuees.length > 0) {\r\n    const head = family.evacuees.find(evacuee =>\r\n      evacuee.relationship && evacuee.relationship.toLowerCase().includes('head')\r\n    )\r\n    if (head) {\r\n      return `${head.first_name} ${head.last_name}`\r\n    }\r\n    // If no head found, use first evacuee\r\n    return `${family.evacuees[0].first_name} ${family.evacuees[0].last_name}`\r\n  }\r\n\r\n  return 'Unknown'\r\n}\r\n\r\nconst getFamilyContact = (family) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  // For now, return N/A since family model doesn't have contact field\r\n  // In future, this could be added to family model\r\n  return 'N/A'\r\n}\r\n\r\nonMounted(() => {\r\n  fetchArea()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  border: 1px solid #ddd;\r\n  transition: box-shadow 0.2s;\r\n}\r\n\r\n.card:hover {\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.badge {\r\n  padding: 0.5rem 1rem;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}