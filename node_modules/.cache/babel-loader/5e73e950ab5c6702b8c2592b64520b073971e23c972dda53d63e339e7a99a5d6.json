{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport AuthService from '../services/AuthService.js';\nexport default {\n  __name: 'SettingsPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const user = ref(null);\n    const loading = ref(true);\n    const error = ref(null);\n    const fetchUserInfo = async () => {\n      try {\n        loading.value = true;\n        error.value = null;\n        const response = await AuthService.get('/user');\n        user.value = response.data;\n      } catch (err) {\n        console.error('Failed to fetch user info:', err);\n        error.value = 'Failed to load user information. Please try again.';\n      } finally {\n        loading.value = false;\n      }\n    };\n    const formatDate = dateString => {\n      if (!dateString) return 'N/A';\n      return new Date(dateString).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    onMounted(() => {\n      fetchUserInfo();\n    });\n    const __returned__ = {\n      user,\n      loading,\n      error,\n      fetchUserInfo,\n      formatDate,\n      ref,\n      onMounted,\n      get AuthService() {\n        return AuthService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","AuthService","user","loading","error","fetchUserInfo","value","response","get","data","err","console","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute"],"sources":["C:/VUEprojects/crud-app/src/pages/SettingsPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"settings-page\">\r\n    <div class=\"container\">\r\n      <h1 class=\"page-title\">User Settings</h1>\r\n\r\n      <div v-if=\"loading\" class=\"loading\">\r\n        <div class=\"spinner\"></div>\r\n        <p>Loading user information...</p>\r\n      </div>\r\n\r\n      <div v-else-if=\"error\" class=\"error\">\r\n        <p>{{ error }}</p>\r\n        <button @click=\"fetchUserInfo\" class=\"retry-btn\">Retry</button>\r\n      </div>\r\n\r\n      <div v-else-if=\"user\" class=\"user-info-card\">\r\n        <div class=\"card-header\">\r\n          <h2>User Information</h2>\r\n        </div>\r\n\r\n        <div class=\"card-body\">\r\n          <div class=\"info-row\">\r\n            <label>Name:</label>\r\n            <span>{{ user.name }}</span>\r\n          </div>\r\n\r\n          <div class=\"info-row\" v-if=\"user.email\">\r\n            <label>Email:</label>\r\n            <span>{{ user.email }}</span>\r\n          </div>\r\n\r\n          <div class=\"info-row\" v-if=\"user.gov_id\">\r\n            <label>Government ID:</label>\r\n            <span>{{ user.gov_id }}</span>\r\n          </div>\r\n\r\n          <div class=\"info-row\" v-if=\"user.phone_number\">\r\n            <label>Phone Number:</label>\r\n            <span>{{ user.phone_number }}</span>\r\n          </div>\r\n\r\n          <div class=\"info-row\">\r\n            <label>Registration Date:</label>\r\n            <span>{{ formatDate(user.created_at) }}</span>\r\n          </div>\r\n\r\n          <div class=\"info-row\">\r\n            <label>Last Updated:</label>\r\n            <span>{{ formatDate(user.updated_at) }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card-actions\">\r\n          <button @click=\"$router.push({ name: 'LoginHistory' })\" class=\"action-btn primary\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n            </svg>\r\n            View Login History\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport AuthService from '../services/AuthService.js'\r\n\r\nconst user = ref(null)\r\nconst loading = ref(true)\r\nconst error = ref(null)\r\n\r\nconst fetchUserInfo = async () => {\r\n  try {\r\n    loading.value = true\r\n    error.value = null\r\n    const response = await AuthService.get('/user')\r\n    user.value = response.data\r\n  } catch (err) {\r\n    console.error('Failed to fetch user info:', err)\r\n    error.value = 'Failed to load user information. Please try again.'\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'N/A'\r\n  return new Date(dateString).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  fetchUserInfo()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.settings-page {\r\n  padding: 20px;\r\n  background-color: #f8f9fa;\r\n  min-height: 100vh;\r\n}\r\n\r\n.container {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-title {\r\n  color: #333;\r\n  margin-bottom: 30px;\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 50px;\r\n}\r\n\r\n.spinner {\r\n  border: 4px solid #f3f3f3;\r\n  border-top: 4px solid #4f46e5;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 20px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error {\r\n  background-color: #fee;\r\n  border: 1px solid #fcc;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: #c33;\r\n}\r\n\r\n.retry-btn {\r\n  background-color: #4f46e5;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background-color: #3730a3;\r\n}\r\n\r\n.user-info-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n}\r\n\r\n.card-header {\r\n  background: linear-gradient(135deg, #4f46e5, #6366f1);\r\n  color: white;\r\n  padding: 20px;\r\n}\r\n\r\n.card-header h2 {\r\n  margin: 0;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.card-body {\r\n  padding: 30px;\r\n}\r\n\r\n.info-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n.info-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.info-row label {\r\n  font-weight: 600;\r\n  color: #374151;\r\n  min-width: 150px;\r\n}\r\n\r\n.info-row span {\r\n  color: #6b7280;\r\n  text-align: right;\r\n}\r\n\r\n.card-actions {\r\n  padding: 20px 30px;\r\n  background-color: #f9fafb;\r\n  border-top: 1px solid #e5e7eb;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.action-btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px 24px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  text-decoration: none;\r\n}\r\n\r\n.action-btn.primary {\r\n  background-color: #4f46e5;\r\n  color: white;\r\n}\r\n\r\n.action-btn.primary:hover {\r\n  background-color: #3730a3;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);\r\n}\r\n\r\n.action-btn svg {\r\n  width: 18px;\r\n  height: 18px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .settings-page {\r\n    padding: 10px;\r\n  }\r\n\r\n  .info-row {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 5px;\r\n  }\r\n\r\n  .info-row span {\r\n    text-align: left;\r\n  }\r\n\r\n  .card-actions {\r\n    padding: 15px 20px;\r\n    justify-content: center;\r\n  }\r\n\r\n  .action-btn {\r\n    padding: 10px 20px;\r\n    font-size: 13px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AAkEA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,WAAW,MAAM,4BAA4B;;;;;;;IAEpD,MAAMC,IAAI,GAAGH,GAAG,CAAC,IAAI,CAAC;IACtB,MAAMI,OAAO,GAAGJ,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMK,KAAK,GAAGL,GAAG,CAAC,IAAI,CAAC;IAEvB,MAAMM,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFF,OAAO,CAACG,KAAK,GAAG,IAAI;QACpBF,KAAK,CAACE,KAAK,GAAG,IAAI;QAClB,MAAMC,QAAQ,GAAG,MAAMN,WAAW,CAACO,GAAG,CAAC,OAAO,CAAC;QAC/CN,IAAI,CAACI,KAAK,GAAGC,QAAQ,CAACE,IAAI;MAC5B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACP,KAAK,CAAC,4BAA4B,EAAEM,GAAG,CAAC;QAChDN,KAAK,CAACE,KAAK,GAAG,oDAAoD;MACpE,CAAC,SAAS;QACRH,OAAO,CAACG,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;IAED,MAAMM,UAAU,GAAIC,UAAU,IAAK;MACjC,IAAI,CAACA,UAAU,EAAE,OAAO,KAAK;MAC7B,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;QACtDC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE,MAAM;QACbC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;MACV,CAAC,CAAC;IACJ,CAAC;IAEDpB,SAAS,CAAC,MAAM;MACdK,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}