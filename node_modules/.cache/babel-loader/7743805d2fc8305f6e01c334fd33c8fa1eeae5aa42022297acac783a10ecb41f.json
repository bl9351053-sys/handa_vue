{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"resident-header\"\n};\nconst _hoisted_2 = {\n  class: \"header-container\"\n};\nconst _hoisted_3 = {\n  class: \"header-center\"\n};\nconst _hoisted_4 = {\n  class: \"header-subtitle\"\n};\nconst _hoisted_5 = {\n  class: \"header-right\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"notification-badge\"\n};\nconst _hoisted_7 = {\n  class: \"user-menu\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"dropdown-menu\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"header-left\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"header-title\"\n  }, \"Resident Portal\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"span\", _hoisted_4, _toDisplayString($setup.userDisplayName), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", {\n    class: \"notification-bell\",\n    onClick: $setup.toggleNotifications\n  }, [_cache[0] || (_cache[0] = _createElementVNode(\"svg\", {\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\"\n  }, [_createElementVNode(\"path\", {\n    d: \"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"\n  }), _createElementVNode(\"path\", {\n    d: \"M13.73 21a2 2 0 0 1-3.46 0\"\n  })], -1 /* CACHED */)), $setup.unreadCount > 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString($setup.unreadCount), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: $setup.toggleUserMenu,\n    class: \"user-button\"\n  }, [_createElementVNode(\"span\", null, _toDisplayString($setup.userDisplayName), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"svg\", {\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\"\n  }, [_createElementVNode(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  })], -1 /* CACHED */))]), $setup.showUserMenu ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _withModifiers($setup.goToProfile, [\"prevent\"]),\n    class: \"dropdown-item\"\n  }, \"Profile\"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _withModifiers($setup.goToSettings, [\"prevent\"]),\n    class: \"dropdown-item\"\n  }, \"Settings\"), _cache[2] || (_cache[2] = _createElementVNode(\"hr\", {\n    class: \"dropdown-divider\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _withModifiers($setup.logout, [\"prevent\"]),\n    class: \"dropdown-item logout-item\"\n  }, \"Logout\")])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$setup","userDisplayName","_hoisted_5","onClick","toggleNotifications","width","height","viewBox","fill","stroke","d","unreadCount","_hoisted_6","_hoisted_7","toggleUserMenu","points","showUserMenu","_hoisted_8","href","_withModifiers","goToProfile","goToSettings","logout"],"sources":["C:\\VUEprojects\\crud-app\\src\\components\\resident_components\\ResidentHeader.vue"],"sourcesContent":["<template>\r\n  <header class=\"resident-header\">\r\n    <div class=\"header-container\">\r\n      <div class=\"header-left\">\r\n        <h1 class=\"header-title\">Resident Portal</h1>\r\n      </div>\r\n      <div class=\"header-center\">\r\n        <span class=\"header-subtitle\">{{ userDisplayName }}</span>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <div class=\"notification-bell\" @click=\"toggleNotifications\">\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n            <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\r\n            <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\r\n          </svg>\r\n          <span v-if=\"unreadCount > 0\" class=\"notification-badge\">{{ unreadCount }}</span>\r\n        </div>\r\n        <div class=\"user-menu\">\r\n          <button @click=\"toggleUserMenu\" class=\"user-button\">\r\n            <span>{{ userDisplayName }}</span>\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n            </svg>\r\n          </button>\r\n          <div v-if=\"showUserMenu\" class=\"dropdown-menu\">\r\n            <a href=\"#\" @click.prevent=\"goToProfile\" class=\"dropdown-item\">Profile</a>\r\n            <a href=\"#\" @click.prevent=\"goToSettings\" class=\"dropdown-item\">Settings</a>\r\n            <hr class=\"dropdown-divider\">\r\n            <a href=\"#\" @click.prevent=\"logout\" class=\"dropdown-item logout-item\">Logout</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { residentAuthService, residentNotificationService } from '../../services/residentService';\r\n\r\nconst router = useRouter();\r\nconst showUserMenu = ref(false);\r\nconst unreadCount = ref(0);\r\nconst userDisplayName = ref('User');\r\n\r\nonMounted(async () => {\r\n  const user = JSON.parse(localStorage.getItem('resident_user') || '{}');\r\n  userDisplayName.value = user.name || 'Resident';\r\n  \r\n  try {\r\n    const response = await residentNotificationService.getNotifications();\r\n    unreadCount.value = response.data.filter(n => !n.read).length;\r\n  } catch (error) {\r\n    console.error('Failed to fetch notifications:', error);\r\n  }\r\n});\r\n\r\nconst toggleUserMenu = () => {\r\n  showUserMenu.value = !showUserMenu.value;\r\n};\r\n\r\nconst toggleNotifications = () => {\r\n  router.push('/resident/notifications');\r\n};\r\n\r\nconst goToProfile = () => {\r\n  showUserMenu.value = false;\r\n  router.push('/resident/profile');\r\n};\r\n\r\nconst goToSettings = () => {\r\n  showUserMenu.value = false;\r\n  router.push('/resident/settings');\r\n};\r\n\r\nconst logout = async () => {\r\n  try {\r\n    await residentAuthService.logout();\r\n  } catch (error) {\r\n    console.error('Logout error:', error);\r\n  } finally {\r\n    localStorage.removeItem('resident_token');\r\n    localStorage.removeItem('resident_user');\r\n    router.push('/resident/login');\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.resident-header {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n}\r\n\r\n.header-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  padding: 0 20px;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.header-left {\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.header-title {\r\n  margin: 0;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n}\r\n\r\n.header-center {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.header-subtitle {\r\n  font-size: 14px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.notification-bell {\r\n  position: relative;\r\n  cursor: pointer;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.notification-bell:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n.notification-badge {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: -8px;\r\n  background-color: #ff4757;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n}\r\n\r\n.user-menu {\r\n  position: relative;\r\n}\r\n\r\n.user-button {\r\n  background: transparent;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.user-button:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n.dropdown-menu {\r\n  position: absolute;\r\n  top: 100%;\r\n  right: 0;\r\n  background: white;\r\n  color: #333;\r\n  border-radius: 4px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\r\n  min-width: 180px;\r\n  margin-top: 8px;\r\n  z-index: 1001;\r\n}\r\n\r\n.dropdown-item {\r\n  display: block;\r\n  padding: 10px 16px;\r\n  text-decoration: none;\r\n  color: #333;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.dropdown-item.logout-item {\r\n  color: #ff4757;\r\n}\r\n\r\n.dropdown-divider {\r\n  margin: 4px 0;\r\n  border: none;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header-center {\r\n    display: none;\r\n  }\r\n\r\n  .header-container {\r\n    padding: 0 10px;\r\n  }\r\n\r\n  .header-title {\r\n    font-size: 18px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;EACUA,KAAK,EAAC;AAAiB;;EACxBA,KAAK,EAAC;AAAkB;;EAItBA,KAAK,EAAC;AAAe;;EAClBA,KAAK,EAAC;AAAiB;;EAE1BA,KAAK,EAAC;AAAc;;;EAMQA,KAAK,EAAC;;;EAEhCA,KAAK,EAAC;AAAW;;;EAOKA,KAAK,EAAC;;;uBAvBvCC,mBAAA,CAgCS,UAhCTC,UAgCS,GA/BPC,mBAAA,CA8BM,OA9BNC,UA8BM,G,0BA7BJD,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAa,IACtBG,mBAAA,CAA6C;IAAzCH,KAAK,EAAC;EAAc,GAAC,iBAAe,E,qBAE1CG,mBAAA,CAEM,OAFNE,UAEM,GADJF,mBAAA,CAA0D,QAA1DG,UAA0D,EAAAC,gBAAA,CAAzBC,MAAA,CAAAC,eAAe,iB,GAElDN,mBAAA,CAsBM,OAtBNO,UAsBM,GArBJP,mBAAA,CAMM;IANDH,KAAK,EAAC,mBAAmB;IAAEW,OAAK,EAAEH,MAAA,CAAAI;gCACrCT,mBAAA,CAGM;IAHDU,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC;MACjEd,mBAAA,CAA6D;IAAvDe,CAAC,EAAC;EAA6C,IACrDf,mBAAA,CAA4C;IAAtCe,CAAC,EAAC;EAA4B,G,qBAE1BV,MAAA,CAAAW,WAAW,Q,cAAvBlB,mBAAA,CAAgF,QAAhFmB,UAAgF,EAAAb,gBAAA,CAArBC,MAAA,CAAAW,WAAW,oB,qCAExEhB,mBAAA,CAaM,OAbNkB,UAaM,GAZJlB,mBAAA,CAKS;IALAQ,OAAK,EAAEH,MAAA,CAAAc,cAAc;IAAEtB,KAAK,EAAC;MACpCG,mBAAA,CAAkC,cAAAI,gBAAA,CAAzBC,MAAA,CAAAC,eAAe,kB,0BACxBN,mBAAA,CAEM;IAFDU,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC;MACjEd,mBAAA,CAA6C;IAAnCoB,MAAM,EAAC;EAAgB,G,uBAG1Bf,MAAA,CAAAgB,YAAY,I,cAAvBvB,mBAAA,CAKM,OALNwB,UAKM,GAJJtB,mBAAA,CAA0E;IAAvEuB,IAAI,EAAC,GAAG;IAAEf,OAAK,EAAAgB,cAAA,CAAUnB,MAAA,CAAAoB,WAAW;IAAE5B,KAAK,EAAC;KAAgB,SAAO,GACtEG,mBAAA,CAA4E;IAAzEuB,IAAI,EAAC,GAAG;IAAEf,OAAK,EAAAgB,cAAA,CAAUnB,MAAA,CAAAqB,YAAY;IAAE7B,KAAK,EAAC;KAAgB,UAAQ,G,0BACxEG,mBAAA,CAA6B;IAAzBH,KAAK,EAAC;EAAkB,4BAC5BG,mBAAA,CAAgF;IAA7EuB,IAAI,EAAC,GAAG;IAAEf,OAAK,EAAAgB,cAAA,CAAUnB,MAAA,CAAAsB,MAAM;IAAE9B,KAAK,EAAC;KAA4B,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}