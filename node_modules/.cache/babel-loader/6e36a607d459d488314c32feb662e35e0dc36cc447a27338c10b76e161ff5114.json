{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-6 flex justify-between items-center\"\n};\nconst _hoisted_2 = {\n  class: \"space-x-2\"\n};\nconst _hoisted_3 = {\n  class: \"bg-white rounded shadow p-6\"\n};\nconst _hoisted_4 = {\n  class: \"text-xl font-bold mb-2\"\n};\nconst _hoisted_5 = {\n  class: \"text-gray-700 whitespace-pre-line mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"grid grid-cols-2 gap-4 mb-6\"\n};\nconst _hoisted_7 = {\n  class: \"bg-purple-50 p-4 rounded\"\n};\nconst _hoisted_8 = {\n  class: \"font-semibold text-gray-800\"\n};\nconst _hoisted_9 = {\n  class: \"grid grid-cols-2 gap-4 mb-6\"\n};\nconst _hoisted_10 = {\n  class: \"bg-green-50 p-4 rounded\"\n};\nconst _hoisted_11 = {\n  class: \"text-2xl font-bold text-green-600\"\n};\nconst _hoisted_12 = {\n  class: \"bg-indigo-50 p-4 rounded\"\n};\nconst _hoisted_13 = {\n  class: \"text-2xl font-bold text-indigo-600\"\n};\nconst _hoisted_14 = {\n  class: \"grid grid-cols-2 gap-4 border-t pt-4\"\n};\nconst _hoisted_15 = {\n  class: \"font-semibold\"\n};\nconst _hoisted_16 = {\n  class: \"font-semibold\"\n};\nconst _hoisted_17 = {\n  class: \"font-semibold\"\n};\nconst _hoisted_18 = {\n  class: \"font-semibold\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", null, [_createElementVNode(\"h2\", {\n    class: \"text-2xl font-semibold\"\n  }, \"Prediction Details\"), _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"View prediction information\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: `/predictions/${$setup.id}/edit`,\n    class: \"bg-blue-600 text-white px-4 py-2 rounded\"\n  }, {\n    default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\"Edit\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: \"/predictions\",\n    class: \"bg-gray-600 text-white px-4 py-2 rounded\"\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"Back\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", _hoisted_4, _toDisplayString($setup.prediction.disaster_type) + \" - \" + _toDisplayString($setup.prediction.location_name || 'N/A'), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_5, _toDisplayString($setup.prediction.description || 'No description'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[3] || (_cache[3] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Affected Areas\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.prediction.affected_areas || 'Not specified'), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Risk Level\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_11, _toDisplayString($setup.prediction.risk_level || 'N/A') + \"/10\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [_cache[5] || (_cache[5] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Estimated Recovery Time\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_13, _toDisplayString($setup.prediction.predicted_recovery_days ? '~' + $setup.prediction.predicted_recovery_days + ' days' : 'N/A'), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Predicted Date\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_15, _toDisplayString($setup.formatDate($setup.prediction.predicted_date)), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Valid Until\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_16, _toDisplayString($setup.formatDate($setup.prediction.valid_until)), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Created By\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_17, _toDisplayString($setup.prediction.user?.name || 'N/A'), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"p\", {\n    class: \"text-sm text-gray-500\"\n  }, \"Created At\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_18, _toDisplayString($setup.formatDate($setup.prediction.created_at)), 1 /* TEXT */)])])]), _cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"mt-6 bg-white rounded shadow p-6\"\n  }, [_createElementVNode(\"h4\", {\n    class: \"mb-2\"\n  }, \"Location Map\"), _createElementVNode(\"div\", {\n    id: \"map\",\n    style: {\n      \"height\": \"400px\"\n    }\n  })], -1 /* CACHED */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","$setup","id","_cache","_hoisted_3","_hoisted_4","_toDisplayString","prediction","disaster_type","location_name","_hoisted_5","description","_hoisted_6","_hoisted_7","_hoisted_8","affected_areas","_hoisted_9","_hoisted_10","_hoisted_11","risk_level","_hoisted_12","_hoisted_13","predicted_recovery_days","_hoisted_14","_hoisted_15","formatDate","predicted_date","_hoisted_16","valid_until","_hoisted_17","user","name","_hoisted_18","created_at","style"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\PredictionShow.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"mb-6 flex justify-between items-center\">\r\n      <div>\r\n        <h2 class=\"text-2xl font-semibold\">Prediction Details</h2>\r\n        <p class=\"text-sm text-gray-500\">View prediction information</p>\r\n      </div>\r\n      <div class=\"space-x-2\">\r\n        <router-link :to=\"`/predictions/${id}/edit`\" class=\"bg-blue-600 text-white px-4 py-2 rounded\">Edit</router-link>\r\n        <router-link to=\"/predictions\" class=\"bg-gray-600 text-white px-4 py-2 rounded\">Back</router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded shadow p-6\">\r\n      <h3 class=\"text-xl font-bold mb-2\">{{ prediction.disaster_type }} - {{ prediction.location_name || 'N/A' }}</h3>\r\n      <p class=\"text-gray-700 whitespace-pre-line mb-4\">{{ prediction.description || 'No description' }}</p>\r\n\r\n      <div class=\"grid grid-cols-2 gap-4 mb-6\">\r\n        <div class=\"bg-purple-50 p-4 rounded\">\r\n          <p class=\"text-sm text-gray-500\">Affected Areas</p>\r\n          <p class=\"font-semibold text-gray-800\">{{ prediction.affected_areas || 'Not specified' }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-2 gap-4 mb-6\">\r\n        <div class=\"bg-green-50 p-4 rounded\">\r\n          <p class=\"text-sm text-gray-500\">Risk Level</p>\r\n          <p class=\"text-2xl font-bold text-green-600\">{{ prediction.risk_level || 'N/A' }}/10</p>\r\n        </div>\r\n        <div class=\"bg-indigo-50 p-4 rounded\">\r\n          <p class=\"text-sm text-gray-500\">Estimated Recovery Time</p>\r\n          <p class=\"text-2xl font-bold text-indigo-600\">{{ prediction.predicted_recovery_days ? '~' + prediction.predicted_recovery_days + ' days' : 'N/A' }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-2 gap-4 border-t pt-4\">\r\n        <div>\r\n          <p class=\"text-sm text-gray-500\">Predicted Date</p>\r\n          <p class=\"font-semibold\">{{ formatDate(prediction.predicted_date) }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-500\">Valid Until</p>\r\n          <p class=\"font-semibold\">{{ formatDate(prediction.valid_until) }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-500\">Created By</p>\r\n          <p class=\"font-semibold\">{{ prediction.user?.name || 'N/A' }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-500\">Created At</p>\r\n          <p class=\"font-semibold\">{{ formatDate(prediction.created_at) }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-6 bg-white rounded shadow p-6\">\r\n      <h4 class=\"mb-2\">Location Map</h4>\r\n      <div id=\"map\" style=\"height:400px\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport api from '../services/api';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { useRoute } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nconst id = route.params.id;\r\nconst prediction = ref({});\r\n\r\nfunction formatDate(dt) {\r\n  if (!dt) return 'N/A';\r\n  try { return new Date(dt).toLocaleString(); } catch { return dt; }\r\n}\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const res = await api.get(`/disaster-predictions/${id}`);\r\n    prediction.value = res.data;\r\n    if (prediction.value.latitude && prediction.value.longitude) {\r\n      const map = L.map('map').setView([prediction.value.latitude, prediction.value.longitude], 13);\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\r\n      const marker = L.marker([prediction.value.latitude, prediction.value.longitude]).addTo(map);\r\n      marker.bindPopup(`<strong>${prediction.value.location_name || 'Location'}</strong><br>${prediction.value.disaster_type || ''}`).openPopup();\r\n      const radius = (prediction.value.risk_level || 0) * 500;\r\n      const color = prediction.value.risk_level >= 8 ? '#dc3545' : (prediction.value.risk_level >= 6 ? '#fd7e14' : (prediction.value.risk_level >=4 ? '#ffc107' : '#28a745'));\r\n      L.circle([prediction.value.latitude, prediction.value.longitude], { color, fillColor: color, fillOpacity: 0.2, radius }).addTo(map);\r\n    } else {\r\n      document.getElementById('map').innerHTML = '<p class=\"text-center text-muted mt-3\">No map available for this prediction.</p>';\r\n    }\r\n  } catch (e) {\r\n    console.error('load show failed', e);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n#map { border-radius: 8px; }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}