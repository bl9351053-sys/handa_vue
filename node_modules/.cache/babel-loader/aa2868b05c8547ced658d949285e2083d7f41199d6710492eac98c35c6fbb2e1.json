{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-container\"\n};\nconst _hoisted_2 = {\n  class: \"content-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"header\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"loading-card\"\n};\nconst _hoisted_5 = {\n  class: \"error-card\"\n};\nconst _hoisted_6 = {\n  class: \"card\"\n};\nconst _hoisted_7 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-6\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_11 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-6\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_14 = {\n  class: \"grid grid-cols-1 md:grid-cols-3 gap-6\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"error-text\"\n};\nconst _hoisted_20 = {\n  class: \"form-actions\"\n};\nconst _hoisted_21 = [\"disabled\"];\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", null, [_createElementVNode(\"h1\", {\n    class: \"title\"\n  }, \"Edit Facility\"), _createElementVNode(\"p\", {\n    class: \"subtitle\"\n  }, \"Update facility information\")], -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/facilities\",\n    class: \"back-link\"\n  }, {\n    default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createElementVNode(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      class: \"icon\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      stroke: \"currentColor\"\n    }, [_createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-width\": \"2\",\n      d: \"M15 19l-7-7 7-7\"\n    })], -1 /* CACHED */), _createTextVNode(\" Back to Facilities \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })]), _cache[26] || (_cache[26] = _createTextVNode(\" ``` \", -1 /* CACHED */)), _createCommentVNode(\" Loading \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [...(_cache[12] || (_cache[12] = [_createElementVNode(\"div\", {\n    class: \"loading-content\"\n  }, [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }), _createElementVNode(\"span\", null, \"Loading facility...\")], -1 /* CACHED */)]))])) : $setup.generalError ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Error \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, _toDisplayString($setup.generalError), 1 /* TEXT */)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Form Card \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.submit, [\"prevent\"]),\n    class: \"form-container\"\n  }, [_createCommentVNode(\" Row 1: Name & Type \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Name \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.name = $event),\n    type: \"text\",\n    required: \"\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.name]]), $setup.errors.name ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, _toDisplayString($setup.errors.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Type \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.type = $event),\n    type: \"text\",\n    placeholder: \"Hospital, Fire Station, etc.\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.type]]), $setup.errors.type ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString($setup.errors.type), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Address \"), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Address \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.address = $event),\n    rows: \"3\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.address]]), $setup.errors.address ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, _toDisplayString($setup.errors.address), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Map \"), _cache[25] || (_cache[25] = _createElementVNode(\"div\", null, [_createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Location \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")]), _createElementVNode(\"div\", {\n    id: \"map-container\",\n    class: \"map-container\"\n  }), _createElementVNode(\"p\", {\n    class: \"map-hint\"\n  }, \"Click on the map to set the facility location\")], -1 /* CACHED */)), _createCommentVNode(\" Latitude & Longitude \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Latitude\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.latitude = $event),\n    type: \"number\",\n    step: \"0.00000001\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.latitude, void 0, {\n    number: true\n  }]]), $setup.errors.latitude ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, _toDisplayString($setup.errors.latitude), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Longitude\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.longitude = $event),\n    type: \"number\",\n    step: \"0.00000001\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.longitude, void 0, {\n    number: true\n  }]]), $setup.errors.longitude ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString($setup.errors.longitude), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Status, Staff Count, Contact \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", null, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Status \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.status = $event),\n    class: \"input-field\"\n  }, [...(_cache[18] || (_cache[18] = [_createElementVNode(\"option\", {\n    value: \"operational\"\n  }, \"Operational\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"limited\"\n  }, \"Limited\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"offline\"\n  }, \"Offline\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"emergency\"\n  }, \"Emergency\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.form.status]]), $setup.errors.status ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, _toDisplayString($setup.errors.status), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, [_createTextVNode(\"Staff Count \"), _createElementVNode(\"span\", {\n    class: \"text-red-500\"\n  }, \"*\")], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.form.staff_count = $event),\n    type: \"number\",\n    min: \"0\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.staff_count, void 0, {\n    number: true\n  }]]), $setup.errors.staff_count ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, _toDisplayString($setup.errors.staff_count), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_cache[21] || (_cache[21] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Contact Number\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.form.contact_number = $event),\n    type: \"text\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.contact_number]]), $setup.errors.contact_number ? (_openBlock(), _createElementBlock(\"p\", _hoisted_17, _toDisplayString($setup.errors.contact_number), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Resources \"), _createElementVNode(\"div\", null, [_cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Resources\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.form.resources = $event),\n    rows: \"2\",\n    placeholder: \"e.g., Ambulances: 5, Beds: 100, Medical supplies\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.resources]]), $setup.errors.resources ? (_openBlock(), _createElementBlock(\"p\", _hoisted_18, _toDisplayString($setup.errors.resources), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Notes \"), _createElementVNode(\"div\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    class: \"label\"\n  }, \"Notes\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.form.notes = $event),\n    rows: \"3\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.notes]]), $setup.errors.notes ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, _toDisplayString($setup.errors.notes), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Actions \"), _createElementVNode(\"div\", _hoisted_20, [_createVNode(_component_router_link, {\n    to: \"/facilities\",\n    class: \"cancel-btn\"\n  }, {\n    default: _withCtx(() => [...(_cache[24] || (_cache[24] = [_createTextVNode(\"Cancel\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.submitting,\n    class: \"submit-btn\"\n  }, [!$setup.submitting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_22, \"Update Facility\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_23, \"Updating...\"))], 8 /* PROPS */, _hoisted_21)])], 32 /* NEED_HYDRATION */)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]), _cache[27] || (_cache[27] = _createTextVNode(\" ``` \", -1 /* CACHED */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_createVNode","_component_router_link","to","_cache","xmlns","fill","viewBox","stroke","d","$setup","loading","_hoisted_4","generalError","_Fragment","key","_hoisted_5","_toDisplayString","_hoisted_6","onSubmit","_withModifiers","submit","_hoisted_7","form","name","$event","type","required","errors","_hoisted_8","placeholder","_hoisted_9","address","rows","_hoisted_10","id","_hoisted_11","latitude","step","number","_hoisted_12","longitude","_hoisted_13","_hoisted_14","status","value","_hoisted_15","staff_count","min","_hoisted_16","contact_number","_hoisted_17","resources","_hoisted_18","notes","_hoisted_19","_hoisted_20","disabled","submitting","_hoisted_22","_hoisted_23"],"sources":["C:\\VUEprojects\\crud-app\\src\\pages\\FacilityEdit.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"content-wrapper\">\r\n      <!-- Header -->\r\n      <div class=\"header\">\r\n        <div>\r\n          <h1 class=\"title\">Edit Facility</h1>\r\n          <p class=\"subtitle\">Update facility information</p>\r\n        </div>\r\n        <router-link to=\"/facilities\" class=\"back-link\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\r\n          </svg>\r\n          Back to Facilities\r\n        </router-link>\r\n      </div>\r\n\r\n```\r\n  <!-- Loading -->\r\n  <div v-if=\"loading\" class=\"loading-card\">\r\n    <div class=\"loading-content\">\r\n      <div class=\"spinner\"></div>\r\n      <span>Loading facility...</span>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Error -->\r\n  <div v-else-if=\"generalError\" class=\"error-card\">\r\n    <p>{{ generalError }}</p>\r\n  </div>\r\n\r\n  <!-- Form Card -->\r\n  <div v-else class=\"card\">\r\n    <form @submit.prevent=\"submit\" class=\"form-container\">\r\n      <!-- Row 1: Name & Type -->\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div>\r\n          <label class=\"label\">Name <span class=\"text-red-500\">*</span></label>\r\n          <input v-model=\"form.name\" type=\"text\" required class=\"input-field\" />\r\n          <p v-if=\"errors.name\" class=\"error-text\">{{ errors.name }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Type <span class=\"text-red-500\">*</span></label>\r\n          <input v-model=\"form.type\" type=\"text\" placeholder=\"Hospital, Fire Station, etc.\" class=\"input-field\" />\r\n          <p v-if=\"errors.type\" class=\"error-text\">{{ errors.type }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Address -->\r\n      <div>\r\n        <label class=\"label\">Address <span class=\"text-red-500\">*</span></label>\r\n        <textarea v-model=\"form.address\" rows=\"3\" class=\"input-field\"></textarea>\r\n        <p v-if=\"errors.address\" class=\"error-text\">{{ errors.address }}</p>\r\n      </div>\r\n\r\n      <!-- Map -->\r\n      <div>\r\n        <label class=\"label\">Location <span class=\"text-red-500\">*</span></label>\r\n        <div id=\"map-container\" class=\"map-container\"></div>\r\n        <p class=\"map-hint\">Click on the map to set the facility location</p>\r\n      </div>\r\n\r\n      <!-- Latitude & Longitude -->\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div>\r\n          <label class=\"label\">Latitude</label>\r\n          <input v-model.number=\"form.latitude\" type=\"number\" step=\"0.00000001\" class=\"input-field\" />\r\n          <p v-if=\"errors.latitude\" class=\"error-text\">{{ errors.latitude }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Longitude</label>\r\n          <input v-model.number=\"form.longitude\" type=\"number\" step=\"0.00000001\" class=\"input-field\" />\r\n          <p v-if=\"errors.longitude\" class=\"error-text\">{{ errors.longitude }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Status, Staff Count, Contact -->\r\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div>\r\n          <label class=\"label\">Status <span class=\"text-red-500\">*</span></label>\r\n          <select v-model=\"form.status\" class=\"input-field\">\r\n            <option value=\"operational\">Operational</option>\r\n            <option value=\"limited\">Limited</option>\r\n            <option value=\"offline\">Offline</option>\r\n            <option value=\"emergency\">Emergency</option>\r\n          </select>\r\n          <p v-if=\"errors.status\" class=\"error-text\">{{ errors.status }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Staff Count <span class=\"text-red-500\">*</span></label>\r\n          <input v-model.number=\"form.staff_count\" type=\"number\" min=\"0\" class=\"input-field\" />\r\n          <p v-if=\"errors.staff_count\" class=\"error-text\">{{ errors.staff_count }}</p>\r\n        </div>\r\n        <div>\r\n          <label class=\"label\">Contact Number</label>\r\n          <input v-model=\"form.contact_number\" type=\"text\" class=\"input-field\" />\r\n          <p v-if=\"errors.contact_number\" class=\"error-text\">{{ errors.contact_number }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Resources -->\r\n      <div>\r\n        <label class=\"label\">Resources</label>\r\n        <textarea v-model=\"form.resources\" rows=\"2\" placeholder=\"e.g., Ambulances: 5, Beds: 100, Medical supplies\" class=\"input-field\"></textarea>\r\n        <p v-if=\"errors.resources\" class=\"error-text\">{{ errors.resources }}</p>\r\n      </div>\r\n\r\n      <!-- Notes -->\r\n      <div>\r\n        <label class=\"label\">Notes</label>\r\n        <textarea v-model=\"form.notes\" rows=\"3\" class=\"input-field\"></textarea>\r\n        <p v-if=\"errors.notes\" class=\"error-text\">{{ errors.notes }}</p>\r\n      </div>\r\n\r\n      <!-- Actions -->\r\n      <div class=\"form-actions\">\r\n        <router-link to=\"/facilities\" class=\"cancel-btn\">Cancel</router-link>\r\n        <button type=\"submit\" :disabled=\"submitting\" class=\"submit-btn\">\r\n          <span v-if=\"!submitting\">Update Facility</span>\r\n          <span v-else>Updating...</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n```\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, inject, onMounted, nextTick } from 'vue'\r\nimport axios from 'axios'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport L from 'leaflet'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst baseUrl = inject('baseUrl', '')\r\nconst facilityId = route.params.id\r\n\r\nconst form = reactive({\r\n  name: '',\r\n  type: '',\r\n  address: '',\r\n  latitude: null,\r\n  longitude: null,\r\n  status: 'operational',\r\n  staff_count: 0,\r\n  contact_number: '',\r\n  resources: '',\r\n  notes: ''\r\n})\r\n\r\nconst errors = reactive({})\r\nconst generalError = ref('')\r\nconst submitting = ref(false)\r\nconst loading = ref(true)\r\nlet map = null\r\nlet marker = null\r\n\r\nonMounted(async () => {\r\n  await fetchFacility()\r\n  await nextTick()\r\n  initializeMap()\r\n})\r\n\r\nasync function fetchFacility() {\r\n  try {\r\n    const res = await axios.get(`${baseUrl}/facilities/${facilityId}`)\r\n    const facility = res.data?.data || res.data\r\n    Object.keys(form).forEach(k => { if (facility[k] !== undefined) form[k] = facility[k] })\r\n  } catch (err) {\r\n    generalError.value = 'Failed to load facility. Please try again.'\r\n    console.error(err)\r\n  } finally { loading.value = false }\r\n}\r\n\r\nfunction initializeMap() {\r\n  const container = document.getElementById('map-container')\r\n  if (!container) return\r\n\r\n  // Default coordinates (center of map)\r\n  const defaultLat = form.latitude || 14.5994\r\n  const defaultLng = form.longitude || 120.9842\r\n\r\n  map = L.map('map-container').setView([defaultLat, defaultLng], 13)\r\n\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: 'Â© OpenStreetMap contributors',\r\n    maxZoom: 19\r\n  }).addTo(map)\r\n\r\n  // Add marker if coordinates exist\r\n  if (form.latitude && form.longitude) {\r\n    addMarker(form.latitude, form.longitude)\r\n  }\r\n\r\n  // Handle map clicks to set location\r\n  map.on('click', (e) => {\r\n    form.latitude = parseFloat(e.latlng.lat.toFixed(8))\r\n    form.longitude = parseFloat(e.latlng.lng.toFixed(8))\r\n    addMarker(form.latitude, form.longitude)\r\n  })\r\n}\r\n\r\nfunction addMarker(lat, lng) {\r\n  if (marker) {\r\n    map.removeLayer(marker)\r\n  }\r\n  marker = L.marker([lat, lng]).addTo(map)\r\n  map.setView([lat, lng], 13)\r\n}\r\n\r\nasync function submit() {\r\n  submitting.value = true\r\n  generalError.value = ''\r\n  Object.keys(errors).forEach(k => delete errors[k])\r\n\r\n  try {\r\n    const payload = { ...form }\r\n    await axios.put(`${baseUrl}/facilities/${facilityId}`, payload)\r\n    router.push('/facilities')\r\n  } catch (err) {\r\n    if (err.response?.status === 422) Object.assign(errors, err.response.data.errors || {})\r\n    else generalError.value = err.response?.data?.message || 'Failed to update facility.'\r\n  } finally { submitting.value = false }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page-container { min-height: 100vh; background: #f0f4f8; padding: 30px; font-family: 'Inter', sans-serif; }\r\n.content-wrapper { max-width: 900px; margin: 0 auto; }\r\n\r\n.header { display:flex; justify-content:space-between; align-items:center; margin-bottom:30px; }\r\n.title { font-size:2.5rem; font-weight:700; background:linear-gradient(90deg,#6366f1,#4f46e5); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }\r\n.subtitle { font-size:1rem; color:#4b5563; margin-top:4px; }\r\n.back-link { display:flex; align-items:center; gap:6px; font-weight:500; color:#6366f1; text-decoration:none; transition:0.3s; }\r\n.back-link:hover { color:#4338ca; transform:translateX(-3px); }\r\n.icon { width:20px; height:20px; }\r\n\r\n.card { background: rgba(255,255,255,0.98); padding: 30px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); transition:all 0.3s ease; }\r\n.card:hover { transform: translateY(-3px); box-shadow:0 20px 45px rgba(0,0,0,0.15); }\r\n\r\n.label { display:block; font-size:0.875rem; font-weight:500; color:#374151; margin-bottom:6px; }\r\n.input-field { width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:8px; outline:none; transition:0.2s; }\r\n.input-field:focus { border-color:#4f46e5; box-shadow:0 0 0 2px rgba(79,70,229,0.2); }\r\n\r\n.error-text { color:#b91c1c; font-size:0.875rem; margin-top:4px; }\r\n\r\n.form-actions { display:flex; justify-content:end; gap:12px; margin-top:16px; }\r\n.cancel-btn { padding:10px 16px; border:1px solid #d1d5db; border-radius:8px; font-weight:500; color:#374151; text-align:center; }\r\n.cancel-btn:hover { background:#f9fafb; }\r\n.submit-btn { background:#4f46e5; color:#fff; padding:10px 16px; border-radius:8px; font-weight:500; transition:0.2s; }\r\n.submit-btn:hover { background:#4338ca; }\r\n.submit-btn:disabled { opacity:0.6; cursor:not-allowed; }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}